import k from"./GalleryThumbnailList-CMVtG3aV.js";import{r as m,w,o as C,t as d,e as c,f as v,v as g,x as p,I as V,k as $,j as I,H as h,J as j,h as f,c as E,F as S}from"./index-CV6KFYyF.js";const O={class:"h-80 max-h-80 flex items-center justify-center"},B=["textContent"],L=["src","alt"],N={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(a,{emit:i}){const r=a,t=i,o=m(!1),u=m(null),s=m(null);w(()=>r.image,l=>{l.original&&(s.value=null,o.value=!0)});function x(l){l.preventDefault(),o.value=!1,s.value="Image was not found or format is not supported"}function e(){o.value=!1}return C(()=>{u.value.addEventListener("load",e),u.value.addEventListener("error",x)}),(l,n)=>{const b=d("VSpinner"),_=d("ClientOnly");return v(),c("div",O,[g(_,null,{default:$(()=>[o.value?(v(),I(b,{key:0})):p("",!0)]),_:1}),s.value?(v(),c("span",{key:0,textContent:h(s.value)},null,8,B)):p("",!0),V(f("img",{ref_key:"imageElement",ref:u,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:a.image.original,alt:a.image.depictions?.map(y=>y.label).join(";"),onClick:n[0]||(n[0]=y=>t("open:viewer"))},null,8,L),[[j,!s.value]])])}}},D={class:"flex flex-col"},M={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},q={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(a){const i=a,r=m(!1),t=m(0),o=E(()=>i.images[t.value]||{}),u=()=>{t.value--},s=()=>{t.value++};return w(()=>i.images,()=>{t.value=0},{immediate:!0}),(x,e)=>{const l=d("ImageViewer");return v(),c(S,null,[f("div",D,[f("div",M,[g(N,{image:o.value,"onOpen:viewer":e[0]||(e[0]=()=>r.value=!0)},null,8,["image"])]),g(k,{class:"pt-2 pb-2",images:a.images,onSelectIndex:e[1]||(e[1]=n=>{t.value=n})},null,8,["images"])]),r.value?(v(),I(l,{key:0,index:t.value,images:a.images,next:t.value<i.images.length-1,previous:t.value>0,onSelectIndex:e[2]||(e[2]=n=>t.value=n),onNext:e[3]||(e[3]=n=>s()),onPrevious:e[4]||(e[4]=n=>u()),onClose:e[5]||(e[5]=n=>r.value=!1)},null,8,["index","images","next","previous"])):p("",!0)],64)}}};export{q as default};
