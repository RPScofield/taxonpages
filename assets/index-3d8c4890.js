(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerPolicy&&(i.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?i.credentials="include":c.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(c){if(c.ep)return;c.ep=!0;const i=s(c);fetch(c.href,i)}})();function Ua(t,n){const s=Object.create(null),a=t.split(",");for(let c=0;c<a.length;c++)s[a[c]]=!0;return n?c=>!!s[c.toLowerCase()]:c=>!!s[c]}const Te={},di=[],On=()=>{},ld=()=>!1,ud=/^on[^a-z]/,yo=t=>ud.test(t),Za=t=>t.startsWith("onUpdate:"),Ge=Object.assign,qa=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},cd=Object.prototype.hasOwnProperty,ge=(t,n)=>cd.call(t,n),Yt=Array.isArray,fi=t=>gs(t)==="[object Map]",Lc=t=>gs(t)==="[object Set]",ae=t=>typeof t=="function",ze=t=>typeof t=="string",Ka=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",Mc=t=>Oe(t)&&ae(t.then)&&ae(t.catch),Cc=Object.prototype.toString,gs=t=>Cc.call(t),hd=t=>gs(t).slice(8,-1),Pc=t=>gs(t)==="[object Object]",Wa=t=>ze(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qi=Ua(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ys=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},pd=/-(\w)/g,Fn=ys(t=>t.replace(pd,(n,s)=>s?s.toUpperCase():"")),dd=/\B([A-Z])/g,ki=ys(t=>t.replace(dd,"-$1").toLowerCase()),vs=ys(t=>t.charAt(0).toUpperCase()+t.slice(1)),ia=ys(t=>t?`on${vs(t)}`:""),ao=(t,n)=>!Object.is(t,n),Xo=(t,n)=>{for(let s=0;s<t.length;s++)t[s](n)},os=(t,n,s)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:s})},wa=t=>{const n=parseFloat(t);return isNaN(n)?t:n},fd=t=>{const n=ze(t)?Number(t):NaN;return isNaN(n)?t:n};let ru;const xa=()=>ru||(ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Vn(t){if(Yt(t)){const n={};for(let s=0;s<t.length;s++){const a=t[s],c=ze(a)?yd(a):Vn(a);if(c)for(const i in c)n[i]=c[i]}return n}else{if(ze(t))return t;if(Oe(t))return t}}const md=/;(?![^(]*\))/g,_d=/:([^]+)/,gd=/\/\*[^]*?\*\//g;function yd(t){const n={};return t.replace(gd,"").split(md).forEach(s=>{if(s){const a=s.split(_d);a.length>1&&(n[a[0].trim()]=a[1].trim())}}),n}function Ne(t){let n="";if(ze(t))n=t;else if(Yt(t))for(let s=0;s<t.length;s++){const a=Ne(t[s]);a&&(n+=a+" ")}else if(Oe(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}const vd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bd=Ua(vd);function Sc(t){return!!t||t===""}const qt=t=>ze(t)?t:t==null?"":Yt(t)||Oe(t)&&(t.toString===Cc||!ae(t.toString))?JSON.stringify(t,Ec,2):String(t),Ec=(t,n)=>n&&n.__v_isRef?Ec(t,n.value):fi(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[a,c])=>(s[`${a} =>`]=c,s),{})}:Lc(n)?{[`Set(${n.size})`]:[...n.values()]}:Oe(n)&&!Yt(n)&&!Pc(n)?String(n):n;let pn;class Tc{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!n&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=pn;try{return pn=this,n()}finally{pn=s}}}on(){pn=this}off(){pn=this.parent}stop(n){if(this._active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0,this._active=!1}}}function Oc(t){return new Tc(t)}function wd(t,n=pn){n&&n.active&&n.effects.push(t)}function Ac(){return pn}function xd(t){pn&&pn.cleanups.push(t)}const Ja=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Rc=t=>(t.w&kr)>0,Bc=t=>(t.n&kr)>0,kd=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=kr},Ld=t=>{const{deps:n}=t;if(n.length){let s=0;for(let a=0;a<n.length;a++){const c=n[a];Rc(c)&&!Bc(c)?c.delete(t):n[s++]=c,c.w&=~kr,c.n&=~kr}n.length=s}},ss=new WeakMap;let Yi=0,kr=1;const ka=30;let Sn;const $r=Symbol(""),La=Symbol("");class Ya{constructor(n,s=null,a){this.fn=n,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,wd(this,a)}run(){if(!this.active)return this.fn();let n=Sn,s=br;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Sn,Sn=this,br=!0,kr=1<<++Yi,Yi<=ka?kd(this):iu(this),this.fn()}finally{Yi<=ka&&Ld(this),kr=1<<--Yi,Sn=this.parent,br=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Sn===this?this.deferStop=!0:this.active&&(iu(this),this.onStop&&this.onStop(),this.active=!1)}}function iu(t){const{deps:n}=t;if(n.length){for(let s=0;s<n.length;s++)n[s].delete(t);n.length=0}}let br=!0;const Ic=[];function Li(){Ic.push(br),br=!1}function Mi(){const t=Ic.pop();br=t===void 0?!0:t}function un(t,n,s){if(br&&Sn){let a=ss.get(t);a||ss.set(t,a=new Map);let c=a.get(s);c||a.set(s,c=Ja()),Dc(c)}}function Dc(t,n){let s=!1;Yi<=ka?Bc(t)||(t.n|=kr,s=!Rc(t)):s=!t.has(Sn),s&&(t.add(Sn),Sn.deps.push(t))}function nr(t,n,s,a,c,i){const u=ss.get(t);if(!u)return;let h=[];if(n==="clear")h=[...u.values()];else if(s==="length"&&Yt(t)){const f=Number(a);u.forEach((m,g)=>{(g==="length"||g>=f)&&h.push(m)})}else switch(s!==void 0&&h.push(u.get(s)),n){case"add":Yt(t)?Wa(s)&&h.push(u.get("length")):(h.push(u.get($r)),fi(t)&&h.push(u.get(La)));break;case"delete":Yt(t)||(h.push(u.get($r)),fi(t)&&h.push(u.get(La)));break;case"set":fi(t)&&h.push(u.get($r));break}if(h.length===1)h[0]&&Ma(h[0]);else{const f=[];for(const m of h)m&&f.push(...m);Ma(Ja(f))}}function Ma(t,n){const s=Yt(t)?t:[...t];for(const a of s)a.computed&&ou(a);for(const a of s)a.computed||ou(a)}function ou(t,n){(t!==Sn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Md(t,n){var s;return(s=ss.get(t))==null?void 0:s.get(n)}const Cd=Ua("__proto__,__v_isRef,__isVue"),zc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ka)),Pd=Xa(),Sd=Xa(!1,!0),Ed=Xa(!0),su=Td();function Td(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const a=_e(this);for(let i=0,u=this.length;i<u;i++)un(a,"get",i+"");const c=a[n](...s);return c===-1||c===!1?a[n](...s.map(_e)):c}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){Li();const a=_e(this)[n].apply(this,s);return Mi(),a}}),t}function Od(t){const n=_e(this);return un(n,"has",t),n.hasOwnProperty(t)}function Xa(t=!1,n=!1){return function(a,c,i){if(c==="__v_isReactive")return!t;if(c==="__v_isReadonly")return t;if(c==="__v_isShallow")return n;if(c==="__v_raw"&&i===(t?n?qd:Fc:n?Vc:Gc).get(a))return a;const u=Yt(a);if(!t){if(u&&ge(su,c))return Reflect.get(su,c,i);if(c==="hasOwnProperty")return Od}const h=Reflect.get(a,c,i);return(Ka(c)?zc.has(c):Cd(c))||(t||un(a,"get",c),n)?h:De(h)?u&&Wa(c)?h:h.value:Oe(h)?t?$c(h):vo(h):h}}const Ad=jc(),Rd=jc(!0);function jc(t=!1){return function(s,a,c,i){let u=s[a];if(gi(u)&&De(u)&&!De(c))return!1;if(!t&&(!as(c)&&!gi(c)&&(u=_e(u),c=_e(c)),!Yt(s)&&De(u)&&!De(c)))return u.value=c,!0;const h=Yt(s)&&Wa(a)?Number(a)<s.length:ge(s,a),f=Reflect.set(s,a,c,i);return s===_e(i)&&(h?ao(c,u)&&nr(s,"set",a,c):nr(s,"add",a,c)),f}}function Bd(t,n){const s=ge(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&s&&nr(t,"delete",n,void 0),a}function Id(t,n){const s=Reflect.has(t,n);return(!Ka(n)||!zc.has(n))&&un(t,"has",n),s}function Dd(t){return un(t,"iterate",Yt(t)?"length":$r),Reflect.ownKeys(t)}const Nc={get:Pd,set:Ad,deleteProperty:Bd,has:Id,ownKeys:Dd},zd={get:Ed,set(t,n){return!0},deleteProperty(t,n){return!0}},jd=Ge({},Nc,{get:Sd,set:Rd}),Qa=t=>t,bs=t=>Reflect.getPrototypeOf(t);function $o(t,n,s=!1,a=!1){t=t.__v_raw;const c=_e(t),i=_e(n);s||(n!==i&&un(c,"get",n),un(c,"get",i));const{has:u}=bs(c),h=a?Qa:s?nl:lo;if(u.call(c,n))return h(t.get(n));if(u.call(c,i))return h(t.get(i));t!==c&&t.get(n)}function Uo(t,n=!1){const s=this.__v_raw,a=_e(s),c=_e(t);return n||(t!==c&&un(a,"has",t),un(a,"has",c)),t===c?s.has(t):s.has(t)||s.has(c)}function Zo(t,n=!1){return t=t.__v_raw,!n&&un(_e(t),"iterate",$r),Reflect.get(t,"size",t)}function au(t){t=_e(t);const n=_e(this);return bs(n).has.call(n,t)||(n.add(t),nr(n,"add",t,t)),this}function lu(t,n){n=_e(n);const s=_e(this),{has:a,get:c}=bs(s);let i=a.call(s,t);i||(t=_e(t),i=a.call(s,t));const u=c.call(s,t);return s.set(t,n),i?ao(n,u)&&nr(s,"set",t,n):nr(s,"add",t,n),this}function uu(t){const n=_e(this),{has:s,get:a}=bs(n);let c=s.call(n,t);c||(t=_e(t),c=s.call(n,t)),a&&a.call(n,t);const i=n.delete(t);return c&&nr(n,"delete",t,void 0),i}function cu(){const t=_e(this),n=t.size!==0,s=t.clear();return n&&nr(t,"clear",void 0,void 0),s}function qo(t,n){return function(a,c){const i=this,u=i.__v_raw,h=_e(u),f=n?Qa:t?nl:lo;return!t&&un(h,"iterate",$r),u.forEach((m,g)=>a.call(c,f(m),f(g),i))}}function Ko(t,n,s){return function(...a){const c=this.__v_raw,i=_e(c),u=fi(i),h=t==="entries"||t===Symbol.iterator&&u,f=t==="keys"&&u,m=c[t](...a),g=s?Qa:n?nl:lo;return!n&&un(i,"iterate",f?La:$r),{next(){const{value:v,done:M}=m.next();return M?{value:v,done:M}:{value:h?[g(v[0]),g(v[1])]:g(v),done:M}},[Symbol.iterator](){return this}}}}function hr(t){return function(...n){return t==="delete"?!1:this}}function Nd(){const t={get(i){return $o(this,i)},get size(){return Zo(this)},has:Uo,add:au,set:lu,delete:uu,clear:cu,forEach:qo(!1,!1)},n={get(i){return $o(this,i,!1,!0)},get size(){return Zo(this)},has:Uo,add:au,set:lu,delete:uu,clear:cu,forEach:qo(!1,!0)},s={get(i){return $o(this,i,!0)},get size(){return Zo(this,!0)},has(i){return Uo.call(this,i,!0)},add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear"),forEach:qo(!0,!1)},a={get(i){return $o(this,i,!0,!0)},get size(){return Zo(this,!0)},has(i){return Uo.call(this,i,!0)},add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear"),forEach:qo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ko(i,!1,!1),s[i]=Ko(i,!0,!1),n[i]=Ko(i,!1,!0),a[i]=Ko(i,!0,!0)}),[t,s,n,a]}const[Gd,Vd,Fd,Hd]=Nd();function tl(t,n){const s=n?t?Hd:Fd:t?Vd:Gd;return(a,c,i)=>c==="__v_isReactive"?!t:c==="__v_isReadonly"?t:c==="__v_raw"?a:Reflect.get(ge(s,c)&&c in a?s:a,c,i)}const $d={get:tl(!1,!1)},Ud={get:tl(!1,!0)},Zd={get:tl(!0,!1)},Gc=new WeakMap,Vc=new WeakMap,Fc=new WeakMap,qd=new WeakMap;function Kd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wd(t){return t.__v_skip||!Object.isExtensible(t)?0:Kd(hd(t))}function vo(t){return gi(t)?t:el(t,!1,Nc,$d,Gc)}function Hc(t){return el(t,!1,jd,Ud,Vc)}function $c(t){return el(t,!0,zd,Zd,Fc)}function el(t,n,s,a,c){if(!Oe(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const i=c.get(t);if(i)return i;const u=Wd(t);if(u===0)return t;const h=new Proxy(t,u===2?a:s);return c.set(t,h),h}function wr(t){return gi(t)?wr(t.__v_raw):!!(t&&t.__v_isReactive)}function gi(t){return!!(t&&t.__v_isReadonly)}function as(t){return!!(t&&t.__v_isShallow)}function Uc(t){return wr(t)||gi(t)}function _e(t){const n=t&&t.__v_raw;return n?_e(n):t}function ws(t){return os(t,"__v_skip",!0),t}const lo=t=>Oe(t)?vo(t):t,nl=t=>Oe(t)?$c(t):t;function Zc(t){br&&Sn&&(t=_e(t),Dc(t.dep||(t.dep=Ja())))}function qc(t,n){t=_e(t);const s=t.dep;s&&Ma(s)}function De(t){return!!(t&&t.__v_isRef===!0)}function Ft(t){return Kc(t,!1)}function Jd(t){return Kc(t,!0)}function Kc(t,n){return De(t)?t:new Yd(t,n)}class Yd{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:_e(n),this._value=s?n:lo(n)}get value(){return Zc(this),this._value}set value(n){const s=this.__v_isShallow||as(n)||gi(n);n=s?n:_e(n),ao(n,this._rawValue)&&(this._rawValue=n,this._value=s?n:lo(n),qc(this))}}function Wt(t){return De(t)?t.value:t}const Xd={get:(t,n,s)=>Wt(Reflect.get(t,n,s)),set:(t,n,s,a)=>{const c=t[n];return De(c)&&!De(s)?(c.value=s,!0):Reflect.set(t,n,s,a)}};function Wc(t){return wr(t)?t:new Proxy(t,Xd)}function Qd(t){const n=Yt(t)?new Array(t.length):{};for(const s in t)n[s]=ef(t,s);return n}class tf{constructor(n,s,a){this._object=n,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return Md(_e(this._object),this._key)}}function ef(t,n,s){const a=t[n];return De(a)?a:new tf(t,n,s)}class nf{constructor(n,s,a,c){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ya(n,()=>{this._dirty||(this._dirty=!0,qc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=a}get value(){const n=_e(this);return Zc(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function rf(t,n,s=!1){let a,c;const i=ae(t);return i?(a=t,c=On):(a=t.get,c=t.set),new nf(a,c,i||!c,s)}function xr(t,n,s,a){let c;try{c=a?t(...a):t()}catch(i){xs(i,n,s)}return c}function wn(t,n,s,a){if(ae(t)){const i=xr(t,n,s,a);return i&&Mc(i)&&i.catch(u=>{xs(u,n,s)}),i}const c=[];for(let i=0;i<t.length;i++)c.push(wn(t[i],n,s,a));return c}function xs(t,n,s,a=!0){const c=n?n.vnode:null;if(n){let i=n.parent;const u=n.proxy,h=s;for(;i;){const m=i.ec;if(m){for(let g=0;g<m.length;g++)if(m[g](t,u,h)===!1)return}i=i.parent}const f=n.appContext.config.errorHandler;if(f){xr(f,null,10,[t,u,h]);return}}of(t,s,c,a)}function of(t,n,s,a=!0){console.error(t)}let uo=!1,Ca=!1;const Qe=[];let Gn=0;const mi=[];let tr=null,Gr=0;const Jc=Promise.resolve();let rl=null;function ks(t){const n=rl||Jc;return t?n.then(this?t.bind(this):t):n}function sf(t){let n=Gn+1,s=Qe.length;for(;n<s;){const a=n+s>>>1;co(Qe[a])<t?n=a+1:s=a}return n}function il(t){(!Qe.length||!Qe.includes(t,uo&&t.allowRecurse?Gn+1:Gn))&&(t.id==null?Qe.push(t):Qe.splice(sf(t.id),0,t),Yc())}function Yc(){!uo&&!Ca&&(Ca=!0,rl=Jc.then(Xc))}function af(t){const n=Qe.indexOf(t);n>Gn&&Qe.splice(n,1)}function lf(t){Yt(t)?mi.push(...t):(!tr||!tr.includes(t,t.allowRecurse?Gr+1:Gr))&&mi.push(t),Yc()}function hu(t,n=uo?Gn+1:0){for(;n<Qe.length;n++){const s=Qe[n];s&&s.pre&&(Qe.splice(n,1),n--,s())}}function ls(t){if(mi.length){const n=[...new Set(mi)];if(mi.length=0,tr){tr.push(...n);return}for(tr=n,tr.sort((s,a)=>co(s)-co(a)),Gr=0;Gr<tr.length;Gr++)tr[Gr]();tr=null,Gr=0}}const co=t=>t.id==null?1/0:t.id,uf=(t,n)=>{const s=co(t)-co(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function Xc(t){Ca=!1,uo=!0,Qe.sort(uf);const n=On;try{for(Gn=0;Gn<Qe.length;Gn++){const s=Qe[Gn];s&&s.active!==!1&&xr(s,null,14)}}finally{Gn=0,Qe.length=0,ls(),uo=!1,rl=null,(Qe.length||mi.length)&&Xc()}}function cf(t,n,...s){if(t.isUnmounted)return;const a=t.vnode.props||Te;let c=s;const i=n.startsWith("update:"),u=i&&n.slice(7);if(u&&u in a){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:v,trim:M}=a[g]||Te;M&&(c=s.map(A=>ze(A)?A.trim():A)),v&&(c=s.map(wa))}let h,f=a[h=ia(n)]||a[h=ia(Fn(n))];!f&&i&&(f=a[h=ia(ki(n))]),f&&wn(f,t,6,c);const m=a[h+"Once"];if(m){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,wn(m,t,6,c)}}function Qc(t,n,s=!1){const a=n.emitsCache,c=a.get(t);if(c!==void 0)return c;const i=t.emits;let u={},h=!1;if(!ae(t)){const f=m=>{const g=Qc(m,n,!0);g&&(h=!0,Ge(u,g))};!s&&n.mixins.length&&n.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!i&&!h?(Oe(t)&&a.set(t,null),null):(Yt(i)?i.forEach(f=>u[f]=null):Ge(u,i),Oe(t)&&a.set(t,u),u)}function Ls(t,n){return!t||!yo(n)?!1:(n=n.slice(2).replace(/Once$/,""),ge(t,n[0].toLowerCase()+n.slice(1))||ge(t,ki(n))||ge(t,n))}let Ze=null,Ms=null;function us(t){const n=Ze;return Ze=t,Ms=t&&t.type.__scopeId||null,n}function th(t){Ms=t}function eh(){Ms=null}function ct(t,n=Ze,s){if(!n||t._n)return t;const a=(...c)=>{a._d&&ku(-1);const i=us(n);let u;try{u=t(...c)}finally{us(i),a._d&&ku(1)}return u};return a._n=!0,a._c=!0,a._d=!0,a}function oa(t){const{type:n,vnode:s,proxy:a,withProxy:c,props:i,propsOptions:[u],slots:h,attrs:f,emit:m,render:g,renderCache:v,data:M,setupState:A,ctx:S,inheritAttrs:E}=t;let G,C;const P=us(t);try{if(s.shapeFlag&4){const O=c||a;G=Pn(g.call(O,O,v,i,A,M,S)),C=f}else{const O=n;G=Pn(O.length>1?O(i,{attrs:f,slots:h,emit:m}):O(i,null)),C=n.props?f:hf(f)}}catch(O){no.length=0,xs(O,t,1),G=rt(dn)}let j=G;if(C&&E!==!1){const O=Object.keys(C),{shapeFlag:D}=j;O.length&&D&7&&(u&&O.some(Za)&&(C=pf(C,u)),j=Lr(j,C))}return s.dirs&&(j=Lr(j),j.dirs=j.dirs?j.dirs.concat(s.dirs):s.dirs),s.transition&&(j.transition=s.transition),G=j,us(P),G}const hf=t=>{let n;for(const s in t)(s==="class"||s==="style"||yo(s))&&((n||(n={}))[s]=t[s]);return n},pf=(t,n)=>{const s={};for(const a in t)(!Za(a)||!(a.slice(9)in n))&&(s[a]=t[a]);return s};function df(t,n,s){const{props:a,children:c,component:i}=t,{props:u,children:h,patchFlag:f}=n,m=i.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&f>=0){if(f&1024)return!0;if(f&16)return a?pu(a,u,m):!!u;if(f&8){const g=n.dynamicProps;for(let v=0;v<g.length;v++){const M=g[v];if(u[M]!==a[M]&&!Ls(m,M))return!0}}}else return(c||h)&&(!h||!h.$stable)?!0:a===u?!1:a?u?pu(a,u,m):!0:!!u;return!1}function pu(t,n,s){const a=Object.keys(n);if(a.length!==Object.keys(t).length)return!0;for(let c=0;c<a.length;c++){const i=a[c];if(n[i]!==t[i]&&!Ls(s,i))return!0}return!1}function ff({vnode:t,parent:n},s){for(;n&&n.subTree===t;)(t=n.vnode).el=s,n=n.parent}const mf=t=>t.__isSuspense;function nh(t,n){n&&n.pendingBranch?Yt(t)?n.effects.push(...t):n.effects.push(t):lf(t)}const Wo={};function qe(t,n,s){return rh(t,n,s)}function rh(t,n,{immediate:s,deep:a,flush:c,onTrack:i,onTrigger:u}=Te){var h;const f=Ac()===((h=He)==null?void 0:h.scope)?He:null;let m,g=!1,v=!1;if(De(t)?(m=()=>t.value,g=as(t)):wr(t)?(m=()=>t,a=!0):Yt(t)?(v=!0,g=t.some(O=>wr(O)||as(O)),m=()=>t.map(O=>{if(De(O))return O.value;if(wr(O))return Hr(O);if(ae(O))return xr(O,f,2)})):ae(t)?n?m=()=>xr(t,f,2):m=()=>{if(!(f&&f.isUnmounted))return M&&M(),wn(t,f,3,[A])}:m=On,n&&a){const O=m;m=()=>Hr(O())}let M,A=O=>{M=P.onStop=()=>{xr(O,f,4)}},S;if(fo)if(A=On,n?s&&wn(n,f,3,[m(),v?[]:void 0,A]):m(),c==="sync"){const O=lm();S=O.__watcherHandles||(O.__watcherHandles=[])}else return On;let E=v?new Array(t.length).fill(Wo):Wo;const G=()=>{if(P.active)if(n){const O=P.run();(a||g||(v?O.some((D,W)=>ao(D,E[W])):ao(O,E)))&&(M&&M(),wn(n,f,3,[O,E===Wo?void 0:v&&E[0]===Wo?[]:E,A]),E=O)}else P.run()};G.allowRecurse=!!n;let C;c==="sync"?C=G:c==="post"?C=()=>an(G,f&&f.suspense):(G.pre=!0,f&&(G.id=f.uid),C=()=>il(G));const P=new Ya(m,C);n?s?G():E=P.run():c==="post"?an(P.run.bind(P),f&&f.suspense):P.run();const j=()=>{P.stop(),f&&f.scope&&qa(f.scope.effects,P)};return S&&S.push(j),j}function _f(t,n,s){const a=this.proxy,c=ze(t)?t.includes(".")?ih(a,t):()=>a[t]:t.bind(a,a);let i;ae(n)?i=n:(i=n.handler,s=n);const u=He;vi(this);const h=rh(c,i.bind(a),s);return u?vi(u):Ur(),h}function ih(t,n){const s=n.split(".");return()=>{let a=t;for(let c=0;c<s.length&&a;c++)a=a[s[c]];return a}}function Hr(t,n){if(!Oe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),De(t))Hr(t.value,n);else if(Yt(t))for(let s=0;s<t.length;s++)Hr(t[s],n);else if(Lc(t)||fi(t))t.forEach(s=>{Hr(s,n)});else if(Pc(t))for(const s in t)Hr(t[s],n);return t}function bo(t,n){const s=Ze;if(s===null)return t;const a=Es(s)||s.proxy,c=t.dirs||(t.dirs=[]);for(let i=0;i<n.length;i++){let[u,h,f,m=Te]=n[i];u&&(ae(u)&&(u={mounted:u,updated:u}),u.deep&&Hr(h),c.push({dir:u,instance:a,value:h,oldValue:void 0,arg:f,modifiers:m}))}return t}function Nn(t,n,s,a){const c=t.dirs,i=n&&n.dirs;for(let u=0;u<c.length;u++){const h=c[u];i&&(h.oldValue=i[u].value);let f=h.dir[a];f&&(Li(),wn(f,s,8,[t.el,h,t,n]),Mi())}}function gf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ke(()=>{t.isMounted=!0}),ir(()=>{t.isUnmounting=!0}),t}const vn=[Function,Array],oh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vn,onEnter:vn,onAfterEnter:vn,onEnterCancelled:vn,onBeforeLeave:vn,onLeave:vn,onAfterLeave:vn,onLeaveCancelled:vn,onBeforeAppear:vn,onAppear:vn,onAfterAppear:vn,onAppearCancelled:vn},yf={name:"BaseTransition",props:oh,setup(t,{slots:n}){const s=Mh(),a=gf();let c;return()=>{const i=n.default&&ah(n.default(),!0);if(!i||!i.length)return;let u=i[0];if(i.length>1){for(const E of i)if(E.type!==dn){u=E;break}}const h=_e(t),{mode:f}=h;if(a.isLeaving)return sa(u);const m=du(u);if(!m)return sa(u);const g=Pa(m,h,a,s);Sa(m,g);const v=s.subTree,M=v&&du(v);let A=!1;const{getTransitionKey:S}=m.type;if(S){const E=S();c===void 0?c=E:E!==c&&(c=E,A=!0)}if(M&&M.type!==dn&&(!Vr(m,M)||A)){const E=Pa(M,h,a,s);if(Sa(M,E),f==="out-in")return a.isLeaving=!0,E.afterLeave=()=>{a.isLeaving=!1,s.update.active!==!1&&s.update()},sa(u);f==="in-out"&&m.type!==dn&&(E.delayLeave=(G,C,P)=>{const j=sh(a,M);j[String(M.key)]=M,G._leaveCb=()=>{C(),G._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=P})}return u}}},vf=yf;function sh(t,n){const{leavingVNodes:s}=t;let a=s.get(n.type);return a||(a=Object.create(null),s.set(n.type,a)),a}function Pa(t,n,s,a){const{appear:c,mode:i,persisted:u=!1,onBeforeEnter:h,onEnter:f,onAfterEnter:m,onEnterCancelled:g,onBeforeLeave:v,onLeave:M,onAfterLeave:A,onLeaveCancelled:S,onBeforeAppear:E,onAppear:G,onAfterAppear:C,onAppearCancelled:P}=n,j=String(t.key),O=sh(s,t),D=(J,it)=>{J&&wn(J,a,9,it)},W=(J,it)=>{const ht=it[1];D(J,it),Yt(J)?J.every(_t=>_t.length<=1)&&ht():J.length<=1&&ht()},ot={mode:i,persisted:u,beforeEnter(J){let it=h;if(!s.isMounted)if(c)it=E||h;else return;J._leaveCb&&J._leaveCb(!0);const ht=O[j];ht&&Vr(t,ht)&&ht.el._leaveCb&&ht.el._leaveCb(),D(it,[J])},enter(J){let it=f,ht=m,_t=g;if(!s.isMounted)if(c)it=G||f,ht=C||m,_t=P||g;else return;let at=!1;const bt=J._enterCb=Lt=>{at||(at=!0,Lt?D(_t,[J]):D(ht,[J]),ot.delayedLeave&&ot.delayedLeave(),J._enterCb=void 0)};it?W(it,[J,bt]):bt()},leave(J,it){const ht=String(t.key);if(J._enterCb&&J._enterCb(!0),s.isUnmounting)return it();D(v,[J]);let _t=!1;const at=J._leaveCb=bt=>{_t||(_t=!0,it(),bt?D(S,[J]):D(A,[J]),J._leaveCb=void 0,O[ht]===t&&delete O[ht])};O[ht]=t,M?W(M,[J,at]):at()},clone(J){return Pa(J,n,s,a)}};return ot}function sa(t){if(Cs(t))return t=Lr(t),t.children=null,t}function du(t){return Cs(t)?t.children?t.children[0]:void 0:t}function Sa(t,n){t.shapeFlag&6&&t.component?Sa(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function ah(t,n=!1,s){let a=[],c=0;for(let i=0;i<t.length;i++){let u=t[i];const h=s==null?u.key:String(s)+String(u.key!=null?u.key:i);u.type===Gt?(u.patchFlag&128&&c++,a=a.concat(ah(u.children,n,h))):(n||u.type!==dn)&&a.push(h!=null?Lr(u,{key:h}):u)}if(c>1)for(let i=0;i<a.length;i++)a[i].patchFlag=-2;return a}function lh(t,n){return ae(t)?(()=>Ge({name:t.name},n,{setup:t}))():t}const _i=t=>!!t.type.__asyncLoader,Cs=t=>t.type.__isKeepAlive;function bf(t,n){uh(t,"a",n)}function wf(t,n){uh(t,"da",n)}function uh(t,n,s=He){const a=t.__wdc||(t.__wdc=()=>{let c=s;for(;c;){if(c.isDeactivated)return;c=c.parent}return t()});if(Ps(n,a,s),s){let c=s.parent;for(;c&&c.parent;)Cs(c.parent.vnode)&&xf(a,n,s,c),c=c.parent}}function xf(t,n,s,a){const c=Ps(n,t,a,!0);Zr(()=>{qa(a[n],c)},s)}function Ps(t,n,s=He,a=!1){if(s){const c=s[t]||(s[t]=[]),i=n.__weh||(n.__weh=(...u)=>{if(s.isUnmounted)return;Li(),vi(s);const h=wn(n,s,t,u);return Ur(),Mi(),h});return a?c.unshift(i):c.push(i),i}}const rr=t=>(n,s=He)=>(!fo||t==="sp")&&Ps(t,(...a)=>n(...a),s),ch=rr("bm"),Ke=rr("m"),kf=rr("bu"),Lf=rr("u"),ir=rr("bum"),Zr=rr("um"),ol=rr("sp"),Mf=rr("rtg"),Cf=rr("rtc");function Pf(t,n=He){Ps("ec",t,n)}const sl="components";function ut(t,n){return ph(sl,t,!0,n)||t}const hh=Symbol.for("v-ndc");function Ci(t){return ze(t)?ph(sl,t,!1)||t:t||hh}function ph(t,n,s=!0,a=!1){const c=Ze||He;if(c){const i=c.type;if(t===sl){const h=om(i,!1);if(h&&(h===n||h===Fn(n)||h===vs(Fn(n))))return i}const u=fu(c[t]||i[t],n)||fu(c.appContext[t],n);return!u&&a?i:u}}function fu(t,n){return t&&(t[n]||t[Fn(n)]||t[vs(Fn(n))])}function de(t,n,s,a){let c;const i=s&&s[a];if(Yt(t)||ze(t)){c=new Array(t.length);for(let u=0,h=t.length;u<h;u++)c[u]=n(t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){c=new Array(t);for(let u=0;u<t;u++)c[u]=n(u+1,u,void 0,i&&i[u])}else if(Oe(t))if(t[Symbol.iterator])c=Array.from(t,(u,h)=>n(u,h,void 0,i&&i[h]));else{const u=Object.keys(t);c=new Array(u.length);for(let h=0,f=u.length;h<f;h++){const m=u[h];c[h]=n(t[m],m,h,i&&i[h])}}else c=[];return s&&(s[a]=c),c}function Se(t,n,s={},a,c){if(Ze.isCE||Ze.parent&&_i(Ze.parent)&&Ze.parent.isCE)return n!=="default"&&(s.name=n),rt("slot",s,a&&a());let i=t[n];i&&i._c&&(i._d=!1),N();const u=i&&dh(i(s)),h=Pt(Gt,{key:s.key||u&&u.key||`_${n}`},u||(a?a():[]),u&&t._===1?64:-2);return!c&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),i&&i._c&&(i._d=!0),h}function dh(t){return t.some(n=>ps(n)?!(n.type===dn||n.type===Gt&&!dh(n.children)):!0)?t:null}const Ea=t=>t?Ch(t)?Es(t)||t.proxy:Ea(t.parent):null,to=Ge(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ea(t.parent),$root:t=>Ea(t.root),$emit:t=>t.emit,$options:t=>al(t),$forceUpdate:t=>t.f||(t.f=()=>il(t.update)),$nextTick:t=>t.n||(t.n=ks.bind(t.proxy)),$watch:t=>_f.bind(t)}),aa=(t,n)=>t!==Te&&!t.__isScriptSetup&&ge(t,n),Sf={get({_:t},n){const{ctx:s,setupState:a,data:c,props:i,accessCache:u,type:h,appContext:f}=t;let m;if(n[0]!=="$"){const A=u[n];if(A!==void 0)switch(A){case 1:return a[n];case 2:return c[n];case 4:return s[n];case 3:return i[n]}else{if(aa(a,n))return u[n]=1,a[n];if(c!==Te&&ge(c,n))return u[n]=2,c[n];if((m=t.propsOptions[0])&&ge(m,n))return u[n]=3,i[n];if(s!==Te&&ge(s,n))return u[n]=4,s[n];Ta&&(u[n]=0)}}const g=to[n];let v,M;if(g)return n==="$attrs"&&un(t,"get",n),g(t);if((v=h.__cssModules)&&(v=v[n]))return v;if(s!==Te&&ge(s,n))return u[n]=4,s[n];if(M=f.config.globalProperties,ge(M,n))return M[n]},set({_:t},n,s){const{data:a,setupState:c,ctx:i}=t;return aa(c,n)?(c[n]=s,!0):a!==Te&&ge(a,n)?(a[n]=s,!0):ge(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(i[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:a,appContext:c,propsOptions:i}},u){let h;return!!s[u]||t!==Te&&ge(t,u)||aa(n,u)||(h=i[0])&&ge(h,u)||ge(a,u)||ge(to,u)||ge(c.config.globalProperties,u)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:ge(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};function Ef(){return Tf().slots}function Tf(){const t=Mh();return t.setupContext||(t.setupContext=Sh(t))}function mu(t){return Yt(t)?t.reduce((n,s)=>(n[s]=null,n),{}):t}let Ta=!0;function Of(t){const n=al(t),s=t.proxy,a=t.ctx;Ta=!1,n.beforeCreate&&_u(n.beforeCreate,t,"bc");const{data:c,computed:i,methods:u,watch:h,provide:f,inject:m,created:g,beforeMount:v,mounted:M,beforeUpdate:A,updated:S,activated:E,deactivated:G,beforeDestroy:C,beforeUnmount:P,destroyed:j,unmounted:O,render:D,renderTracked:W,renderTriggered:ot,errorCaptured:J,serverPrefetch:it,expose:ht,inheritAttrs:_t,components:at,directives:bt,filters:Lt}=n;if(m&&Af(m,a,null),u)for(const $t in u){const wt=u[$t];ae(wt)&&(a[$t]=wt.bind(s))}if(c){const $t=c.call(s,s);Oe($t)&&(t.data=vo($t))}if(Ta=!0,i)for(const $t in i){const wt=i[$t],fe=ae(wt)?wt.bind(s,s):ae(wt.get)?wt.get.bind(s,s):On,zt=!ae(wt)&&ae(wt.set)?wt.set.bind(s):On,It=Jt({get:fe,set:zt});Object.defineProperty(a,$t,{enumerable:!0,configurable:!0,get:()=>It.value,set:Ut=>It.value=Ut})}if(h)for(const $t in h)fh(h[$t],a,s,$t);if(f){const $t=ae(f)?f.call(s):f;Reflect.ownKeys($t).forEach(wt=>{Qo(wt,$t[wt])})}g&&_u(g,t,"c");function Ct($t,wt){Yt(wt)?wt.forEach(fe=>$t(fe.bind(s))):wt&&$t(wt.bind(s))}if(Ct(ch,v),Ct(Ke,M),Ct(kf,A),Ct(Lf,S),Ct(bf,E),Ct(wf,G),Ct(Pf,J),Ct(Cf,W),Ct(Mf,ot),Ct(ir,P),Ct(Zr,O),Ct(ol,it),Yt(ht))if(ht.length){const $t=t.exposed||(t.exposed={});ht.forEach(wt=>{Object.defineProperty($t,wt,{get:()=>s[wt],set:fe=>s[wt]=fe})})}else t.exposed||(t.exposed={});D&&t.render===On&&(t.render=D),_t!=null&&(t.inheritAttrs=_t),at&&(t.components=at),bt&&(t.directives=bt)}function Af(t,n,s=On){Yt(t)&&(t=Oa(t));for(const a in t){const c=t[a];let i;Oe(c)?"default"in c?i=xn(c.from||a,c.default,!0):i=xn(c.from||a):i=xn(c),De(i)?Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:()=>i.value,set:u=>i.value=u}):n[a]=i}}function _u(t,n,s){wn(Yt(t)?t.map(a=>a.bind(n.proxy)):t.bind(n.proxy),n,s)}function fh(t,n,s,a){const c=a.includes(".")?ih(s,a):()=>s[a];if(ze(t)){const i=n[t];ae(i)&&qe(c,i)}else if(ae(t))qe(c,t.bind(s));else if(Oe(t))if(Yt(t))t.forEach(i=>fh(i,n,s,a));else{const i=ae(t.handler)?t.handler.bind(s):n[t.handler];ae(i)&&qe(c,i,t)}}function al(t){const n=t.type,{mixins:s,extends:a}=n,{mixins:c,optionsCache:i,config:{optionMergeStrategies:u}}=t.appContext,h=i.get(n);let f;return h?f=h:!c.length&&!s&&!a?f=n:(f={},c.length&&c.forEach(m=>cs(f,m,u,!0)),cs(f,n,u)),Oe(n)&&i.set(n,f),f}function cs(t,n,s,a=!1){const{mixins:c,extends:i}=n;i&&cs(t,i,s,!0),c&&c.forEach(u=>cs(t,u,s,!0));for(const u in n)if(!(a&&u==="expose")){const h=Rf[u]||s&&s[u];t[u]=h?h(t[u],n[u]):n[u]}return t}const Rf={data:gu,props:yu,emits:yu,methods:Xi,computed:Xi,beforeCreate:en,created:en,beforeMount:en,mounted:en,beforeUpdate:en,updated:en,beforeDestroy:en,beforeUnmount:en,destroyed:en,unmounted:en,activated:en,deactivated:en,errorCaptured:en,serverPrefetch:en,components:Xi,directives:Xi,watch:If,provide:gu,inject:Bf};function gu(t,n){return n?t?function(){return Ge(ae(t)?t.call(this,this):t,ae(n)?n.call(this,this):n)}:n:t}function Bf(t,n){return Xi(Oa(t),Oa(n))}function Oa(t){if(Yt(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function en(t,n){return t?[...new Set([].concat(t,n))]:n}function Xi(t,n){return t?Ge(Object.create(null),t,n):n}function yu(t,n){return t?Yt(t)&&Yt(n)?[...new Set([...t,...n])]:Ge(Object.create(null),mu(t),mu(n??{})):n}function If(t,n){if(!t)return n;if(!n)return t;const s=Ge(Object.create(null),t);for(const a in n)s[a]=en(t[a],n[a]);return s}function mh(){return{app:null,config:{isNativeTag:ld,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Df=0;function zf(t,n){return function(a,c=null){ae(a)||(a=Ge({},a)),c!=null&&!Oe(c)&&(c=null);const i=mh(),u=new Set;let h=!1;const f=i.app={_uid:Df++,_component:a,_props:c,_container:null,_context:i,_instance:null,version:um,get config(){return i.config},set config(m){},use(m,...g){return u.has(m)||(m&&ae(m.install)?(u.add(m),m.install(f,...g)):ae(m)&&(u.add(m),m(f,...g))),f},mixin(m){return i.mixins.includes(m)||i.mixins.push(m),f},component(m,g){return g?(i.components[m]=g,f):i.components[m]},directive(m,g){return g?(i.directives[m]=g,f):i.directives[m]},mount(m,g,v){if(!h){const M=rt(a,c);return M.appContext=i,g&&n?n(M,m):t(M,m,v),h=!0,f._container=m,m.__vue_app__=f,Es(M.component)||M.component.proxy}},unmount(){h&&(t(null,f._container),delete f._container.__vue_app__)},provide(m,g){return i.provides[m]=g,f},runWithContext(m){ho=f;try{return m()}finally{ho=null}}};return f}}let ho=null;function Qo(t,n){if(He){let s=He.provides;const a=He.parent&&He.parent.provides;a===s&&(s=He.provides=Object.create(a)),s[t]=n}}function xn(t,n,s=!1){const a=He||Ze;if(a||ho){const c=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:ho._context.provides;if(c&&t in c)return c[t];if(arguments.length>1)return s&&ae(n)?n.call(a&&a.proxy):n}}function jf(){return!!(He||Ze||ho)}function Nf(t,n,s,a=!1){const c={},i={};os(i,Ss,1),t.propsDefaults=Object.create(null),_h(t,n,c,i);for(const u in t.propsOptions[0])u in c||(c[u]=void 0);s?t.props=a?c:Hc(c):t.type.props?t.props=c:t.props=i,t.attrs=i}function Gf(t,n,s,a){const{props:c,attrs:i,vnode:{patchFlag:u}}=t,h=_e(c),[f]=t.propsOptions;let m=!1;if((a||u>0)&&!(u&16)){if(u&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let M=g[v];if(Ls(t.emitsOptions,M))continue;const A=n[M];if(f)if(ge(i,M))A!==i[M]&&(i[M]=A,m=!0);else{const S=Fn(M);c[S]=Aa(f,h,S,A,t,!1)}else A!==i[M]&&(i[M]=A,m=!0)}}}else{_h(t,n,c,i)&&(m=!0);let g;for(const v in h)(!n||!ge(n,v)&&((g=ki(v))===v||!ge(n,g)))&&(f?s&&(s[v]!==void 0||s[g]!==void 0)&&(c[v]=Aa(f,h,v,void 0,t,!0)):delete c[v]);if(i!==h)for(const v in i)(!n||!ge(n,v))&&(delete i[v],m=!0)}m&&nr(t,"set","$attrs")}function _h(t,n,s,a){const[c,i]=t.propsOptions;let u=!1,h;if(n)for(let f in n){if(Qi(f))continue;const m=n[f];let g;c&&ge(c,g=Fn(f))?!i||!i.includes(g)?s[g]=m:(h||(h={}))[g]=m:Ls(t.emitsOptions,f)||(!(f in a)||m!==a[f])&&(a[f]=m,u=!0)}if(i){const f=_e(s),m=h||Te;for(let g=0;g<i.length;g++){const v=i[g];s[v]=Aa(c,f,v,m[v],t,!ge(m,v))}}return u}function Aa(t,n,s,a,c,i){const u=t[s];if(u!=null){const h=ge(u,"default");if(h&&a===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&ae(f)){const{propsDefaults:m}=c;s in m?a=m[s]:(vi(c),a=m[s]=f.call(null,n),Ur())}else a=f}u[0]&&(i&&!h?a=!1:u[1]&&(a===""||a===ki(s))&&(a=!0))}return a}function gh(t,n,s=!1){const a=n.propsCache,c=a.get(t);if(c)return c;const i=t.props,u={},h=[];let f=!1;if(!ae(t)){const g=v=>{f=!0;const[M,A]=gh(v,n,!0);Ge(u,M),A&&h.push(...A)};!s&&n.mixins.length&&n.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!i&&!f)return Oe(t)&&a.set(t,di),di;if(Yt(i))for(let g=0;g<i.length;g++){const v=Fn(i[g]);vu(v)&&(u[v]=Te)}else if(i)for(const g in i){const v=Fn(g);if(vu(v)){const M=i[g],A=u[v]=Yt(M)||ae(M)?{type:M}:Ge({},M);if(A){const S=xu(Boolean,A.type),E=xu(String,A.type);A[0]=S>-1,A[1]=E<0||S<E,(S>-1||ge(A,"default"))&&h.push(v)}}}const m=[u,h];return Oe(t)&&a.set(t,m),m}function vu(t){return t[0]!=="$"}function bu(t){const n=t&&t.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:t===null?"null":""}function wu(t,n){return bu(t)===bu(n)}function xu(t,n){return Yt(n)?n.findIndex(s=>wu(s,t)):ae(n)&&wu(n,t)?0:-1}const yh=t=>t[0]==="_"||t==="$stable",ll=t=>Yt(t)?t.map(Pn):[Pn(t)],Vf=(t,n,s)=>{if(n._n)return n;const a=ct((...c)=>ll(n(...c)),s);return a._c=!1,a},vh=(t,n,s)=>{const a=t._ctx;for(const c in t){if(yh(c))continue;const i=t[c];if(ae(i))n[c]=Vf(c,i,a);else if(i!=null){const u=ll(i);n[c]=()=>u}}},bh=(t,n)=>{const s=ll(n);t.slots.default=()=>s},Ff=(t,n)=>{if(t.vnode.shapeFlag&32){const s=n._;s?(t.slots=_e(n),os(n,"_",s)):vh(n,t.slots={})}else t.slots={},n&&bh(t,n);os(t.slots,Ss,1)},Hf=(t,n,s)=>{const{vnode:a,slots:c}=t;let i=!0,u=Te;if(a.shapeFlag&32){const h=n._;h?s&&h===1?i=!1:(Ge(c,n),!s&&h===1&&delete c._):(i=!n.$stable,vh(n,c)),u=n}else n&&(bh(t,n),u={default:1});if(i)for(const h in c)!yh(h)&&!(h in u)&&delete c[h]};function hs(t,n,s,a,c=!1){if(Yt(t)){t.forEach((M,A)=>hs(M,n&&(Yt(n)?n[A]:n),s,a,c));return}if(_i(a)&&!c)return;const i=a.shapeFlag&4?Es(a.component)||a.component.proxy:a.el,u=c?null:i,{i:h,r:f}=t,m=n&&n.r,g=h.refs===Te?h.refs={}:h.refs,v=h.setupState;if(m!=null&&m!==f&&(ze(m)?(g[m]=null,ge(v,m)&&(v[m]=null)):De(m)&&(m.value=null)),ae(f))xr(f,h,12,[u,g]);else{const M=ze(f),A=De(f);if(M||A){const S=()=>{if(t.f){const E=M?ge(v,f)?v[f]:g[f]:f.value;c?Yt(E)&&qa(E,i):Yt(E)?E.includes(i)||E.push(i):M?(g[f]=[i],ge(v,f)&&(v[f]=g[f])):(f.value=[i],t.k&&(g[t.k]=f.value))}else M?(g[f]=u,ge(v,f)&&(v[f]=u)):A&&(f.value=u,t.k&&(g[t.k]=u))};u?(S.id=-1,an(S,s)):S()}}}let pr=!1;const Jo=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",Yo=t=>t.nodeType===8;function $f(t){const{mt:n,p:s,o:{patchProp:a,createText:c,nextSibling:i,parentNode:u,remove:h,insert:f,createComment:m}}=t,g=(C,P)=>{if(!P.hasChildNodes()){s(null,C,P),ls(),P._vnode=C;return}pr=!1,v(P.firstChild,C,null,null,null),ls(),P._vnode=C,pr&&console.error("Hydration completed but contains mismatches.")},v=(C,P,j,O,D,W=!1)=>{const ot=Yo(C)&&C.data==="[",J=()=>E(C,P,j,O,D,ot),{type:it,ref:ht,shapeFlag:_t,patchFlag:at}=P;let bt=C.nodeType;P.el=C,at===-2&&(W=!1,P.dynamicChildren=null);let Lt=null;switch(it){case yi:bt!==3?P.children===""?(f(P.el=c(""),u(C),C),Lt=C):Lt=J():(C.data!==P.children&&(pr=!0,C.data=P.children),Lt=i(C));break;case dn:bt!==8||ot?Lt=J():Lt=i(C);break;case eo:if(ot&&(C=i(C),bt=C.nodeType),bt===1||bt===3){Lt=C;const Tt=!P.children.length;for(let Ct=0;Ct<P.staticCount;Ct++)Tt&&(P.children+=Lt.nodeType===1?Lt.outerHTML:Lt.data),Ct===P.staticCount-1&&(P.anchor=Lt),Lt=i(Lt);return ot?i(Lt):Lt}else J();break;case Gt:ot?Lt=S(C,P,j,O,D,W):Lt=J();break;default:if(_t&1)bt!==1||P.type.toLowerCase()!==C.tagName.toLowerCase()?Lt=J():Lt=M(C,P,j,O,D,W);else if(_t&6){P.slotScopeIds=D;const Tt=u(C);if(n(P,Tt,null,j,O,Jo(Tt),W),Lt=ot?G(C):i(C),Lt&&Yo(Lt)&&Lt.data==="teleport end"&&(Lt=i(Lt)),_i(P)){let Ct;ot?(Ct=rt(Gt),Ct.anchor=Lt?Lt.previousSibling:Tt.lastChild):Ct=C.nodeType===3?ee(""):rt("div"),Ct.el=C,P.component.subTree=Ct}}else _t&64?bt!==8?Lt=J():Lt=P.type.hydrate(C,P,j,O,D,W,t,A):_t&128&&(Lt=P.type.hydrate(C,P,j,O,Jo(u(C)),D,W,t,v))}return ht!=null&&hs(ht,null,O,P),Lt},M=(C,P,j,O,D,W)=>{W=W||!!P.dynamicChildren;const{type:ot,props:J,patchFlag:it,shapeFlag:ht,dirs:_t}=P,at=ot==="input"&&_t||ot==="option";if(at||it!==-1){if(_t&&Nn(P,null,j,"created"),J)if(at||!W||it&48)for(const Lt in J)(at&&Lt.endsWith("value")||yo(Lt)&&!Qi(Lt))&&a(C,Lt,null,J[Lt],!1,void 0,j);else J.onClick&&a(C,"onClick",null,J.onClick,!1,void 0,j);let bt;if((bt=J&&J.onVnodeBeforeMount)&&bn(bt,j,P),_t&&Nn(P,null,j,"beforeMount"),((bt=J&&J.onVnodeMounted)||_t)&&nh(()=>{bt&&bn(bt,j,P),_t&&Nn(P,null,j,"mounted")},O),ht&16&&!(J&&(J.innerHTML||J.textContent))){let Lt=A(C.firstChild,P,C,j,O,D,W);for(;Lt;){pr=!0;const Tt=Lt;Lt=Lt.nextSibling,h(Tt)}}else ht&8&&C.textContent!==P.children&&(pr=!0,C.textContent=P.children)}return C.nextSibling},A=(C,P,j,O,D,W,ot)=>{ot=ot||!!P.dynamicChildren;const J=P.children,it=J.length;for(let ht=0;ht<it;ht++){const _t=ot?J[ht]:J[ht]=Pn(J[ht]);if(C)C=v(C,_t,O,D,W,ot);else{if(_t.type===yi&&!_t.children)continue;pr=!0,s(null,_t,j,null,O,D,Jo(j),W)}}return C},S=(C,P,j,O,D,W)=>{const{slotScopeIds:ot}=P;ot&&(D=D?D.concat(ot):ot);const J=u(C),it=A(i(C),P,J,j,O,D,W);return it&&Yo(it)&&it.data==="]"?i(P.anchor=it):(pr=!0,f(P.anchor=m("]"),J,it),it)},E=(C,P,j,O,D,W)=>{if(pr=!0,P.el=null,W){const it=G(C);for(;;){const ht=i(C);if(ht&&ht!==it)h(ht);else break}}const ot=i(C),J=u(C);return h(C),s(null,P,J,ot,j,O,Jo(J),D),ot},G=C=>{let P=0;for(;C;)if(C=i(C),C&&Yo(C)&&(C.data==="["&&P++,C.data==="]")){if(P===0)return i(C);P--}return C};return[g,v]}const an=nh;function Uf(t){return Zf(t,$f)}function Zf(t,n){const s=xa();s.__VUE__=!0;const{insert:a,remove:c,patchProp:i,createElement:u,createText:h,createComment:f,setText:m,setElementText:g,parentNode:v,nextSibling:M,setScopeId:A=On,insertStaticContent:S}=t,E=(H,K,Q,dt=null,gt=null,xt=null,At=!1,I=null,w=!!K.dynamicChildren)=>{if(H===K)return;H&&!Vr(H,K)&&(dt=ft(H),Ut(H,gt,xt,!0),H=null),K.patchFlag===-2&&(w=!1,K.dynamicChildren=null);const{type:k,ref:R,shapeFlag:z}=K;switch(k){case yi:G(H,K,Q,dt);break;case dn:C(H,K,Q,dt);break;case eo:H==null&&P(K,Q,dt,At);break;case Gt:at(H,K,Q,dt,gt,xt,At,I,w);break;default:z&1?D(H,K,Q,dt,gt,xt,At,I,w):z&6?bt(H,K,Q,dt,gt,xt,At,I,w):(z&64||z&128)&&k.process(H,K,Q,dt,gt,xt,At,I,w,Et)}R!=null&&gt&&hs(R,H&&H.ref,xt,K||H,!K)},G=(H,K,Q,dt)=>{if(H==null)a(K.el=h(K.children),Q,dt);else{const gt=K.el=H.el;K.children!==H.children&&m(gt,K.children)}},C=(H,K,Q,dt)=>{H==null?a(K.el=f(K.children||""),Q,dt):K.el=H.el},P=(H,K,Q,dt)=>{[H.el,H.anchor]=S(H.children,K,Q,dt,H.el,H.anchor)},j=({el:H,anchor:K},Q,dt)=>{let gt;for(;H&&H!==K;)gt=M(H),a(H,Q,dt),H=gt;a(K,Q,dt)},O=({el:H,anchor:K})=>{let Q;for(;H&&H!==K;)Q=M(H),c(H),H=Q;c(K)},D=(H,K,Q,dt,gt,xt,At,I,w)=>{At=At||K.type==="svg",H==null?W(K,Q,dt,gt,xt,At,I,w):it(H,K,gt,xt,At,I,w)},W=(H,K,Q,dt,gt,xt,At,I)=>{let w,k;const{type:R,props:z,shapeFlag:F,transition:et,dirs:st}=H;if(w=H.el=u(H.type,xt,z&&z.is,z),F&8?g(w,H.children):F&16&&J(H.children,w,null,dt,gt,xt&&R!=="foreignObject",At,I),st&&Nn(H,null,dt,"created"),ot(w,H,H.scopeId,At,dt),z){for(const Ot in z)Ot!=="value"&&!Qi(Ot)&&i(w,Ot,null,z[Ot],xt,H.children,dt,gt,Vt);"value"in z&&i(w,"value",null,z.value),(k=z.onVnodeBeforeMount)&&bn(k,dt,H)}st&&Nn(H,null,dt,"beforeMount");const vt=(!gt||gt&&!gt.pendingBranch)&&et&&!et.persisted;vt&&et.beforeEnter(w),a(w,K,Q),((k=z&&z.onVnodeMounted)||vt||st)&&an(()=>{k&&bn(k,dt,H),vt&&et.enter(w),st&&Nn(H,null,dt,"mounted")},gt)},ot=(H,K,Q,dt,gt)=>{if(Q&&A(H,Q),dt)for(let xt=0;xt<dt.length;xt++)A(H,dt[xt]);if(gt){let xt=gt.subTree;if(K===xt){const At=gt.vnode;ot(H,At,At.scopeId,At.slotScopeIds,gt.parent)}}},J=(H,K,Q,dt,gt,xt,At,I,w=0)=>{for(let k=w;k<H.length;k++){const R=H[k]=I?yr(H[k]):Pn(H[k]);E(null,R,K,Q,dt,gt,xt,At,I)}},it=(H,K,Q,dt,gt,xt,At)=>{const I=K.el=H.el;let{patchFlag:w,dynamicChildren:k,dirs:R}=K;w|=H.patchFlag&16;const z=H.props||Te,F=K.props||Te;let et;Q&&zr(Q,!1),(et=F.onVnodeBeforeUpdate)&&bn(et,Q,K,H),R&&Nn(K,H,Q,"beforeUpdate"),Q&&zr(Q,!0);const st=gt&&K.type!=="foreignObject";if(k?ht(H.dynamicChildren,k,I,Q,dt,st,xt):At||wt(H,K,I,null,Q,dt,st,xt,!1),w>0){if(w&16)_t(I,K,z,F,Q,dt,gt);else if(w&2&&z.class!==F.class&&i(I,"class",null,F.class,gt),w&4&&i(I,"style",z.style,F.style,gt),w&8){const vt=K.dynamicProps;for(let Ot=0;Ot<vt.length;Ot++){const Nt=vt[Ot],Xt=z[Nt],ne=F[Nt];(ne!==Xt||Nt==="value")&&i(I,Nt,Xt,ne,gt,H.children,Q,dt,Vt)}}w&1&&H.children!==K.children&&g(I,K.children)}else!At&&k==null&&_t(I,K,z,F,Q,dt,gt);((et=F.onVnodeUpdated)||R)&&an(()=>{et&&bn(et,Q,K,H),R&&Nn(K,H,Q,"updated")},dt)},ht=(H,K,Q,dt,gt,xt,At)=>{for(let I=0;I<K.length;I++){const w=H[I],k=K[I],R=w.el&&(w.type===Gt||!Vr(w,k)||w.shapeFlag&70)?v(w.el):Q;E(w,k,R,null,dt,gt,xt,At,!0)}},_t=(H,K,Q,dt,gt,xt,At)=>{if(Q!==dt){if(Q!==Te)for(const I in Q)!Qi(I)&&!(I in dt)&&i(H,I,Q[I],null,At,K.children,gt,xt,Vt);for(const I in dt){if(Qi(I))continue;const w=dt[I],k=Q[I];w!==k&&I!=="value"&&i(H,I,k,w,At,K.children,gt,xt,Vt)}"value"in dt&&i(H,"value",Q.value,dt.value)}},at=(H,K,Q,dt,gt,xt,At,I,w)=>{const k=K.el=H?H.el:h(""),R=K.anchor=H?H.anchor:h("");let{patchFlag:z,dynamicChildren:F,slotScopeIds:et}=K;et&&(I=I?I.concat(et):et),H==null?(a(k,Q,dt),a(R,Q,dt),J(K.children,Q,R,gt,xt,At,I,w)):z>0&&z&64&&F&&H.dynamicChildren?(ht(H.dynamicChildren,F,Q,gt,xt,At,I),(K.key!=null||gt&&K===gt.subTree)&&wh(H,K,!0)):wt(H,K,Q,R,gt,xt,At,I,w)},bt=(H,K,Q,dt,gt,xt,At,I,w)=>{K.slotScopeIds=I,H==null?K.shapeFlag&512?gt.ctx.activate(K,Q,dt,At,w):Lt(K,Q,dt,gt,xt,At,w):Tt(H,K,w)},Lt=(H,K,Q,dt,gt,xt,At)=>{const I=H.component=em(H,dt,gt);if(Cs(H)&&(I.ctx.renderer=Et),nm(I),I.asyncDep){if(gt&&gt.registerDep(I,Ct),!H.el){const w=I.subTree=rt(dn);C(null,w,K,Q)}return}Ct(I,H,K,Q,gt,xt,At)},Tt=(H,K,Q)=>{const dt=K.component=H.component;if(df(H,K,Q))if(dt.asyncDep&&!dt.asyncResolved){$t(dt,K,Q);return}else dt.next=K,af(dt.update),dt.update();else K.el=H.el,dt.vnode=K},Ct=(H,K,Q,dt,gt,xt,At)=>{const I=()=>{if(H.isMounted){let{next:R,bu:z,u:F,parent:et,vnode:st}=H,vt=R,Ot;zr(H,!1),R?(R.el=st.el,$t(H,R,At)):R=st,z&&Xo(z),(Ot=R.props&&R.props.onVnodeBeforeUpdate)&&bn(Ot,et,R,st),zr(H,!0);const Nt=oa(H),Xt=H.subTree;H.subTree=Nt,E(Xt,Nt,v(Xt.el),ft(Xt),H,gt,xt),R.el=Nt.el,vt===null&&ff(H,Nt.el),F&&an(F,gt),(Ot=R.props&&R.props.onVnodeUpdated)&&an(()=>bn(Ot,et,R,st),gt)}else{let R;const{el:z,props:F}=K,{bm:et,m:st,parent:vt}=H,Ot=_i(K);if(zr(H,!1),et&&Xo(et),!Ot&&(R=F&&F.onVnodeBeforeMount)&&bn(R,vt,K),zr(H,!0),z&&ue){const Nt=()=>{H.subTree=oa(H),ue(z,H.subTree,H,gt,null)};Ot?K.type.__asyncLoader().then(()=>!H.isUnmounted&&Nt()):Nt()}else{const Nt=H.subTree=oa(H);E(null,Nt,Q,dt,H,gt,xt),K.el=Nt.el}if(st&&an(st,gt),!Ot&&(R=F&&F.onVnodeMounted)){const Nt=K;an(()=>bn(R,vt,Nt),gt)}(K.shapeFlag&256||vt&&_i(vt.vnode)&&vt.vnode.shapeFlag&256)&&H.a&&an(H.a,gt),H.isMounted=!0,K=Q=dt=null}},w=H.effect=new Ya(I,()=>il(k),H.scope),k=H.update=()=>w.run();k.id=H.uid,zr(H,!0),k()},$t=(H,K,Q)=>{K.component=H;const dt=H.vnode.props;H.vnode=K,H.next=null,Gf(H,K.props,dt,Q),Hf(H,K.children,Q),Li(),hu(),Mi()},wt=(H,K,Q,dt,gt,xt,At,I,w=!1)=>{const k=H&&H.children,R=H?H.shapeFlag:0,z=K.children,{patchFlag:F,shapeFlag:et}=K;if(F>0){if(F&128){zt(k,z,Q,dt,gt,xt,At,I,w);return}else if(F&256){fe(k,z,Q,dt,gt,xt,At,I,w);return}}et&8?(R&16&&Vt(k,gt,xt),z!==k&&g(Q,z)):R&16?et&16?zt(k,z,Q,dt,gt,xt,At,I,w):Vt(k,gt,xt,!0):(R&8&&g(Q,""),et&16&&J(z,Q,dt,gt,xt,At,I,w))},fe=(H,K,Q,dt,gt,xt,At,I,w)=>{H=H||di,K=K||di;const k=H.length,R=K.length,z=Math.min(k,R);let F;for(F=0;F<z;F++){const et=K[F]=w?yr(K[F]):Pn(K[F]);E(H[F],et,Q,null,gt,xt,At,I,w)}k>R?Vt(H,gt,xt,!0,!1,z):J(K,Q,dt,gt,xt,At,I,w,z)},zt=(H,K,Q,dt,gt,xt,At,I,w)=>{let k=0;const R=K.length;let z=H.length-1,F=R-1;for(;k<=z&&k<=F;){const et=H[k],st=K[k]=w?yr(K[k]):Pn(K[k]);if(Vr(et,st))E(et,st,Q,null,gt,xt,At,I,w);else break;k++}for(;k<=z&&k<=F;){const et=H[z],st=K[F]=w?yr(K[F]):Pn(K[F]);if(Vr(et,st))E(et,st,Q,null,gt,xt,At,I,w);else break;z--,F--}if(k>z){if(k<=F){const et=F+1,st=et<R?K[et].el:dt;for(;k<=F;)E(null,K[k]=w?yr(K[k]):Pn(K[k]),Q,st,gt,xt,At,I,w),k++}}else if(k>F)for(;k<=z;)Ut(H[k],gt,xt,!0),k++;else{const et=k,st=k,vt=new Map;for(k=st;k<=F;k++){const he=K[k]=w?yr(K[k]):Pn(K[k]);he.key!=null&&vt.set(he.key,k)}let Ot,Nt=0;const Xt=F-st+1;let ne=!1,be=0;const te=new Array(Xt);for(k=0;k<Xt;k++)te[k]=0;for(k=et;k<=z;k++){const he=H[k];if(Nt>=Xt){Ut(he,gt,xt,!0);continue}let we;if(he.key!=null)we=vt.get(he.key);else for(Ot=st;Ot<=F;Ot++)if(te[Ot-st]===0&&Vr(he,K[Ot])){we=Ot;break}we===void 0?Ut(he,gt,xt,!0):(te[we-st]=k+1,we>=be?be=we:ne=!0,E(he,K[we],Q,null,gt,xt,At,I,w),Nt++)}const ve=ne?qf(te):di;for(Ot=ve.length-1,k=Xt-1;k>=0;k--){const he=st+k,we=K[he],Ae=he+1<R?K[he+1].el:dt;te[k]===0?E(null,we,Q,Ae,gt,xt,At,I,w):ne&&(Ot<0||k!==ve[Ot]?It(we,Q,Ae,2):Ot--)}}},It=(H,K,Q,dt,gt=null)=>{const{el:xt,type:At,transition:I,children:w,shapeFlag:k}=H;if(k&6){It(H.component.subTree,K,Q,dt);return}if(k&128){H.suspense.move(K,Q,dt);return}if(k&64){At.move(H,K,Q,Et);return}if(At===Gt){a(xt,K,Q);for(let z=0;z<w.length;z++)It(w[z],K,Q,dt);a(H.anchor,K,Q);return}if(At===eo){j(H,K,Q);return}if(dt!==2&&k&1&&I)if(dt===0)I.beforeEnter(xt),a(xt,K,Q),an(()=>I.enter(xt),gt);else{const{leave:z,delayLeave:F,afterLeave:et}=I,st=()=>a(xt,K,Q),vt=()=>{z(xt,()=>{st(),et&&et()})};F?F(xt,st,vt):vt()}else a(xt,K,Q)},Ut=(H,K,Q,dt=!1,gt=!1)=>{const{type:xt,props:At,ref:I,children:w,dynamicChildren:k,shapeFlag:R,patchFlag:z,dirs:F}=H;if(I!=null&&hs(I,null,Q,H,!0),R&256){K.ctx.deactivate(H);return}const et=R&1&&F,st=!_i(H);let vt;if(st&&(vt=At&&At.onVnodeBeforeUnmount)&&bn(vt,K,H),R&6)le(H.component,Q,dt);else{if(R&128){H.suspense.unmount(Q,dt);return}et&&Nn(H,null,K,"beforeUnmount"),R&64?H.type.remove(H,K,Q,gt,Et,dt):k&&(xt!==Gt||z>0&&z&64)?Vt(k,K,Q,!1,!0):(xt===Gt&&z&384||!gt&&R&16)&&Vt(w,K,Q),dt&&Me(H)}(st&&(vt=At&&At.onVnodeUnmounted)||et)&&an(()=>{vt&&bn(vt,K,H),et&&Nn(H,null,K,"unmounted")},Q)},Me=H=>{const{type:K,el:Q,anchor:dt,transition:gt}=H;if(K===Gt){me(Q,dt);return}if(K===eo){O(H);return}const xt=()=>{c(Q),gt&&!gt.persisted&&gt.afterLeave&&gt.afterLeave()};if(H.shapeFlag&1&&gt&&!gt.persisted){const{leave:At,delayLeave:I}=gt,w=()=>At(Q,xt);I?I(H.el,xt,w):w()}else xt()},me=(H,K)=>{let Q;for(;H!==K;)Q=M(H),c(H),H=Q;c(K)},le=(H,K,Q)=>{const{bum:dt,scope:gt,update:xt,subTree:At,um:I}=H;dt&&Xo(dt),gt.stop(),xt&&(xt.active=!1,Ut(At,H,K,Q)),I&&an(I,K),an(()=>{H.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},Vt=(H,K,Q,dt=!1,gt=!1,xt=0)=>{for(let At=xt;At<H.length;At++)Ut(H[At],K,Q,dt,gt)},ft=H=>H.shapeFlag&6?ft(H.component.subTree):H.shapeFlag&128?H.suspense.next():M(H.anchor||H.el),St=(H,K,Q)=>{H==null?K._vnode&&Ut(K._vnode,null,null,!0):E(K._vnode||null,H,K,null,null,null,Q),hu(),ls(),K._vnode=H},Et={p:E,um:Ut,m:It,r:Me,mt:Lt,mc:J,pc:wt,pbc:ht,n:ft,o:t};let jt,ue;return n&&([jt,ue]=n(Et)),{render:St,hydrate:jt,createApp:zf(St,jt)}}function zr({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function wh(t,n,s=!1){const a=t.children,c=n.children;if(Yt(a)&&Yt(c))for(let i=0;i<a.length;i++){const u=a[i];let h=c[i];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=c[i]=yr(c[i]),h.el=u.el),s||wh(u,h)),h.type===yi&&(h.el=u.el)}}function qf(t){const n=t.slice(),s=[0];let a,c,i,u,h;const f=t.length;for(a=0;a<f;a++){const m=t[a];if(m!==0){if(c=s[s.length-1],t[c]<m){n[a]=c,s.push(a);continue}for(i=0,u=s.length-1;i<u;)h=i+u>>1,t[s[h]]<m?i=h+1:u=h;m<t[s[i]]&&(i>0&&(n[a]=s[i-1]),s[i]=a)}}for(i=s.length,u=s[i-1];i-- >0;)s[i]=u,u=n[u];return s}const Kf=t=>t.__isTeleport,Gt=Symbol.for("v-fgt"),yi=Symbol.for("v-txt"),dn=Symbol.for("v-cmt"),eo=Symbol.for("v-stc"),no=[];let En=null;function N(t=!1){no.push(En=t?null:[])}function Wf(){no.pop(),En=no[no.length-1]||null}let po=1;function ku(t){po+=t}function xh(t){return t.dynamicChildren=po>0?En||di:null,Wf(),po>0&&En&&En.push(t),t}function X(t,n,s,a,c,i){return xh(Y(t,n,s,a,c,i,!0))}function Pt(t,n,s,a,c){return xh(rt(t,n,s,a,c,!0))}function ps(t){return t?t.__v_isVNode===!0:!1}function Vr(t,n){return t.type===n.type&&t.key===n.key}const Ss="__vInternal",kh=({key:t})=>t??null,ts=({ref:t,ref_key:n,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ze(t)||De(t)||ae(t)?{i:Ze,r:t,k:n,f:!!s}:t:null);function Y(t,n=null,s=null,a=0,c=null,i=t===Gt?0:1,u=!1,h=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&kh(n),ref:n&&ts(n),scopeId:Ms,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:a,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:Ze};return h?(ul(f,s),i&128&&t.normalize(f)):s&&(f.shapeFlag|=ze(s)?8:16),po>0&&!u&&En&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&En.push(f),f}const rt=Jf;function Jf(t,n=null,s=null,a=0,c=null,i=!1){if((!t||t===hh)&&(t=dn),ps(t)){const h=Lr(t,n,!0);return s&&ul(h,s),po>0&&!i&&En&&(h.shapeFlag&6?En[En.indexOf(t)]=h:En.push(h)),h.patchFlag|=-2,h}if(sm(t)&&(t=t.__vccOpts),n){n=Yf(n);let{class:h,style:f}=n;h&&!ze(h)&&(n.class=Ne(h)),Oe(f)&&(Uc(f)&&!Yt(f)&&(f=Ge({},f)),n.style=Vn(f))}const u=ze(t)?1:mf(t)?128:Kf(t)?64:Oe(t)?4:ae(t)?2:0;return Y(t,n,s,a,c,u,i,!0)}function Yf(t){return t?Uc(t)||Ss in t?Ge({},t):t:null}function Lr(t,n,s=!1){const{props:a,ref:c,patchFlag:i,children:u}=t,h=n?Lh(a||{},n):a;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&kh(h),ref:n&&n.ref?s&&c?Yt(c)?c.concat(ts(n)):[c,ts(n)]:ts(n):c,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Gt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Lr(t.ssContent),ssFallback:t.ssFallback&&Lr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ee(t=" ",n=0){return rt(yi,null,t,n)}function Xf(t,n){const s=rt(eo,null,t);return s.staticCount=n,s}function Rt(t="",n=!1){return n?(N(),Pt(dn,null,t)):rt(dn,null,t)}function Pn(t){return t==null||typeof t=="boolean"?rt(dn):Yt(t)?rt(Gt,null,t.slice()):typeof t=="object"?yr(t):rt(yi,null,String(t))}function yr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Lr(t)}function ul(t,n){let s=0;const{shapeFlag:a}=t;if(n==null)n=null;else if(Yt(n))s=16;else if(typeof n=="object")if(a&65){const c=n.default;c&&(c._c&&(c._d=!1),ul(t,c()),c._c&&(c._d=!0));return}else{s=32;const c=n._;!c&&!(Ss in n)?n._ctx=Ze:c===3&&Ze&&(Ze.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else ae(n)?(n={default:n,_ctx:Ze},s=32):(n=String(n),a&64?(s=16,n=[ee(n)]):s=8);t.children=n,t.shapeFlag|=s}function Lh(...t){const n={};for(let s=0;s<t.length;s++){const a=t[s];for(const c in a)if(c==="class")n.class!==a.class&&(n.class=Ne([n.class,a.class]));else if(c==="style")n.style=Vn([n.style,a.style]);else if(yo(c)){const i=n[c],u=a[c];u&&i!==u&&!(Yt(i)&&i.includes(u))&&(n[c]=i?[].concat(i,u):u)}else c!==""&&(n[c]=a[c])}return n}function bn(t,n,s,a=null){wn(t,n,7,[s,a])}const Qf=mh();let tm=0;function em(t,n,s){const a=t.type,c=(n?n.appContext:t.appContext)||Qf,i={uid:tm++,vnode:t,type:a,parent:n,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,scope:new Tc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(c.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gh(a,c),emitsOptions:Qc(a,c),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:a.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=n?n.root:i,i.emit=cf.bind(null,i),t.ce&&t.ce(i),i}let He=null;const Mh=()=>He||Ze;let cl,ui,Lu="__VUE_INSTANCE_SETTERS__";(ui=xa()[Lu])||(ui=xa()[Lu]=[]),ui.push(t=>He=t),cl=t=>{ui.length>1?ui.forEach(n=>n(t)):ui[0](t)};const vi=t=>{cl(t),t.scope.on()},Ur=()=>{He&&He.scope.off(),cl(null)};function Ch(t){return t.vnode.shapeFlag&4}let fo=!1;function nm(t,n=!1){fo=n;const{props:s,children:a}=t.vnode,c=Ch(t);Nf(t,s,c,n),Ff(t,a);const i=c?rm(t,n):void 0;return fo=!1,i}function rm(t,n){const s=t.type;t.accessCache=Object.create(null),t.proxy=ws(new Proxy(t.ctx,Sf));const{setup:a}=s;if(a){const c=t.setupContext=a.length>1?Sh(t):null;vi(t),Li();const i=xr(a,t,0,[t.props,c]);if(Mi(),Ur(),Mc(i)){if(i.then(Ur,Ur),n)return i.then(u=>{Mu(t,u,n)}).catch(u=>{xs(u,t,0)});t.asyncDep=i}else Mu(t,i,n)}else Ph(t,n)}function Mu(t,n,s){ae(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Oe(n)&&(t.setupState=Wc(n)),Ph(t,s)}let Cu;function Ph(t,n,s){const a=t.type;if(!t.render){if(!n&&Cu&&!a.render){const c=a.template||al(t).template;if(c){const{isCustomElement:i,compilerOptions:u}=t.appContext.config,{delimiters:h,compilerOptions:f}=a,m=Ge(Ge({isCustomElement:i,delimiters:h},u),f);a.render=Cu(c,m)}}t.render=a.render||On}vi(t),Li(),Of(t),Mi(),Ur()}function im(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(n,s){return un(t,"get","$attrs"),n[s]}}))}function Sh(t){const n=s=>{t.exposed=s||{}};return{get attrs(){return im(t)},slots:t.slots,emit:t.emit,expose:n}}function Es(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Wc(ws(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in to)return to[s](t)},has(n,s){return s in n||s in to}}))}function om(t,n=!0){return ae(t)?t.displayName||t.name:t.name||n&&t.__name}function sm(t){return ae(t)&&"__vccOpts"in t}const Jt=(t,n)=>rf(t,n,fo);function hl(t,n,s){const a=arguments.length;return a===2?Oe(n)&&!Yt(n)?ps(n)?rt(t,null,[n]):rt(t,n):rt(t,null,n):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&ps(s)&&(s=[s]),rt(t,n,s))}const am=Symbol.for("v-scx"),lm=()=>xn(am),um="3.3.4",cm="http://www.w3.org/2000/svg",Fr=typeof document<"u"?document:null,Pu=Fr&&Fr.createElement("template"),hm={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,a)=>{const c=n?Fr.createElementNS(cm,t):Fr.createElement(t,s?{is:s}:void 0);return t==="select"&&a&&a.multiple!=null&&c.setAttribute("multiple",a.multiple),c},createText:t=>Fr.createTextNode(t),createComment:t=>Fr.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fr.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,a,c,i){const u=s?s.previousSibling:n.lastChild;if(c&&(c===i||c.nextSibling))for(;n.insertBefore(c.cloneNode(!0),s),!(c===i||!(c=c.nextSibling)););else{Pu.innerHTML=a?`<svg>${t}</svg>`:t;const h=Pu.content;if(a){const f=h.firstChild;for(;f.firstChild;)h.appendChild(f.firstChild);h.removeChild(f)}n.insertBefore(h,s)}return[u?u.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}};function pm(t,n,s){const a=t._vtc;a&&(n=(n?[n,...a]:[...a]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}function dm(t,n,s){const a=t.style,c=ze(s);if(s&&!c){if(n&&!ze(n))for(const i in n)s[i]==null&&Ra(a,i,"");for(const i in s)Ra(a,i,s[i])}else{const i=a.display;c?n!==s&&(a.cssText=s):n&&t.removeAttribute("style"),"_vod"in t&&(a.display=i)}}const Su=/\s*!important$/;function Ra(t,n,s){if(Yt(s))s.forEach(a=>Ra(t,n,a));else if(s==null&&(s=""),n.startsWith("--"))t.setProperty(n,s);else{const a=fm(t,n);Su.test(s)?t.setProperty(ki(a),s.replace(Su,""),"important"):t[a]=s}}const Eu=["Webkit","Moz","ms"],la={};function fm(t,n){const s=la[n];if(s)return s;let a=Fn(n);if(a!=="filter"&&a in t)return la[n]=a;a=vs(a);for(let c=0;c<Eu.length;c++){const i=Eu[c]+a;if(i in t)return la[n]=i}return n}const Tu="http://www.w3.org/1999/xlink";function mm(t,n,s,a,c){if(a&&n.startsWith("xlink:"))s==null?t.removeAttributeNS(Tu,n.slice(6,n.length)):t.setAttributeNS(Tu,n,s);else{const i=bd(n);s==null||i&&!Sc(s)?t.removeAttribute(n):t.setAttribute(n,i?"":s)}}function _m(t,n,s,a,c,i,u){if(n==="innerHTML"||n==="textContent"){a&&u(a,c,i),t[n]=s??"";return}const h=t.tagName;if(n==="value"&&h!=="PROGRESS"&&!h.includes("-")){t._value=s;const m=h==="OPTION"?t.getAttribute("value"):t.value,g=s??"";m!==g&&(t.value=g),s==null&&t.removeAttribute(n);return}let f=!1;if(s===""||s==null){const m=typeof t[n];m==="boolean"?s=Sc(s):s==null&&m==="string"?(s="",f=!0):m==="number"&&(s=0,f=!0)}try{t[n]=s}catch{}f&&t.removeAttribute(n)}function hi(t,n,s,a){t.addEventListener(n,s,a)}function gm(t,n,s,a){t.removeEventListener(n,s,a)}function ym(t,n,s,a,c=null){const i=t._vei||(t._vei={}),u=i[n];if(a&&u)u.value=a;else{const[h,f]=vm(n);if(a){const m=i[n]=xm(a,c);hi(t,h,m,f)}else u&&(gm(t,h,u,f),i[n]=void 0)}}const Ou=/(?:Once|Passive|Capture)$/;function vm(t){let n;if(Ou.test(t)){n={};let a;for(;a=t.match(Ou);)t=t.slice(0,t.length-a[0].length),n[a[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ki(t.slice(2)),n]}let ua=0;const bm=Promise.resolve(),wm=()=>ua||(bm.then(()=>ua=0),ua=Date.now());function xm(t,n){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;wn(km(a,s.value),n,5,[a])};return s.value=t,s.attached=wm(),s}function km(t,n){if(Yt(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(a=>c=>!c._stopped&&a&&a(c))}else return n}const Au=/^on[a-z]/,Lm=(t,n,s,a,c=!1,i,u,h,f)=>{n==="class"?pm(t,a,c):n==="style"?dm(t,s,a):yo(n)?Za(n)||ym(t,n,s,a,u):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Mm(t,n,a,c))?_m(t,n,a,i,u,h,f):(n==="true-value"?t._trueValue=a:n==="false-value"&&(t._falseValue=a),mm(t,n,a,c))};function Mm(t,n,s,a){return a?!!(n==="innerHTML"||n==="textContent"||n in t&&Au.test(n)&&ae(s)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||Au.test(n)&&ze(s)?!1:n in t}const dr="transition",qi="animation",Ts=(t,{slots:n})=>hl(vf,Cm(t),n);Ts.displayName="Transition";const Eh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ts.props=Ge({},oh,Eh);const jr=(t,n=[])=>{Yt(t)?t.forEach(s=>s(...n)):t&&t(...n)},Ru=t=>t?Yt(t)?t.some(n=>n.length>1):t.length>1:!1;function Cm(t){const n={};for(const at in t)at in Eh||(n[at]=t[at]);if(t.css===!1)return n;const{name:s="v",type:a,duration:c,enterFromClass:i=`${s}-enter-from`,enterActiveClass:u=`${s}-enter-active`,enterToClass:h=`${s}-enter-to`,appearFromClass:f=i,appearActiveClass:m=u,appearToClass:g=h,leaveFromClass:v=`${s}-leave-from`,leaveActiveClass:M=`${s}-leave-active`,leaveToClass:A=`${s}-leave-to`}=t,S=Pm(c),E=S&&S[0],G=S&&S[1],{onBeforeEnter:C,onEnter:P,onEnterCancelled:j,onLeave:O,onLeaveCancelled:D,onBeforeAppear:W=C,onAppear:ot=P,onAppearCancelled:J=j}=n,it=(at,bt,Lt)=>{Nr(at,bt?g:h),Nr(at,bt?m:u),Lt&&Lt()},ht=(at,bt)=>{at._isLeaving=!1,Nr(at,v),Nr(at,A),Nr(at,M),bt&&bt()},_t=at=>(bt,Lt)=>{const Tt=at?ot:P,Ct=()=>it(bt,at,Lt);jr(Tt,[bt,Ct]),Bu(()=>{Nr(bt,at?f:i),fr(bt,at?g:h),Ru(Tt)||Iu(bt,a,E,Ct)})};return Ge(n,{onBeforeEnter(at){jr(C,[at]),fr(at,i),fr(at,u)},onBeforeAppear(at){jr(W,[at]),fr(at,f),fr(at,m)},onEnter:_t(!1),onAppear:_t(!0),onLeave(at,bt){at._isLeaving=!0;const Lt=()=>ht(at,bt);fr(at,v),Tm(),fr(at,M),Bu(()=>{at._isLeaving&&(Nr(at,v),fr(at,A),Ru(O)||Iu(at,a,G,Lt))}),jr(O,[at,Lt])},onEnterCancelled(at){it(at,!1),jr(j,[at])},onAppearCancelled(at){it(at,!0),jr(J,[at])},onLeaveCancelled(at){ht(at),jr(D,[at])}})}function Pm(t){if(t==null)return null;if(Oe(t))return[ca(t.enter),ca(t.leave)];{const n=ca(t);return[n,n]}}function ca(t){return fd(t)}function fr(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(n)}function Nr(t,n){n.split(/\s+/).forEach(a=>a&&t.classList.remove(a));const{_vtc:s}=t;s&&(s.delete(n),s.size||(t._vtc=void 0))}function Bu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Sm=0;function Iu(t,n,s,a){const c=t._endId=++Sm,i=()=>{c===t._endId&&a()};if(s)return setTimeout(i,s);const{type:u,timeout:h,propCount:f}=Em(t,n);if(!u)return a();const m=u+"end";let g=0;const v=()=>{t.removeEventListener(m,M),i()},M=A=>{A.target===t&&++g>=f&&v()};setTimeout(()=>{g<f&&v()},h+1),t.addEventListener(m,M)}function Em(t,n){const s=window.getComputedStyle(t),a=S=>(s[S]||"").split(", "),c=a(`${dr}Delay`),i=a(`${dr}Duration`),u=Du(c,i),h=a(`${qi}Delay`),f=a(`${qi}Duration`),m=Du(h,f);let g=null,v=0,M=0;n===dr?u>0&&(g=dr,v=u,M=i.length):n===qi?m>0&&(g=qi,v=m,M=f.length):(v=Math.max(u,m),g=v>0?u>m?dr:qi:null,M=g?g===dr?i.length:f.length:0);const A=g===dr&&/\b(transform|all)(,|$)/.test(a(`${dr}Property`).toString());return{type:g,timeout:v,propCount:M,hasTransform:A}}function Du(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((s,a)=>zu(s)+zu(t[a])))}function zu(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Tm(){return document.body.offsetHeight}const ju=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Yt(n)?s=>Xo(n,s):n};function Om(t){t.target.composing=!0}function Nu(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Am={created(t,{modifiers:{lazy:n,trim:s,number:a}},c){t._assign=ju(c);const i=a||c.props&&c.props.type==="number";hi(t,n?"change":"input",u=>{if(u.target.composing)return;let h=t.value;s&&(h=h.trim()),i&&(h=wa(h)),t._assign(h)}),s&&hi(t,"change",()=>{t.value=t.value.trim()}),n||(hi(t,"compositionstart",Om),hi(t,"compositionend",Nu),hi(t,"change",Nu))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,modifiers:{lazy:s,trim:a,number:c}},i){if(t._assign=ju(i),t.composing||document.activeElement===t&&t.type!=="range"&&(s||a&&t.value.trim()===n||(c||t.type==="number")&&wa(t.value)===n))return;const u=n??"";t.value!==u&&(t.value=u)}},Rm=["ctrl","shift","alt","meta"],Bm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Rm.some(s=>t[`${s}Key`]&&!n.includes(s))},ds=(t,n)=>(s,...a)=>{for(let c=0;c<n.length;c++){const i=Bm[n[c]];if(i&&i(s,n))return}return t(s,...a)},Os={beforeMount(t,{value:n},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):Ki(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:a}){!n!=!s&&(a?n?(a.beforeEnter(t),Ki(t,!0),a.enter(t)):a.leave(t,()=>{Ki(t,!1)}):Ki(t,n))},beforeUnmount(t,{value:n}){Ki(t,n)}};function Ki(t,n){t.style.display=n?t._vod:"none"}const Im=Ge({patchProp:Lm},hm);let ha,Gu=!1;function Dm(){return ha=Gu?ha:Uf(Im),Gu=!0,ha}const zm=(...t)=>{const n=Dm().createApp(...t),{mount:s}=n;return n.mount=a=>{const c=jm(a);if(c)return s(c,!0,c instanceof SVGElement)},n};function jm(t){return ze(t)?document.querySelector(t):t}let Nm;function Gm(){return Nm}function pl(t,n={}){const s=n.head||Gm();return s==null?void 0:s.push(t,n)}const Vm=["title"],Fm={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Hm=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),$m=[Hm],Um={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Zm=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),qm=[Zm],Th={__name:"SwitchTheme",setup(t){const n={dark:"dark",light:"light"},s=Ft(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?s.value="dark":s.value="light",qe(s,(c,i)=>{document.documentElement.classList.add(c),document.documentElement.classList.remove(i),localStorage.setItem("theme",c)},{immediate:!0}));const a=()=>{s.value===n.dark?s.value=n.light:s.value=n.dark};return(c,i)=>(N(),X("button",{type:"button",onClick:a,title:s.value===n.light?"Change to dark mode":"Change to light mode"},[s.value===n.dark?(N(),X("svg",Fm,$m)):(N(),X("svg",Um,qm))],8,Vm))}},Km=["aria-expanded"],Wm=Y("span",{class:"sr-only"},"Open main menu",-1),Jm={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},Ym={class:"font-normal container mx-auto"},Xm={class:"flex flex-col m-0 p-0 border-t border-base-border"},Qm={__name:"NavbarMobile",setup(t){const{header_links:n}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},s=Ft(!1),a=()=>{s.value=!s.value};return(c,i)=>{const u=ut("IconClose"),h=ut("IconHamburger"),f=ut("router-link"),m=ut("ClientOnly"),g=ut("TrackerReport"),v=ut("AnimationOpacity");return N(),X(Gt,null,[Y("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":s.value,onClick:a},[Wm,s.value?(N(),Pt(u,{key:0})):(N(),Pt(h,{key:1,class:"w-6 h-6"}))],8,Km),rt(v,null,{default:ct(()=>[s.value?(N(),X("div",Jm,[Y("nav",Ym,[Y("ul",Xm,[(N(!0),X(Gt,null,de(Wt(n),(M,A)=>(N(),X("li",{key:A,class:"border-b border-base-border"},[rt(f,{to:M.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:ct(()=>[ee(qt(M.label),1)]),_:2},1032,["to"])]))),128)),Y("li",null,[rt(m,null,{default:ct(()=>[rt(Th,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),Y("li",null,[rt(g,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Rt("",!0)]),_:1})],64)}}};function t_(t){try{return new URL(t),!0}catch{return!1}}const e_={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},n_={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},r_=["src","alt"],i_={class:"relative hidden md:flex items-center ml-auto"},o_={class:"text-sm leading-6 font-normal"},s_={class:"flex space-x-8"},a_={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},l_={class:"flex items-center ml-2 border-base-muted"},u_={__name:"LayoutHeader",setup(t){const{header_links:n,header_logo_text:s,header_logo_url:a,base_url:c,project_name:i}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},u=t_(a)?a:(c+a).replace("//","/");return(h,f)=>{const m=ut("RouterLink"),g=ut("router-link"),v=ut("ClientOnly"),M=ut("TrackerReport");return N(),X("header",e_,[Y("div",n_,[rt(m,{to:"/",class:"flex items-center text-primary-content"},{default:ct(()=>[Wt(a)?(N(),X("img",{key:0,class:"mr-3 h-10",src:Wt(u),alt:Wt(s)},null,8,r_)):Rt("",!0),Y("span",null,qt(Wt(s)||Wt(i)),1)]),_:1}),rt(Qm),Y("div",i_,[Y("nav",o_,[Y("ul",s_,[(N(!0),X(Gt,null,de(Wt(n),(A,S)=>(N(),X("li",{key:S},[rt(g,{to:A.link,class:"hover:text-primary-content text-primary-content"},{default:ct(()=>[ee(qt(A.label),1)]),_:2},1032,["to"])]))),128))])]),Y("div",a_,[rt(v,null,{default:ct(()=>[rt(Th,{class:"text-primary-content"})]),_:1})]),Y("div",l_,[rt(M,{icon:""})])])])])}}};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const pi=typeof window<"u";function c_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function pa(t,n){const s={};for(const a in n){const c=n[a];s[a]=An(c)?c.map(t):t(c)}return s}const ro=()=>{},An=Array.isArray,h_=/\/$/,p_=t=>t.replace(h_,"");function da(t,n,s="/"){let a,c={},i="",u="";const h=n.indexOf("#");let f=n.indexOf("?");return h<f&&h>=0&&(f=-1),f>-1&&(a=n.slice(0,f),i=n.slice(f+1,h>-1?h:n.length),c=t(i)),h>-1&&(a=a||n.slice(0,h),u=n.slice(h,n.length)),a=__(a??n,s),{fullPath:a+(i&&"?")+i+u,path:a,query:c,hash:u}}function d_(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function Vu(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function f_(t,n,s){const a=n.matched.length-1,c=s.matched.length-1;return a>-1&&a===c&&bi(n.matched[a],s.matched[c])&&Oh(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function bi(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Oh(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!m_(t[s],n[s]))return!1;return!0}function m_(t,n){return An(t)?Fu(t,n):An(n)?Fu(n,t):t===n}function Fu(t,n){return An(n)?t.length===n.length&&t.every((s,a)=>s===n[a]):t.length===1&&t[0]===n}function __(t,n){if(t.startsWith("/"))return t;if(!t)return n;const s=n.split("/"),a=t.split("/"),c=a[a.length-1];(c===".."||c===".")&&a.push("");let i=s.length-1,u,h;for(u=0;u<a.length;u++)if(h=a[u],h!==".")if(h==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+a.slice(u-(u===a.length?1:0)).join("/")}var mo;(function(t){t.pop="pop",t.push="push"})(mo||(mo={}));var io;(function(t){t.back="back",t.forward="forward",t.unknown=""})(io||(io={}));function g_(t){if(!t)if(pi){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),p_(t)}const y_=/^[^#]+#/;function v_(t,n){return t.replace(y_,"#")+n}function b_(t,n){const s=document.documentElement.getBoundingClientRect(),a=t.getBoundingClientRect();return{behavior:n.behavior,left:a.left-s.left-(n.left||0),top:a.top-s.top-(n.top||0)}}const As=()=>({left:window.pageXOffset,top:window.pageYOffset});function w_(t){let n;if("el"in t){const s=t.el,a=typeof s=="string"&&s.startsWith("#"),c=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!c)return;n=b_(c,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function Hu(t,n){return(history.state?history.state.position-n:-1)+t}const Ba=new Map;function x_(t,n){Ba.set(t,n)}function k_(t){const n=Ba.get(t);return Ba.delete(t),n}let L_=()=>location.protocol+"//"+location.host;function Ah(t,n){const{pathname:s,search:a,hash:c}=n,i=t.indexOf("#");if(i>-1){let h=c.includes(t.slice(i))?t.slice(i).length:1,f=c.slice(h);return f[0]!=="/"&&(f="/"+f),Vu(f,"")}return Vu(s,t)+a+c}function M_(t,n,s,a){let c=[],i=[],u=null;const h=({state:M})=>{const A=Ah(t,location),S=s.value,E=n.value;let G=0;if(M){if(s.value=A,n.value=M,u&&u===S){u=null;return}G=E?M.position-E.position:0}else a(A);c.forEach(C=>{C(s.value,S,{delta:G,type:mo.pop,direction:G?G>0?io.forward:io.back:io.unknown})})};function f(){u=s.value}function m(M){c.push(M);const A=()=>{const S=c.indexOf(M);S>-1&&c.splice(S,1)};return i.push(A),A}function g(){const{history:M}=window;M.state&&M.replaceState(Le({},M.state,{scroll:As()}),"")}function v(){for(const M of i)M();i=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:m,destroy:v}}function $u(t,n,s,a=!1,c=!1){return{back:t,current:n,forward:s,replaced:a,position:window.history.length,scroll:c?As():null}}function C_(t){const{history:n,location:s}=window,a={value:Ah(t,s)},c={value:n.state};c.value||i(a.value,{back:null,current:a.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function i(f,m,g){const v=t.indexOf("#"),M=v>-1?(s.host&&document.querySelector("base")?t:t.slice(v))+f:L_()+t+f;try{n[g?"replaceState":"pushState"](m,"",M),c.value=m}catch(A){console.error(A),s[g?"replace":"assign"](M)}}function u(f,m){const g=Le({},n.state,$u(c.value.back,f,c.value.forward,!0),m,{position:c.value.position});i(f,g,!0),a.value=f}function h(f,m){const g=Le({},c.value,n.state,{forward:f,scroll:As()});i(g.current,g,!0);const v=Le({},$u(a.value,f,null),{position:g.position+1},m);i(f,v,!1),a.value=f}return{location:a,state:c,push:h,replace:u}}function Rh(t){t=g_(t);const n=C_(t),s=M_(t,n.state,n.location,n.replace);function a(i,u=!0){u||s.pauseListeners(),history.go(i)}const c=Le({location:"",base:t,go:a,createHref:v_.bind(null,t)},n,s);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>n.state.value}),c}function P_(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Rh(t)}function S_(t){return typeof t=="string"||t&&typeof t=="object"}function Bh(t){return typeof t=="string"||typeof t=="symbol"}const mr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ih=Symbol("");var Uu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Uu||(Uu={}));function wi(t,n){return Le(new Error,{type:t,[Ih]:!0},n)}function Qn(t,n){return t instanceof Error&&Ih in t&&(n==null||!!(t.type&n))}const Zu="[^/]+?",E_={sensitive:!1,strict:!1,start:!0,end:!0},T_=/[.+*?^${}()[\]/\\]/g;function O_(t,n){const s=Le({},E_,n),a=[];let c=s.start?"^":"";const i=[];for(const m of t){const g=m.length?[]:[90];s.strict&&!m.length&&(c+="/");for(let v=0;v<m.length;v++){const M=m[v];let A=40+(s.sensitive?.25:0);if(M.type===0)v||(c+="/"),c+=M.value.replace(T_,"\\$&"),A+=40;else if(M.type===1){const{value:S,repeatable:E,optional:G,regexp:C}=M;i.push({name:S,repeatable:E,optional:G});const P=C||Zu;if(P!==Zu){A+=10;try{new RegExp(`(${P})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${S}" (${P}): `+O.message)}}let j=E?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(j=G&&m.length<2?`(?:/${j})`:"/"+j),G&&(j+="?"),c+=j,A+=20,G&&(A+=-8),E&&(A+=-20),P===".*"&&(A+=-50)}g.push(A)}a.push(g)}if(s.strict&&s.end){const m=a.length-1;a[m][a[m].length-1]+=.7000000000000001}s.strict||(c+="/?"),s.end?c+="$":s.strict&&(c+="(?:/|$)");const u=new RegExp(c,s.sensitive?"":"i");function h(m){const g=m.match(u),v={};if(!g)return null;for(let M=1;M<g.length;M++){const A=g[M]||"",S=i[M-1];v[S.name]=A&&S.repeatable?A.split("/"):A}return v}function f(m){let g="",v=!1;for(const M of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const A of M)if(A.type===0)g+=A.value;else if(A.type===1){const{value:S,repeatable:E,optional:G}=A,C=S in m?m[S]:"";if(An(C)&&!E)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const P=An(C)?C.join("/"):C;if(!P)if(G)M.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${S}"`);g+=P}}return g||"/"}return{re:u,score:a,keys:i,parse:h,stringify:f}}function A_(t,n){let s=0;for(;s<t.length&&s<n.length;){const a=n[s]-t[s];if(a)return a;s++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function R_(t,n){let s=0;const a=t.score,c=n.score;for(;s<a.length&&s<c.length;){const i=A_(a[s],c[s]);if(i)return i;s++}if(Math.abs(c.length-a.length)===1){if(qu(a))return 1;if(qu(c))return-1}return c.length-a.length}function qu(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const B_={type:0,value:""},I_=/[a-zA-Z0-9_]/;function D_(t){if(!t)return[[]];if(t==="/")return[[B_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(A){throw new Error(`ERR (${s})/"${m}": ${A}`)}let s=0,a=s;const c=[];let i;function u(){i&&c.push(i),i=[]}let h=0,f,m="",g="";function v(){m&&(s===0?i.push({type:0,value:m}):s===1||s===2||s===3?(i.length>1&&(f==="*"||f==="+")&&n(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:m,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):n("Invalid state to consume buffer"),m="")}function M(){m+=f}for(;h<t.length;){if(f=t[h++],f==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:f==="/"?(m&&v(),u()):f===":"?(v(),s=1):M();break;case 4:M(),s=a;break;case 1:f==="("?s=2:I_.test(f)?M():(v(),s=0,f!=="*"&&f!=="?"&&f!=="+"&&h--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:s=3:g+=f;break;case 3:v(),s=0,f!=="*"&&f!=="?"&&f!=="+"&&h--,g="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${m}"`),v(),u(),c}function z_(t,n,s){const a=O_(D_(t.path),s),c=Le(a,{record:t,parent:n,children:[],alias:[]});return n&&!c.record.aliasOf==!n.record.aliasOf&&n.children.push(c),c}function j_(t,n){const s=[],a=new Map;n=Ju({strict:!1,end:!0,sensitive:!1},n);function c(g){return a.get(g)}function i(g,v,M){const A=!M,S=N_(g);S.aliasOf=M&&M.record;const E=Ju(n,g),G=[S];if("alias"in g){const j=typeof g.alias=="string"?[g.alias]:g.alias;for(const O of j)G.push(Le({},S,{components:M?M.record.components:S.components,path:O,aliasOf:M?M.record:S}))}let C,P;for(const j of G){const{path:O}=j;if(v&&O[0]!=="/"){const D=v.record.path,W=D[D.length-1]==="/"?"":"/";j.path=v.record.path+(O&&W+O)}if(C=z_(j,v,E),M?M.alias.push(C):(P=P||C,P!==C&&P.alias.push(C),A&&g.name&&!Wu(C)&&u(g.name)),S.children){const D=S.children;for(let W=0;W<D.length;W++)i(D[W],C,M&&M.children[W])}M=M||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&f(C)}return P?()=>{u(P)}:ro}function u(g){if(Bh(g)){const v=a.get(g);v&&(a.delete(g),s.splice(s.indexOf(v),1),v.children.forEach(u),v.alias.forEach(u))}else{const v=s.indexOf(g);v>-1&&(s.splice(v,1),g.record.name&&a.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function h(){return s}function f(g){let v=0;for(;v<s.length&&R_(g,s[v])>=0&&(g.record.path!==s[v].record.path||!Dh(g,s[v]));)v++;s.splice(v,0,g),g.record.name&&!Wu(g)&&a.set(g.record.name,g)}function m(g,v){let M,A={},S,E;if("name"in g&&g.name){if(M=a.get(g.name),!M)throw wi(1,{location:g});E=M.record.name,A=Le(Ku(v.params,M.keys.filter(P=>!P.optional).map(P=>P.name)),g.params&&Ku(g.params,M.keys.map(P=>P.name))),S=M.stringify(A)}else if("path"in g)S=g.path,M=s.find(P=>P.re.test(S)),M&&(A=M.parse(S),E=M.record.name);else{if(M=v.name?a.get(v.name):s.find(P=>P.re.test(v.path)),!M)throw wi(1,{location:g,currentLocation:v});E=M.record.name,A=Le({},v.params,g.params),S=M.stringify(A)}const G=[];let C=M;for(;C;)G.unshift(C.record),C=C.parent;return{name:E,path:S,params:A,matched:G,meta:V_(G)}}return t.forEach(g=>i(g)),{addRoute:i,resolve:m,removeRoute:u,getRoutes:h,getRecordMatcher:c}}function Ku(t,n){const s={};for(const a of n)a in t&&(s[a]=t[a]);return s}function N_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:G_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function G_(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const a in t.components)n[a]=typeof s=="object"?s[a]:s;return n}function Wu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function V_(t){return t.reduce((n,s)=>Le(n,s.meta),{})}function Ju(t,n){const s={};for(const a in t)s[a]=a in n?n[a]:t[a];return s}function Dh(t,n){return n.children.some(s=>s===t||Dh(t,s))}const zh=/#/g,F_=/&/g,H_=/\//g,$_=/=/g,U_=/\?/g,jh=/\+/g,Z_=/%5B/g,q_=/%5D/g,Nh=/%5E/g,K_=/%60/g,Gh=/%7B/g,W_=/%7C/g,Vh=/%7D/g,J_=/%20/g;function dl(t){return encodeURI(""+t).replace(W_,"|").replace(Z_,"[").replace(q_,"]")}function Y_(t){return dl(t).replace(Gh,"{").replace(Vh,"}").replace(Nh,"^")}function Ia(t){return dl(t).replace(jh,"%2B").replace(J_,"+").replace(zh,"%23").replace(F_,"%26").replace(K_,"`").replace(Gh,"{").replace(Vh,"}").replace(Nh,"^")}function X_(t){return Ia(t).replace($_,"%3D")}function Q_(t){return dl(t).replace(zh,"%23").replace(U_,"%3F")}function tg(t){return t==null?"":Q_(t).replace(H_,"%2F")}function fs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function eg(t){const n={};if(t===""||t==="?")return n;const a=(t[0]==="?"?t.slice(1):t).split("&");for(let c=0;c<a.length;++c){const i=a[c].replace(jh," "),u=i.indexOf("="),h=fs(u<0?i:i.slice(0,u)),f=u<0?null:fs(i.slice(u+1));if(h in n){let m=n[h];An(m)||(m=n[h]=[m]),m.push(f)}else n[h]=f}return n}function Yu(t){let n="";for(let s in t){const a=t[s];if(s=X_(s),a==null){a!==void 0&&(n+=(n.length?"&":"")+s);continue}(An(a)?a.map(i=>i&&Ia(i)):[a&&Ia(a)]).forEach(i=>{i!==void 0&&(n+=(n.length?"&":"")+s,i!=null&&(n+="="+i))})}return n}function ng(t){const n={};for(const s in t){const a=t[s];a!==void 0&&(n[s]=An(a)?a.map(c=>c==null?null:""+c):a==null?a:""+a)}return n}const rg=Symbol(""),Xu=Symbol(""),Rs=Symbol(""),fl=Symbol(""),Da=Symbol("");function Wi(){let t=[];function n(a){return t.push(a),()=>{const c=t.indexOf(a);c>-1&&t.splice(c,1)}}function s(){t=[]}return{add:n,list:()=>t.slice(),reset:s}}function vr(t,n,s,a,c){const i=a&&(a.enterCallbacks[c]=a.enterCallbacks[c]||[]);return()=>new Promise((u,h)=>{const f=v=>{v===!1?h(wi(4,{from:s,to:n})):v instanceof Error?h(v):S_(v)?h(wi(2,{from:n,to:v})):(i&&a.enterCallbacks[c]===i&&typeof v=="function"&&i.push(v),u())},m=t.call(a&&a.instances[c],n,s,f);let g=Promise.resolve(m);t.length<3&&(g=g.then(f)),g.catch(v=>h(v))})}function fa(t,n,s,a){const c=[];for(const i of t)for(const u in i.components){let h=i.components[u];if(!(n!=="beforeRouteEnter"&&!i.instances[u]))if(ig(h)){const m=(h.__vccOpts||h)[n];m&&c.push(vr(m,s,a,i,u))}else{let f=h();c.push(()=>f.then(m=>{if(!m)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${i.path}"`));const g=c_(m)?m.default:m;i.components[u]=g;const M=(g.__vccOpts||g)[n];return M&&vr(M,s,a,i,u)()}))}}return c}function ig(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Qu(t){const n=xn(Rs),s=xn(fl),a=Jt(()=>n.resolve(Wt(t.to))),c=Jt(()=>{const{matched:f}=a.value,{length:m}=f,g=f[m-1],v=s.matched;if(!g||!v.length)return-1;const M=v.findIndex(bi.bind(null,g));if(M>-1)return M;const A=tc(f[m-2]);return m>1&&tc(g)===A&&v[v.length-1].path!==A?v.findIndex(bi.bind(null,f[m-2])):M}),i=Jt(()=>c.value>-1&&lg(s.params,a.value.params)),u=Jt(()=>c.value>-1&&c.value===s.matched.length-1&&Oh(s.params,a.value.params));function h(f={}){return ag(f)?n[Wt(t.replace)?"replace":"push"](Wt(t.to)).catch(ro):Promise.resolve()}return{route:a,href:Jt(()=>a.value.href),isActive:i,isExactActive:u,navigate:h}}const og=lh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qu,setup(t,{slots:n}){const s=vo(Qu(t)),{options:a}=xn(Rs),c=Jt(()=>({[ec(t.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[ec(t.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=n.default&&n.default(s);return t.custom?i:hl("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:c.value},i)}}}),sg=og;function ag(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function lg(t,n){for(const s in n){const a=n[s],c=t[s];if(typeof a=="string"){if(a!==c)return!1}else if(!An(c)||c.length!==a.length||a.some((i,u)=>i!==c[u]))return!1}return!0}function tc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ec=(t,n,s)=>t??n??s,ug=lh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){const a=xn(Da),c=Jt(()=>t.route||a.value),i=xn(Xu,0),u=Jt(()=>{let m=Wt(i);const{matched:g}=c.value;let v;for(;(v=g[m])&&!v.components;)m++;return m}),h=Jt(()=>c.value.matched[u.value]);Qo(Xu,Jt(()=>u.value+1)),Qo(rg,h),Qo(Da,c);const f=Ft();return qe(()=>[f.value,h.value,t.name],([m,g,v],[M,A,S])=>{g&&(g.instances[v]=m,A&&A!==g&&m&&m===M&&(g.leaveGuards.size||(g.leaveGuards=A.leaveGuards),g.updateGuards.size||(g.updateGuards=A.updateGuards))),m&&g&&(!A||!bi(g,A)||!M)&&(g.enterCallbacks[v]||[]).forEach(E=>E(m))},{flush:"post"}),()=>{const m=c.value,g=t.name,v=h.value,M=v&&v.components[g];if(!M)return nc(s.default,{Component:M,route:m});const A=v.props[g],S=A?A===!0?m.params:typeof A=="function"?A(m):A:null,G=hl(M,Le({},S,n,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(v.instances[g]=null)},ref:f}));return nc(s.default,{Component:G,route:m})||G}}});function nc(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const cg=ug;function hg(t){const n=j_(t.routes,t),s=t.parseQuery||eg,a=t.stringifyQuery||Yu,c=t.history,i=Wi(),u=Wi(),h=Wi(),f=Jd(mr);let m=mr;pi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=pa.bind(null,ft=>""+ft),v=pa.bind(null,tg),M=pa.bind(null,fs);function A(ft,St){let Et,jt;return Bh(ft)?(Et=n.getRecordMatcher(ft),jt=St):jt=ft,n.addRoute(jt,Et)}function S(ft){const St=n.getRecordMatcher(ft);St&&n.removeRoute(St)}function E(){return n.getRoutes().map(ft=>ft.record)}function G(ft){return!!n.getRecordMatcher(ft)}function C(ft,St){if(St=Le({},St||f.value),typeof ft=="string"){const Q=da(s,ft,St.path),dt=n.resolve({path:Q.path},St),gt=c.createHref(Q.fullPath);return Le(Q,dt,{params:M(dt.params),hash:fs(Q.hash),redirectedFrom:void 0,href:gt})}let Et;if("path"in ft)Et=Le({},ft,{path:da(s,ft.path,St.path).path});else{const Q=Le({},ft.params);for(const dt in Q)Q[dt]==null&&delete Q[dt];Et=Le({},ft,{params:v(Q)}),St.params=v(St.params)}const jt=n.resolve(Et,St),ue=ft.hash||"";jt.params=g(M(jt.params));const H=d_(a,Le({},ft,{hash:Y_(ue),path:jt.path})),K=c.createHref(H);return Le({fullPath:H,hash:ue,query:a===Yu?ng(ft.query):ft.query||{}},jt,{redirectedFrom:void 0,href:K})}function P(ft){return typeof ft=="string"?da(s,ft,f.value.path):Le({},ft)}function j(ft,St){if(m!==ft)return wi(8,{from:St,to:ft})}function O(ft){return ot(ft)}function D(ft){return O(Le(P(ft),{replace:!0}))}function W(ft){const St=ft.matched[ft.matched.length-1];if(St&&St.redirect){const{redirect:Et}=St;let jt=typeof Et=="function"?Et(ft):Et;return typeof jt=="string"&&(jt=jt.includes("?")||jt.includes("#")?jt=P(jt):{path:jt},jt.params={}),Le({query:ft.query,hash:ft.hash,params:"path"in jt?{}:ft.params},jt)}}function ot(ft,St){const Et=m=C(ft),jt=f.value,ue=ft.state,H=ft.force,K=ft.replace===!0,Q=W(Et);if(Q)return ot(Le(P(Q),{state:typeof Q=="object"?Le({},ue,Q.state):ue,force:H,replace:K}),St||Et);const dt=Et;dt.redirectedFrom=St;let gt;return!H&&f_(a,jt,Et)&&(gt=wi(16,{to:dt,from:jt}),It(jt,jt,!0,!1)),(gt?Promise.resolve(gt):ht(dt,jt)).catch(xt=>Qn(xt)?Qn(xt,2)?xt:zt(xt):wt(xt,dt,jt)).then(xt=>{if(xt){if(Qn(xt,2))return ot(Le({replace:K},P(xt.to),{state:typeof xt.to=="object"?Le({},ue,xt.to.state):ue,force:H}),St||dt)}else xt=at(dt,jt,!0,K,ue);return _t(dt,jt,xt),xt})}function J(ft,St){const Et=j(ft,St);return Et?Promise.reject(Et):Promise.resolve()}function it(ft){const St=me.values().next().value;return St&&typeof St.runWithContext=="function"?St.runWithContext(ft):ft()}function ht(ft,St){let Et;const[jt,ue,H]=pg(ft,St);Et=fa(jt.reverse(),"beforeRouteLeave",ft,St);for(const Q of jt)Q.leaveGuards.forEach(dt=>{Et.push(vr(dt,ft,St))});const K=J.bind(null,ft,St);return Et.push(K),Vt(Et).then(()=>{Et=[];for(const Q of i.list())Et.push(vr(Q,ft,St));return Et.push(K),Vt(Et)}).then(()=>{Et=fa(ue,"beforeRouteUpdate",ft,St);for(const Q of ue)Q.updateGuards.forEach(dt=>{Et.push(vr(dt,ft,St))});return Et.push(K),Vt(Et)}).then(()=>{Et=[];for(const Q of H)if(Q.beforeEnter)if(An(Q.beforeEnter))for(const dt of Q.beforeEnter)Et.push(vr(dt,ft,St));else Et.push(vr(Q.beforeEnter,ft,St));return Et.push(K),Vt(Et)}).then(()=>(ft.matched.forEach(Q=>Q.enterCallbacks={}),Et=fa(H,"beforeRouteEnter",ft,St),Et.push(K),Vt(Et))).then(()=>{Et=[];for(const Q of u.list())Et.push(vr(Q,ft,St));return Et.push(K),Vt(Et)}).catch(Q=>Qn(Q,8)?Q:Promise.reject(Q))}function _t(ft,St,Et){h.list().forEach(jt=>it(()=>jt(ft,St,Et)))}function at(ft,St,Et,jt,ue){const H=j(ft,St);if(H)return H;const K=St===mr,Q=pi?history.state:{};Et&&(jt||K?c.replace(ft.fullPath,Le({scroll:K&&Q&&Q.scroll},ue)):c.push(ft.fullPath,ue)),f.value=ft,It(ft,St,Et,K),zt()}let bt;function Lt(){bt||(bt=c.listen((ft,St,Et)=>{if(!le.listening)return;const jt=C(ft),ue=W(jt);if(ue){ot(Le(ue,{replace:!0}),jt).catch(ro);return}m=jt;const H=f.value;pi&&x_(Hu(H.fullPath,Et.delta),As()),ht(jt,H).catch(K=>Qn(K,12)?K:Qn(K,2)?(ot(K.to,jt).then(Q=>{Qn(Q,20)&&!Et.delta&&Et.type===mo.pop&&c.go(-1,!1)}).catch(ro),Promise.reject()):(Et.delta&&c.go(-Et.delta,!1),wt(K,jt,H))).then(K=>{K=K||at(jt,H,!1),K&&(Et.delta&&!Qn(K,8)?c.go(-Et.delta,!1):Et.type===mo.pop&&Qn(K,20)&&c.go(-1,!1)),_t(jt,H,K)}).catch(ro)}))}let Tt=Wi(),Ct=Wi(),$t;function wt(ft,St,Et){zt(ft);const jt=Ct.list();return jt.length?jt.forEach(ue=>ue(ft,St,Et)):console.error(ft),Promise.reject(ft)}function fe(){return $t&&f.value!==mr?Promise.resolve():new Promise((ft,St)=>{Tt.add([ft,St])})}function zt(ft){return $t||($t=!ft,Lt(),Tt.list().forEach(([St,Et])=>ft?Et(ft):St()),Tt.reset()),ft}function It(ft,St,Et,jt){const{scrollBehavior:ue}=t;if(!pi||!ue)return Promise.resolve();const H=!Et&&k_(Hu(ft.fullPath,0))||(jt||!Et)&&history.state&&history.state.scroll||null;return ks().then(()=>ue(ft,St,H)).then(K=>K&&w_(K)).catch(K=>wt(K,ft,St))}const Ut=ft=>c.go(ft);let Me;const me=new Set,le={currentRoute:f,listening:!0,addRoute:A,removeRoute:S,hasRoute:G,getRoutes:E,resolve:C,options:t,push:O,replace:D,go:Ut,back:()=>Ut(-1),forward:()=>Ut(1),beforeEach:i.add,beforeResolve:u.add,afterEach:h.add,onError:Ct.add,isReady:fe,install(ft){const St=this;ft.component("RouterLink",sg),ft.component("RouterView",cg),ft.config.globalProperties.$router=St,Object.defineProperty(ft.config.globalProperties,"$route",{enumerable:!0,get:()=>Wt(f)}),pi&&!Me&&f.value===mr&&(Me=!0,O(c.location).catch(ue=>{}));const Et={};for(const ue in mr)Object.defineProperty(Et,ue,{get:()=>f.value[ue],enumerable:!0});ft.provide(Rs,St),ft.provide(fl,Hc(Et)),ft.provide(Da,f);const jt=ft.unmount;me.add(ft),ft.unmount=function(){me.delete(ft),me.size<1&&(m=mr,bt&&bt(),bt=null,f.value=mr,Me=!1,$t=!1),jt()}}};function Vt(ft){return ft.reduce((St,Et)=>St.then(()=>it(Et)),Promise.resolve())}return le}function pg(t,n){const s=[],a=[],c=[],i=Math.max(n.matched.length,t.matched.length);for(let u=0;u<i;u++){const h=n.matched[u];h&&(t.matched.find(m=>bi(m,h))?a.push(h):s.push(h));const f=t.matched[u];f&&(n.matched.find(m=>bi(m,f))||c.push(f))}return[s,a,c]}function Bs(){return xn(Rs)}function Fh(){return xn(fl)}var dg=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Hh;const Is=t=>Hh=t,$h=Symbol();function za(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var oo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(oo||(oo={}));function fg(){const t=Oc(!0),n=t.run(()=>Ft({}));let s=[],a=[];const c=ws({install(i){Is(c),c._a=i,i.provide($h,c),i.config.globalProperties.$pinia=c,a.forEach(u=>s.push(u)),a=[]},use(i){return!this._a&&!dg?a.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:n});return c}const Uh=()=>{};function rc(t,n,s,a=Uh){t.push(n);const c=()=>{const i=t.indexOf(n);i>-1&&(t.splice(i,1),a())};return!s&&Ac()&&xd(c),c}function ci(t,...n){t.slice().forEach(s=>{s(...n)})}const mg=t=>t();function ja(t,n){t instanceof Map&&n instanceof Map&&n.forEach((s,a)=>t.set(a,s)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const s in n){if(!n.hasOwnProperty(s))continue;const a=n[s],c=t[s];za(c)&&za(a)&&t.hasOwnProperty(s)&&!De(a)&&!wr(a)?t[s]=ja(c,a):t[s]=a}return t}const _g=Symbol();function gg(t){return!za(t)||!t.hasOwnProperty(_g)}const{assign:gr}=Object;function yg(t){return!!(De(t)&&t.effect)}function vg(t,n,s,a){const{state:c,actions:i,getters:u}=n,h=s.state.value[t];let f;function m(){h||(s.state.value[t]=c?c():{});const g=Qd(s.state.value[t]);return gr(g,i,Object.keys(u||{}).reduce((v,M)=>(v[M]=ws(Jt(()=>{Is(s);const A=s._s.get(t);return u[M].call(A,A)})),v),{}))}return f=Zh(t,m,n,s,a,!0),f}function Zh(t,n,s={},a,c,i){let u;const h=gr({actions:{}},s),f={deep:!0};let m,g,v=[],M=[],A;const S=a.state.value[t];!i&&!S&&(a.state.value[t]={}),Ft({});let E;function G(J){let it;m=g=!1,typeof J=="function"?(J(a.state.value[t]),it={type:oo.patchFunction,storeId:t,events:A}):(ja(a.state.value[t],J),it={type:oo.patchObject,payload:J,storeId:t,events:A});const ht=E=Symbol();ks().then(()=>{E===ht&&(m=!0)}),g=!0,ci(v,it,a.state.value[t])}const C=i?function(){const{state:it}=s,ht=it?it():{};this.$patch(_t=>{gr(_t,ht)})}:Uh;function P(){u.stop(),v=[],M=[],a._s.delete(t)}function j(J,it){return function(){Is(a);const ht=Array.from(arguments),_t=[],at=[];function bt(Ct){_t.push(Ct)}function Lt(Ct){at.push(Ct)}ci(M,{args:ht,name:J,store:D,after:bt,onError:Lt});let Tt;try{Tt=it.apply(this&&this.$id===t?this:D,ht)}catch(Ct){throw ci(at,Ct),Ct}return Tt instanceof Promise?Tt.then(Ct=>(ci(_t,Ct),Ct)).catch(Ct=>(ci(at,Ct),Promise.reject(Ct))):(ci(_t,Tt),Tt)}}const O={_p:a,$id:t,$onAction:rc.bind(null,M),$patch:G,$reset:C,$subscribe(J,it={}){const ht=rc(v,J,it.detached,()=>_t()),_t=u.run(()=>qe(()=>a.state.value[t],at=>{(it.flush==="sync"?g:m)&&J({storeId:t,type:oo.direct,events:A},at)},gr({},f,it)));return ht},$dispose:P},D=vo(O);a._s.set(t,D);const W=a._a&&a._a.runWithContext||mg,ot=a._e.run(()=>(u=Oc(),W(()=>u.run(n))));for(const J in ot){const it=ot[J];if(De(it)&&!yg(it)||wr(it))i||(S&&gg(it)&&(De(it)?it.value=S[J]:ja(it,S[J])),a.state.value[t][J]=it);else if(typeof it=="function"){const ht=j(J,it);ot[J]=ht,h.actions[J]=it}}return gr(D,ot),gr(_e(D),ot),Object.defineProperty(D,"$state",{get:()=>a.state.value[t],set:J=>{G(it=>{gr(it,J)})}}),a._p.forEach(J=>{gr(D,u.run(()=>J({store:D,app:a._a,pinia:a,options:h})))}),S&&i&&s.hydrate&&s.hydrate(D.$state,S),m=!0,g=!0,D}function wo(t,n,s){let a,c;const i=typeof n=="function";typeof t=="string"?(a=t,c=i?s:n):(c=t,a=t.id);function u(h,f){const m=jf();return h=h||(m?xn($h,null):null),h&&Is(h),h=Hh,h._s.has(a)||(i?Zh(a,n,c,h):vg(a,c,h)),h._s.get(a)}return u.$id=a,u}const ml=wo("footerStore",{state:()=>({nextAuthor:""}),actions:{async setNextAuthorText(t){this.nextAuthor=t}}}),bg={key:0},wg={__name:"FooterAnalytics",setup(t){const n={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},a=Object.keys({base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}}.analytics_services||{}).map(c=>n[c]).filter(Boolean).join("; ");return(c,i)=>Wt(a)?(N(),X("span",bg,"This site uses "+qt(Wt(a))+".",1)):Rt("",!0)}},xg={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},kg={class:"container mx-auto text-sm pt-2 pb-4"},Lg={class:"pt-4 pb-2 break-words"},Mg=["innerHTML"],Cg={key:0},Pg=["href"],Sg={class:"flex items-center text-xs gap-2"},Eg=["src"],Tg=Y("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1),Og={class:"flex flex-col sm:flex-row justify-between gap-4"},Ag={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},Rg=Y("span",null,[ee(" Data provided by "),Y("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1),Bg=Y("span",null,[ee(" Pages by "),Y("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1),Ig=Y("span",null,[ee(" Support (Services) by "),Y("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1),Dg={__name:"LayoutFooter",setup(t){const{project_authors:n,project_citation:s,project_url:a,copyright_text:c,copyright_image:i,copyright_image_link:u,hash_mode:h}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},f=ml(),m=new Date().toISOString().split("T")[0],g=Fh(),v=Jt(()=>{const M=(a||"").replace(/\/$/,"");return M.length?h?M+"/#"+g.fullPath:M+g.fullPath:""});return(M,A)=>{const S=ut("ClientOnly"),E=ut("TrackerReport");return N(),X("footer",xg,[Y("div",kg,[Y("div",Lg,[ee(qt(Wt(n))+" ",1),rt(S,null,{default:ct(()=>[Y("span",{innerHTML:Wt(f).nextAuthor},null,8,Mg)]),_:1}),ee(" "+qt(Wt(s))+". ",1),rt(S,null,{default:ct(()=>[Y("span",null,"Retrieved on "+qt(Wt(m)),1)]),_:1}),v.value?(N(),X("span",Cg,[ee(" at "),Y("a",{class:"text-secondary-color",href:v.value},qt(v.value),9,Pg)])):Rt("",!0)]),Y("div",Sg,[(N(),Pt(Ci(Wt(u)?"a":"span"),{href:Wt(u),class:"min-w-fit"},{default:ct(()=>[Wt(i)?(N(),X("img",{key:0,src:Wt(i),alt:"copyright"},null,8,Eg)):Rt("",!0)]),_:1},8,["href"])),Y("span",null,qt(Wt(c)),1)]),Tg,Y("div",Og,[Y("div",Ag,[Rg,Bg,Ig,rt(wg,{class:"italic"})]),rt(E,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},zg={class:"min-h-screen h-screen flex flex-col justify-between"},jg={class:"flex flex-col flex-grow"},Ng={__name:"Application",setup(t){return(n,s)=>(N(),X("div",zg,[Y("div",jg,[rt(u_),Se(n.$slots,"default")]),rt(Dg)]))}},Gg={__name:"App",setup(t){return pl({title:"Ammonoidea",meta:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}]}),(n,s)=>{const a=ut("router-view");return N(),Pt(Ng,null,{default:ct(()=>[rt(a)]),_:1})}}},ie=(t,n)=>{const s=t.__vccOpts||t;for(const[a,c]of n)s[a]=c;return s},Vg={},Fg={class:"mx-auto"},Hg=Y("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[Y("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),Y("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1),$g=[Hg];function Ug(t,n){return N(),X("div",Fg,$g)}const Zg=ie(Vg,[["render",Ug]]),qg={},Kg={class:"container mx-auto text-center relative top-1/4"},Wg=Y("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),Jg=Y("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1),Yg=[Wg,Jg];function Xg(t,n){return N(),X("div",Kg,Yg)}const Qg=ie(qg,[["render",Xg]]),ty=[{name:"homepage",path:"/",alias:"/home",component:Qg}],ey={},ny={class:"container mx-auto text-center relative top-1/4"},ry=Y("h1",{class:"text-7xl text-base-lighter"},"500",-1),iy=Y("p",null,"Internal Server Error.",-1),oy=Y("p",{class:"m-4 my-10 text-xl"},[ee(" Uh oh, looks like something went wrong!"),Y("br"),ee(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1),sy=[ry,iy,oy];function ay(t,n){return N(),X("div",ny,sy)}const ly=ie(ey,[["render",ay]]),uy={},cy={class:"container mx-auto text-center relative top-1/4"},hy=Y("h1",{class:"text-7xl text-base-lighter"},"404",-1),py=Y("p",null,"Page not found.",-1),dy=Y("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1),fy=[hy,py,dy];function my(t,n){return N(),X("div",cy,fy)}const _y=ie(uy,[["render",my]]),gy=[{path:"/500",name:"httpError500",component:ly,meta:{statusCode:500}},{path:"/:pathMatch(.*)*",name:"httpError404",component:_y,meta:{statusCode:404}}],Ds=wo("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:t=>n=>t.requests[n],sitemap:t=>{const n=Object.keys(t.requests).sort();return Object.fromEntries(n.map(s=>[s,t.requests[s].url]))}},actions:{setRequest(t,{data:n,request:s}){var c;const a=((c=s.res)==null?void 0:c.responseUrl)||s.responseURL;this.requests[t]={url:a,data:n}}}}),yy="FamilyGroup",vy="GenusGroup",by="SpeciesGroup",wy="SpeciesAndInfraspeciesGroup",_o={CanceledError:"CanceledError"},ic=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function Mr(t,n){const s=Ds(),a=n();return a.then(c=>{s.setRequest(t,c)}).catch(c=>{c.name!==_o.CanceledError&&s.setRequest(t,c.response)}),a}function qh(t,n){return function(){return t.apply(n,arguments)}}const{toString:xy}=Object.prototype,{getPrototypeOf:_l}=Object,zs=(t=>n=>{const s=xy.call(n);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=t=>(t=t.toLowerCase(),n=>zs(n)===t),js=t=>n=>typeof n===t,{isArray:Pi}=Array,go=js("undefined");function ky(t){return t!==null&&!go(t)&&t.constructor!==null&&!go(t.constructor)&&kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Kh=Hn("ArrayBuffer");function Ly(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Kh(t.buffer),n}const My=js("string"),kn=js("function"),Wh=js("number"),Ns=t=>t!==null&&typeof t=="object",Cy=t=>t===!0||t===!1,es=t=>{if(zs(t)!=="object")return!1;const n=_l(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Py=Hn("Date"),Sy=Hn("File"),Ey=Hn("Blob"),Ty=Hn("FileList"),Oy=t=>Ns(t)&&kn(t.pipe),Ay=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||kn(t.append)&&((n=zs(t))==="formdata"||n==="object"&&kn(t.toString)&&t.toString()==="[object FormData]"))},Ry=Hn("URLSearchParams"),By=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xo(t,n,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,c;if(typeof t!="object"&&(t=[t]),Pi(t))for(a=0,c=t.length;a<c;a++)n.call(null,t[a],a,t);else{const i=s?Object.getOwnPropertyNames(t):Object.keys(t),u=i.length;let h;for(a=0;a<u;a++)h=i[a],n.call(null,t[h],h,t)}}function Jh(t,n){n=n.toLowerCase();const s=Object.keys(t);let a=s.length,c;for(;a-- >0;)if(c=s[a],n===c.toLowerCase())return c;return null}const Yh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Xh=t=>!go(t)&&t!==Yh;function Na(){const{caseless:t}=Xh(this)&&this||{},n={},s=(a,c)=>{const i=t&&Jh(n,c)||c;es(n[i])&&es(a)?n[i]=Na(n[i],a):es(a)?n[i]=Na({},a):Pi(a)?n[i]=a.slice():n[i]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&xo(arguments[a],s);return n}const Iy=(t,n,s,{allOwnKeys:a}={})=>(xo(n,(c,i)=>{s&&kn(c)?t[i]=qh(c,s):t[i]=c},{allOwnKeys:a}),t),Dy=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zy=(t,n,s,a)=>{t.prototype=Object.create(n.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},jy=(t,n,s,a)=>{let c,i,u;const h={};if(n=n||{},t==null)return n;do{for(c=Object.getOwnPropertyNames(t),i=c.length;i-- >0;)u=c[i],(!a||a(u,t,n))&&!h[u]&&(n[u]=t[u],h[u]=!0);t=s!==!1&&_l(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},Ny=(t,n,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=n.length;const a=t.indexOf(n,s);return a!==-1&&a===s},Gy=t=>{if(!t)return null;if(Pi(t))return t;let n=t.length;if(!Wh(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},Vy=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&_l(Uint8Array)),Fy=(t,n)=>{const a=(t&&t[Symbol.iterator]).call(t);let c;for(;(c=a.next())&&!c.done;){const i=c.value;n.call(t,i[0],i[1])}},Hy=(t,n)=>{let s;const a=[];for(;(s=t.exec(n))!==null;)a.push(s);return a},$y=Hn("HTMLFormElement"),Uy=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,c){return a.toUpperCase()+c}),oc=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),Zy=Hn("RegExp"),Qh=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),a={};xo(s,(c,i)=>{let u;(u=n(c,i,t))!==!1&&(a[i]=u||c)}),Object.defineProperties(t,a)},qy=t=>{Qh(t,(n,s)=>{if(kn(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(kn(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ky=(t,n)=>{const s={},a=c=>{c.forEach(i=>{s[i]=!0})};return Pi(t)?a(t):a(String(t).split(n)),s},Wy=()=>{},Jy=(t,n)=>(t=+t,Number.isFinite(t)?t:n),ma="abcdefghijklmnopqrstuvwxyz",sc="0123456789",tp={DIGIT:sc,ALPHA:ma,ALPHA_DIGIT:ma+ma.toUpperCase()+sc},Yy=(t=16,n=tp.ALPHA_DIGIT)=>{let s="";const{length:a}=n;for(;t--;)s+=n[Math.random()*a|0];return s};function Xy(t){return!!(t&&kn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Qy=t=>{const n=new Array(10),s=(a,c)=>{if(Ns(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[c]=a;const i=Pi(a)?[]:{};return xo(a,(u,h)=>{const f=s(u,c+1);!go(f)&&(i[h]=f)}),n[c]=void 0,i}}return a};return s(t,0)},tv=Hn("AsyncFunction"),ev=t=>t&&(Ns(t)||kn(t))&&kn(t.then)&&kn(t.catch),yt={isArray:Pi,isArrayBuffer:Kh,isBuffer:ky,isFormData:Ay,isArrayBufferView:Ly,isString:My,isNumber:Wh,isBoolean:Cy,isObject:Ns,isPlainObject:es,isUndefined:go,isDate:Py,isFile:Sy,isBlob:Ey,isRegExp:Zy,isFunction:kn,isStream:Oy,isURLSearchParams:Ry,isTypedArray:Vy,isFileList:Ty,forEach:xo,merge:Na,extend:Iy,trim:By,stripBOM:Dy,inherits:zy,toFlatObject:jy,kindOf:zs,kindOfTest:Hn,endsWith:Ny,toArray:Gy,forEachEntry:Fy,matchAll:Hy,isHTMLForm:$y,hasOwnProperty:oc,hasOwnProp:oc,reduceDescriptors:Qh,freezeMethods:qy,toObjectSet:Ky,toCamelCase:Uy,noop:Wy,toFiniteNumber:Jy,findKey:Jh,global:Yh,isContextDefined:Xh,ALPHABET:tp,generateString:Yy,isSpecCompliantForm:Xy,toJSONObject:Qy,isAsyncFn:tv,isThenable:ev};function ye(t,n,s,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),a&&(this.request=a),c&&(this.response=c)}yt.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ep=ye.prototype,np={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{np[t]={value:t}});Object.defineProperties(ye,np);Object.defineProperty(ep,"isAxiosError",{value:!0});ye.from=(t,n,s,a,c,i)=>{const u=Object.create(ep);return yt.toFlatObject(t,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),ye.call(u,t.message,n,s,a,c),u.cause=t,u.name=t.name,i&&Object.assign(u,i),u};const nv=null;function Ga(t){return yt.isPlainObject(t)||yt.isArray(t)}function rp(t){return yt.endsWith(t,"[]")?t.slice(0,-2):t}function ac(t,n,s){return t?t.concat(n).map(function(c,i){return c=rp(c),!s&&i?"["+c+"]":c}).join(s?".":""):n}function rv(t){return yt.isArray(t)&&!t.some(Ga)}const iv=yt.toFlatObject(yt,{},null,function(n){return/^is[A-Z]/.test(n)});function Gs(t,n,s){if(!yt.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,s=yt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,G){return!yt.isUndefined(G[E])});const a=s.metaTokens,c=s.visitor||g,i=s.dots,u=s.indexes,f=(s.Blob||typeof Blob<"u"&&Blob)&&yt.isSpecCompliantForm(n);if(!yt.isFunction(c))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(yt.isDate(S))return S.toISOString();if(!f&&yt.isBlob(S))throw new ye("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(S)||yt.isTypedArray(S)?f&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,E,G){let C=S;if(S&&!G&&typeof S=="object"){if(yt.endsWith(E,"{}"))E=a?E:E.slice(0,-2),S=JSON.stringify(S);else if(yt.isArray(S)&&rv(S)||(yt.isFileList(S)||yt.endsWith(E,"[]"))&&(C=yt.toArray(S)))return E=rp(E),C.forEach(function(j,O){!(yt.isUndefined(j)||j===null)&&n.append(u===!0?ac([E],O,i):u===null?E:E+"[]",m(j))}),!1}return Ga(S)?!0:(n.append(ac(G,E,i),m(S)),!1)}const v=[],M=Object.assign(iv,{defaultVisitor:g,convertValue:m,isVisitable:Ga});function A(S,E){if(!yt.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+E.join("."));v.push(S),yt.forEach(S,function(C,P){(!(yt.isUndefined(C)||C===null)&&c.call(n,C,yt.isString(P)?P.trim():P,E,M))===!0&&A(C,E?E.concat(P):[P])}),v.pop()}}if(!yt.isObject(t))throw new TypeError("data must be an object");return A(t),n}function lc(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function gl(t,n){this._pairs=[],t&&Gs(t,this,n)}const ip=gl.prototype;ip.append=function(n,s){this._pairs.push([n,s])};ip.toString=function(n){const s=n?function(a){return n.call(this,a,lc)}:lc;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function ov(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function op(t,n,s){if(!n)return t;const a=s&&s.encode||ov,c=s&&s.serialize;let i;if(c?i=c(n,s):i=yt.isURLSearchParams(n)?n.toString():new gl(n,s).toString(a),i){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class sv{constructor(){this.handlers=[]}use(n,s,a){return this.handlers.push({fulfilled:n,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){yt.forEach(this.handlers,function(a){a!==null&&n(a)})}}const uc=sv,sp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},av=typeof URLSearchParams<"u"?URLSearchParams:gl,lv=typeof FormData<"u"?FormData:null,uv=typeof Blob<"u"?Blob:null,cv=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),hv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Tn={isBrowser:!0,classes:{URLSearchParams:av,FormData:lv,Blob:uv},isStandardBrowserEnv:cv,isStandardBrowserWebWorkerEnv:hv,protocols:["http","https","file","blob","url","data"]};function pv(t,n){return Gs(t,new Tn.classes.URLSearchParams,Object.assign({visitor:function(s,a,c,i){return Tn.isNode&&yt.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},n))}function dv(t){return yt.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function fv(t){const n={},s=Object.keys(t);let a;const c=s.length;let i;for(a=0;a<c;a++)i=s[a],n[i]=t[i];return n}function ap(t){function n(s,a,c,i){let u=s[i++];const h=Number.isFinite(+u),f=i>=s.length;return u=!u&&yt.isArray(c)?c.length:u,f?(yt.hasOwnProp(c,u)?c[u]=[c[u],a]:c[u]=a,!h):((!c[u]||!yt.isObject(c[u]))&&(c[u]=[]),n(s,a,c[u],i)&&yt.isArray(c[u])&&(c[u]=fv(c[u])),!h)}if(yt.isFormData(t)&&yt.isFunction(t.entries)){const s={};return yt.forEachEntry(t,(a,c)=>{n(dv(a),c,s,0)}),s}return null}function mv(t,n,s){if(yt.isString(t))try{return(n||JSON.parse)(t),yt.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const yl={transitional:sp,adapter:Tn.isNode?"http":"xhr",transformRequest:[function(n,s){const a=s.getContentType()||"",c=a.indexOf("application/json")>-1,i=yt.isObject(n);if(i&&yt.isHTMLForm(n)&&(n=new FormData(n)),yt.isFormData(n))return c&&c?JSON.stringify(ap(n)):n;if(yt.isArrayBuffer(n)||yt.isBuffer(n)||yt.isStream(n)||yt.isFile(n)||yt.isBlob(n))return n;if(yt.isArrayBufferView(n))return n.buffer;if(yt.isURLSearchParams(n))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return pv(n,this.formSerializer).toString();if((h=yt.isFileList(n))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Gs(h?{"files[]":n}:n,f&&new f,this.formSerializer)}}return i||c?(s.setContentType("application/json",!1),mv(n)):n}],transformResponse:[function(n){const s=this.transitional||yl.transitional,a=s&&s.forcedJSONParsing,c=this.responseType==="json";if(n&&yt.isString(n)&&(a&&!this.responseType||c)){const u=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(n)}catch(h){if(u)throw h.name==="SyntaxError"?ye.from(h,ye.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],t=>{yl.headers[t]={}});const vl=yl,_v=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gv=t=>{const n={};let s,a,c;return t&&t.split(`
`).forEach(function(u){c=u.indexOf(":"),s=u.substring(0,c).trim().toLowerCase(),a=u.substring(c+1).trim(),!(!s||n[s]&&_v[s])&&(s==="set-cookie"?n[s]?n[s].push(a):n[s]=[a]:n[s]=n[s]?n[s]+", "+a:a)}),n},cc=Symbol("internals");function Ji(t){return t&&String(t).trim().toLowerCase()}function ns(t){return t===!1||t==null?t:yt.isArray(t)?t.map(ns):String(t)}function yv(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)n[a[1]]=a[2];return n}const vv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _a(t,n,s,a,c){if(yt.isFunction(a))return a.call(this,n,s);if(c&&(n=s),!!yt.isString(n)){if(yt.isString(a))return n.indexOf(a)!==-1;if(yt.isRegExp(a))return a.test(n)}}function bv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,s,a)=>s.toUpperCase()+a)}function wv(t,n){const s=yt.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(c,i,u){return this[a].call(this,n,c,i,u)},configurable:!0})})}class Vs{constructor(n){n&&this.set(n)}set(n,s,a){const c=this;function i(h,f,m){const g=Ji(f);if(!g)throw new Error("header name must be a non-empty string");const v=yt.findKey(c,g);(!v||c[v]===void 0||m===!0||m===void 0&&c[v]!==!1)&&(c[v||f]=ns(h))}const u=(h,f)=>yt.forEach(h,(m,g)=>i(m,g,f));return yt.isPlainObject(n)||n instanceof this.constructor?u(n,s):yt.isString(n)&&(n=n.trim())&&!vv(n)?u(gv(n),s):n!=null&&i(s,n,a),this}get(n,s){if(n=Ji(n),n){const a=yt.findKey(this,n);if(a){const c=this[a];if(!s)return c;if(s===!0)return yv(c);if(yt.isFunction(s))return s.call(this,c,a);if(yt.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,s){if(n=Ji(n),n){const a=yt.findKey(this,n);return!!(a&&this[a]!==void 0&&(!s||_a(this,this[a],a,s)))}return!1}delete(n,s){const a=this;let c=!1;function i(u){if(u=Ji(u),u){const h=yt.findKey(a,u);h&&(!s||_a(a,a[h],h,s))&&(delete a[h],c=!0)}}return yt.isArray(n)?n.forEach(i):i(n),c}clear(n){const s=Object.keys(this);let a=s.length,c=!1;for(;a--;){const i=s[a];(!n||_a(this,this[i],i,n,!0))&&(delete this[i],c=!0)}return c}normalize(n){const s=this,a={};return yt.forEach(this,(c,i)=>{const u=yt.findKey(a,i);if(u){s[u]=ns(c),delete s[i];return}const h=n?bv(i):String(i).trim();h!==i&&delete s[i],s[h]=ns(c),a[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const s=Object.create(null);return yt.forEach(this,(a,c)=>{a!=null&&a!==!1&&(s[c]=n&&yt.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,s])=>n+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...s){const a=new this(n);return s.forEach(c=>a.set(c)),a}static accessor(n){const a=(this[cc]=this[cc]={accessors:{}}).accessors,c=this.prototype;function i(u){const h=Ji(u);a[h]||(wv(c,u),a[h]=!0)}return yt.isArray(n)?n.forEach(i):i(n),this}}Vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);yt.reduceDescriptors(Vs.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(a){this[s]=a}}});yt.freezeMethods(Vs);const er=Vs;function ga(t,n){const s=this||vl,a=n||s,c=er.from(a.headers);let i=a.data;return yt.forEach(t,function(h){i=h.call(s,i,c.normalize(),n?n.status:void 0)}),c.normalize(),i}function lp(t){return!!(t&&t.__CANCEL__)}function ko(t,n,s){ye.call(this,t??"canceled",ye.ERR_CANCELED,n,s),this.name="CanceledError"}yt.inherits(ko,ye,{__CANCEL__:!0});function xv(t,n,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):n(new ye("Request failed with status code "+s.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const kv=Tn.isStandardBrowserEnv?function(){return{write:function(s,a,c,i,u,h){const f=[];f.push(s+"="+encodeURIComponent(a)),yt.isNumber(c)&&f.push("expires="+new Date(c).toGMTString()),yt.isString(i)&&f.push("path="+i),yt.isString(u)&&f.push("domain="+u),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Lv(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Mv(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function up(t,n){return t&&!Lv(n)?Mv(t,n):n}const Cv=Tn.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function c(i){let u=i;return n&&(s.setAttribute("href",u),u=s.href),s.setAttribute("href",u),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=c(window.location.href),function(u){const h=yt.isString(u)?c(u):u;return h.protocol===a.protocol&&h.host===a.host}}():function(){return function(){return!0}}();function Pv(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Sv(t,n){t=t||10;const s=new Array(t),a=new Array(t);let c=0,i=0,u;return n=n!==void 0?n:1e3,function(f){const m=Date.now(),g=a[i];u||(u=m),s[c]=f,a[c]=m;let v=i,M=0;for(;v!==c;)M+=s[v++],v=v%t;if(c=(c+1)%t,c===i&&(i=(i+1)%t),m-u<n)return;const A=g&&m-g;return A?Math.round(M*1e3/A):void 0}}function hc(t,n){let s=0;const a=Sv(50,250);return c=>{const i=c.loaded,u=c.lengthComputable?c.total:void 0,h=i-s,f=a(h),m=i<=u;s=i;const g={loaded:i,total:u,progress:u?i/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&m?(u-i)/f:void 0,event:c};g[n?"download":"upload"]=!0,t(g)}}const Ev=typeof XMLHttpRequest<"u",Tv=Ev&&function(t){return new Promise(function(s,a){let c=t.data;const i=er.from(t.headers).normalize(),u=t.responseType;let h;function f(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}yt.isFormData(c)&&(Tn.isStandardBrowserEnv||Tn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let m=new XMLHttpRequest;if(t.auth){const A=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(A+":"+S))}const g=up(t.baseURL,t.url);m.open(t.method.toUpperCase(),op(g,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function v(){if(!m)return;const A=er.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:A,config:t,request:m};xv(function(C){s(C),f()},function(C){a(C),f()},E),m=null}if("onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(a(new ye("Request aborted",ye.ECONNABORTED,t,m)),m=null)},m.onerror=function(){a(new ye("Network Error",ye.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const E=t.transitional||sp;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),a(new ye(S,E.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,t,m)),m=null},Tn.isStandardBrowserEnv){const A=(t.withCredentials||Cv(g))&&t.xsrfCookieName&&kv.read(t.xsrfCookieName);A&&i.set(t.xsrfHeaderName,A)}c===void 0&&i.setContentType(null),"setRequestHeader"in m&&yt.forEach(i.toJSON(),function(S,E){m.setRequestHeader(E,S)}),yt.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),u&&u!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",hc(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",hc(t.onUploadProgress)),(t.cancelToken||t.signal)&&(h=A=>{m&&(a(!A||A.type?new ko(null,t,m):A),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h)));const M=Pv(g);if(M&&Tn.protocols.indexOf(M)===-1){a(new ye("Unsupported protocol "+M+":",ye.ERR_BAD_REQUEST,t));return}m.send(c||null)})},rs={http:nv,xhr:Tv};yt.forEach(rs,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const cp={getAdapter:t=>{t=yt.isArray(t)?t:[t];const{length:n}=t;let s,a;for(let c=0;c<n&&(s=t[c],!(a=yt.isString(s)?rs[s.toLowerCase()]:s));c++);if(!a)throw a===!1?new ye(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(yt.hasOwnProp(rs,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!yt.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:rs};function ya(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ko(null,t)}function pc(t){return ya(t),t.headers=er.from(t.headers),t.data=ga.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cp.getAdapter(t.adapter||vl.adapter)(t).then(function(a){return ya(t),a.data=ga.call(t,t.transformResponse,a),a.headers=er.from(a.headers),a},function(a){return lp(a)||(ya(t),a&&a.response&&(a.response.data=ga.call(t,t.transformResponse,a.response),a.response.headers=er.from(a.response.headers))),Promise.reject(a)})}const dc=t=>t instanceof er?t.toJSON():t;function xi(t,n){n=n||{};const s={};function a(m,g,v){return yt.isPlainObject(m)&&yt.isPlainObject(g)?yt.merge.call({caseless:v},m,g):yt.isPlainObject(g)?yt.merge({},g):yt.isArray(g)?g.slice():g}function c(m,g,v){if(yt.isUndefined(g)){if(!yt.isUndefined(m))return a(void 0,m,v)}else return a(m,g,v)}function i(m,g){if(!yt.isUndefined(g))return a(void 0,g)}function u(m,g){if(yt.isUndefined(g)){if(!yt.isUndefined(m))return a(void 0,m)}else return a(void 0,g)}function h(m,g,v){if(v in n)return a(m,g);if(v in t)return a(void 0,m)}const f={url:i,method:i,data:i,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,g)=>c(dc(m),dc(g),!0)};return yt.forEach(Object.keys(Object.assign({},t,n)),function(g){const v=f[g]||c,M=v(t[g],n[g],g);yt.isUndefined(M)&&v!==h||(s[g]=M)}),s}const hp="1.5.0",bl={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{bl[t]=function(a){return typeof a===t||"a"+(n<1?"n ":" ")+t}});const fc={};bl.transitional=function(n,s,a){function c(i,u){return"[Axios v"+hp+"] Transitional option '"+i+"'"+u+(a?". "+a:"")}return(i,u,h)=>{if(n===!1)throw new ye(c(u," has been removed"+(s?" in "+s:"")),ye.ERR_DEPRECATED);return s&&!fc[u]&&(fc[u]=!0,console.warn(c(u," has been deprecated since v"+s+" and will be removed in the near future"))),n?n(i,u,h):!0}};function Ov(t,n,s){if(typeof t!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let c=a.length;for(;c-- >0;){const i=a[c],u=n[i];if(u){const h=t[i],f=h===void 0||u(h,i,t);if(f!==!0)throw new ye("option "+i+" must be "+f,ye.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ye("Unknown option "+i,ye.ERR_BAD_OPTION)}}const Va={assertOptions:Ov,validators:bl},_r=Va.validators;class ms{constructor(n){this.defaults=n,this.interceptors={request:new uc,response:new uc}}request(n,s){typeof n=="string"?(s=s||{},s.url=n):s=n||{},s=xi(this.defaults,s);const{transitional:a,paramsSerializer:c,headers:i}=s;a!==void 0&&Va.assertOptions(a,{silentJSONParsing:_r.transitional(_r.boolean),forcedJSONParsing:_r.transitional(_r.boolean),clarifyTimeoutError:_r.transitional(_r.boolean)},!1),c!=null&&(yt.isFunction(c)?s.paramsSerializer={serialize:c}:Va.assertOptions(c,{encode:_r.function,serialize:_r.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let u=i&&yt.merge(i.common,i[s.method]);i&&yt.forEach(["delete","get","head","post","put","patch","common"],S=>{delete i[S]}),s.headers=er.concat(u,i);const h=[];let f=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(s)===!1||(f=f&&E.synchronous,h.unshift(E.fulfilled,E.rejected))});const m=[];this.interceptors.response.forEach(function(E){m.push(E.fulfilled,E.rejected)});let g,v=0,M;if(!f){const S=[pc.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),M=S.length,g=Promise.resolve(s);v<M;)g=g.then(S[v++],S[v++]);return g}M=h.length;let A=s;for(v=0;v<M;){const S=h[v++],E=h[v++];try{A=S(A)}catch(G){E.call(this,G);break}}try{g=pc.call(this,A)}catch(S){return Promise.reject(S)}for(v=0,M=m.length;v<M;)g=g.then(m[v++],m[v++]);return g}getUri(n){n=xi(this.defaults,n);const s=up(n.baseURL,n.url);return op(s,n.params,n.paramsSerializer)}}yt.forEach(["delete","get","head","options"],function(n){ms.prototype[n]=function(s,a){return this.request(xi(a||{},{method:n,url:s,data:(a||{}).data}))}});yt.forEach(["post","put","patch"],function(n){function s(a){return function(i,u,h){return this.request(xi(h||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:u}))}}ms.prototype[n]=s(),ms.prototype[n+"Form"]=s(!0)});const is=ms;class wl{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(c=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](c);a._listeners=null}),this.promise.then=c=>{let i;const u=new Promise(h=>{a.subscribe(h),i=h}).then(c);return u.cancel=function(){a.unsubscribe(i)},u},n(function(i,u,h){a.reason||(a.reason=new ko(i,u,h),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}static source(){let n;return{token:new wl(function(c){n=c}),cancel:n}}}const Av=wl;function Rv(t){return function(s){return t.apply(null,s)}}function Bv(t){return yt.isObject(t)&&t.isAxiosError===!0}const Fa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fa).forEach(([t,n])=>{Fa[n]=t});const Iv=Fa;function pp(t){const n=new is(t),s=qh(is.prototype.request,n);return yt.extend(s,is.prototype,n,{allOwnKeys:!0}),yt.extend(s,n,null,{allOwnKeys:!0}),s.create=function(c){return pp(xi(t,c))},s}const Ve=pp(vl);Ve.Axios=is;Ve.CanceledError=ko;Ve.CancelToken=Av;Ve.isCancel=lp;Ve.VERSION=hp;Ve.toFormData=Gs;Ve.AxiosError=ye;Ve.Cancel=Ve.CanceledError;Ve.all=function(n){return Promise.all(n)};Ve.spread=Rv;Ve.isAxiosError=Bv;Ve.mergeConfig=xi;Ve.AxiosHeaders=er;Ve.formToJSON=t=>ap(yt.isHTMLForm(t)?new FormData(t):t);Ve.getAdapter=cp.getAdapter;Ve.HttpStatusCode=Iv;Ve.default=Ve;const dp=Ve,{url:Dv,project_token:zv}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},Ie=dp.create({baseURL:Dv,params:{project_token:zv}});class ln{static getTaxonNameCitations(n,s){return Ie.get(`/taxon_names/${n}/inventory/catalog`,s)}static getOtu(n){return Ie.get(`/otus/${n}`,{params:{extend:["parents"]}})}static getOtus(n){return Ie.get("/otus.json",{params:n})}static getTaxon(n,s){return Ie.get(`/taxon_names/${n}`,s)}static summary(n,s){return Ie.get(`/taxon_names/${n}/inventory/summary`,s)}static getTaxonTypeDesignation(n){return Ie.get(`/taxon_names/${n}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(n,s){return Ie.get(`/otus/${n}/inventory/images.json`,s)}static getTaxonomy(n,s){return Ie.get(`/otus/${n}/inventory/taxonomy.json`,s)}static getOtuTypeMaterial(n){return Ie.get(`/otus/${n}/inventory/type_material.json`)}static getOtuDistribution(n,s={}){return Ie.get(`/otus/${n}/inventory/distribution.json`,s)}static getOtuGeoJSONDistribution(n){return Ie.get(`/otus/${n}/inventory/distribution.geojson`)}static getCachedMap(n,s){return Ie.get(`/cached_maps/${n}`,s)}static getOtuContent(n,s){return Ie.get(`/otus/${n}/inventory/content`,s)}static getCachedMap(n){return Ie.get(`/cached_maps/${n}`)}}const qr=wo("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(t,{signal:n}){const s=ml(),a=await Promise.all([ln.getTaxon(t,{params:{extend:["type_taxon_name_relationship"]}}),Mr("summary",()=>ln.summary(t,{signal:n}))]);this.taxon=Object.assign({},...a.map(c=>c.data)),s.setNextAuthorText(this.taxon.full_name_tag+".")},async loadOtu(t,{signal:n}){const s=await ln.getOtu(t,{signal:n});this.otu=s.data},async loadTaxonomy(t,{signal:n}){const{data:s}=await ln.getTaxonomy(t,{params:{max_descendants_depth:0,extend:["common_names"]},signal:n});this.taxonomy={commonNames:s.common_names,synonyms:s.nomenclatural_synonyms}},async loadCatalog(t,{signal:n}){this.catalog.isLoading=!0;const s=await Mr("taxonomy",()=>ln.getTaxonNameCitations(t,{signal:n}));this.catalog={...s.data,sources:s.data.sources.map(({cached:a,url:c})=>a.replace(c,`<a href="${c}">${c}</a>`)),isLoading:!1}},async loadInit({otuId:t,controller:n}){Ds().$reset();try{await this.loadOtu(t,n),await this.loadTaxon(this.otu.taxon_name_id,n),await this.loadCatalog(this.otu.taxon_name_id,n),await this.loadTaxonomy(t,n)}catch(a){return Promise.reject(a)}}}});function jv(t,n){return t||(t={}),t._resolver=n,t}function Nv(t){return jv(t,"taxon")}function Gv(t){return pl({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:t}]})}function Ha(t,n){return!t.length||t.some(s=>n==null?void 0:n.includes(s))}function Vv(t,n){return n.split("::").at(2)===t}function Fv(t,n){return{type:"Feature",geometry:t,properties:{base:[{type:n}]}}}function Hv(t){const n=[],s=[];return t.features.forEach(a=>{const c=a.properties.shape.id,i=a.properties.shape.type;s.includes(a.properties.base.type)||s.push(a.properties.base.type);const u=n.findIndex(h=>h.properties.shape.id===c&&h.properties.shape.type===i);if(u>-1){const h=n[u];h.properties.base.push(a.properties.base),h.properties.target.push(a.properties.target)}else{const h=structuredClone(a);h.properties.base=[h.properties.base],h.properties.target=[h.properties.target],n.push(h)}}),s.sort(),{shapeTypes:s,features:n}}const $v=Y("h3",{class:"font-medium"},"Sitemap",-1),Uv={class:"p-4 pt-0"},Zv=Y("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1),qv=["href"],Kv={__name:"SiteMap",setup(t){const n=Ft(!1),s=Ds();return(a,c)=>{const i=ut("IconJson"),u=ut("VButton"),h=ut("VTableHeaderCell"),f=ut("VTableHeaderRow"),m=ut("VTableHeader"),g=ut("VTableBodyCell"),v=ut("VTableBodyRow"),M=ut("VTableBody"),A=ut("VTable"),S=ut("VModal");return N(),X("div",null,[rt(u,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:c[0]||(c[0]=E=>n.value=!0)},{default:ct(()=>[rt(i,{class:"w-4 h-4"}),ee(" Sitemap ")]),_:1}),n.value?(N(),Pt(S,{key:0,onClose:c[1]||(c[1]=E=>n.value=!1)},{header:ct(()=>[$v]),default:ct(()=>[Y("div",Uv,[Zv,rt(A,null,{default:ct(()=>[rt(m,null,{default:ct(()=>[rt(f,null,{default:ct(()=>[rt(h,null,{default:ct(()=>[ee(" Request Key ")]),_:1}),rt(h,null,{default:ct(()=>[ee(" URL ")]),_:1})]),_:1})]),_:1}),rt(M,null,{default:ct(()=>[(N(!0),X(Gt,null,de(Wt(s).sitemap,(E,G)=>(N(),Pt(v,{key:G},{default:ct(()=>[rt(g,{class:"capitalize"},{default:ct(()=>[ee(qt(G.replaceAll(":"," ")),1)]),_:2},1024),rt(g,null,{default:ct(()=>[Y("a",{href:E},qt(E),9,qv)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Rt("",!0)])}}},Wv={class:"relative"},Jv=Y("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[Y("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Yv={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},Xv={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(t){const n=Ft(!1);return(s,a)=>{const c=ut("router-link");return N(),X("div",Wv,[Y("div",null,[Y("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:a[0]||(a[0]=i=>n.value=!n.value)},[Se(s.$slots,"default"),Jv]),n.value?(N(),X("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:a[1]||(a[1]=i=>n.value=!1)})):Rt("",!0),n.value?(N(),X("div",Yv,[(N(!0),X(Gt,null,de(t.list,i=>(N(),Pt(c,{key:i.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:i.id}}},{default:ct(()=>[ee(qt(i.name||s.key),1)]),_:2},1032,["to"]))),128))])):Rt("",!0)])])}}},Qv={class:"inline-flex items-center flex-wrap"},tb={class:"inline-flex items-center ml-0 text-sm"},eb=["innerHTML"],nb={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(t){return(n,s)=>{const a=ut("IconArrowRight"),c=ut("router-link");return N(),X("ul",Qv,[(N(!0),X(Gt,null,de(t.list,(i,u,h)=>(N(),X("li",{key:i.id,class:"inline-flex items-center"},[h?(N(),Pt(a,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Rt("",!0),i.length===1?(N(),Pt(c,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:i[0].id}}},{default:ct(()=>[ee(qt(u),1)]),_:2},1032,["to"])):(N(),Pt(Xv,{key:2,list:i.map(f=>({...f,name:f.name||u}))},{default:ct(()=>[ee(qt(u),1)]),_:2},1032,["list"]))]))),128)),Y("li",tb,[rt(a,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),Y("span",{innerHTML:t.current.full_name_tag},null,8,eb)])])}}},rb={__name:"CommonNames",setup(t){const n=qr(),s=Jt(()=>n.taxonomy.commonNames.map(a=>a.name).join("; "));return(a,c)=>(N(),X("span",null,qt(s.value),1))}},ib={class:"text-1xl capitalize"},ob={class:"text-xl dark:text-gray-100"},sb=["title","innerHTML"],ab={key:0,class:"ml-1 text-red-600",title:"Invalid"},lb={class:"text-1xl"},ub={__name:"TaxaInfo",setup(t){const n=qr();return(s,a)=>(N(),X("div",null,[Y("h2",ib,qt(Wt(n).taxon.rank||"Combination"),1),Y("h1",ob,[Y("span",null,[Y("span",{title:Wt(n).taxon.short_status,innerHTML:Wt(n).taxon.full_name_tag},null,8,sb),Wt(n).taxon.is_valid?Rt("",!0):(N(),X("span",ab," ✕ "))])]),Y("h2",lb,[rt(rb)])]))}},cb={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(t){const n=t,{url:s,project_token:a}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}};function c(){window.open(`${s}/otus/${n.otu.id}/inventory/dwc.csv?project_token=${a}`,"_self")}return(i,u)=>{const h=ut("IconDownload"),f=ut("VButton");return N(),Pt(f,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:u[0]||(u[0]=()=>{c()})},{default:ct(()=>[rt(h,{class:"w-4 h-4 mr-1"}),ee(" DwC ")]),_:1})}}};function hb(t){return t.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,n=>n.toUpperCase())}function pb(){const t=Bs(),{children:n}=t.getRoutes().find(s=>s.name==="otus-id");return n.map(({path:s,name:a,meta:c})=>({label:s&&(c.label||hb(s)),path:s,name:a,meta:c}))}const db={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},fb={class:"container mx-auto"},mb={class:"pt-6 pb-6"},_b={class:"flex flex-col-reverse md:flex-row justify-between items-start"},gb={class:"mt-8 flex justify-between items-end"},yb={class:"flex flex-row gap-2"},vb={class:"pt-3 pb-4"},bb={class:"container mx-auto box-border"},wb={__name:"Index",setup(t){const n=Fh(),s=Bs(),a=Ft(n.params),c=pb(),i=qr(),u=ml();let h=new AbortController;s.afterEach(G=>{a.value=G.params});const f=Jt(()=>i.otu),m=Jt(()=>i.taxon),g=Jt(()=>{var G,C;return((G=f.value)==null?void 0:G.id)&&((C=m.value)==null?void 0:C.id)}),v=Jt(()=>c.filter(G=>Ha(G.meta.rankGroup,m.value.rank_string)));ol(async()=>{await M()}),qe(()=>n.params.id,async()=>{h.abort(),h=new AbortController,M()}),Ke(async()=>{var G,C;((G=f.value)==null?void 0:G.id)!==Number(n.params.id)||!((C=m.value)!=null&&C.id)?await M():S()}),ir(()=>{i.$reset(),u.$reset()});async function M(){i.$reset(),u.$reset();try{await i.loadInit({otuId:n.params.id,controller:h}),S()}catch(G){G.name!==_o.CanceledError&&A(G)}}function A(G){var C;switch((C=G==null?void 0:G.response)==null?void 0:C.status){case 404:s.replace({name:"httpError404"});break;case 500:s.replace({name:"httpError500"});break}}function S(){pl({title:`Ammonoidea - ${m.value.full_name}`}),Gv([Nv({id:n.fullPath,name:m.value.full_name,scientificName:{name:m.value.full_name,author:m.value.author,taxonRank:m.value.rank},parentTaxon:{name:m.value.parent.full_name,taxonRank:m.value.parent.rank},commonNames:i.taxonomy.commonNames,alternateName:i.taxonomy.synonyms})])}function E({id:G,otu_valid_id:C}){s.push({name:"otus-id-overview",params:{id:C||G}})}return(G,C)=>{const P=ut("VSkeleton"),j=ut("Autocomplete"),O=ut("ClientOnly"),D=ut("TabItem"),W=ut("TabMenu"),ot=ut("RouterView");return N(),X("main",null,[Y("div",db,[Y("div",fb,[Y("div",mb,[Y("div",_b,[rt(P,{class:"w-full md:w-3/4"},{default:ct(()=>{var J;return[g.value?(N(),Pt(nb,{key:0,class:"w-full md:w-3/4",list:((J=f.value)==null?void 0:J.parents)||{},current:m.value},null,8,["list","current"])):Rt("",!0)]}),_:1}),rt(j,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:E})]),Y("div",gb,[rt(P,{lines:2,class:"w-96"},{default:ct(()=>[g.value?(N(),Pt(ub,{key:0})):Rt("",!0)]),_:1}),Y("div",yb,[rt(O,null,{default:ct(()=>[rt(Kv)]),_:1}),g.value?(N(),Pt(cb,{key:0,otu:f.value},null,8,["otu"])):Rt("",!0)])])]),g.value&&Wt(c).length>1?(N(),Pt(W,{key:0,class:"m-[-1px] print:hidden"},{default:ct(()=>[(N(!0),X(Gt,null,de(v.value,({name:J,label:it})=>(N(),Pt(D,{key:J,to:{name:J}},{default:ct(()=>[ee(qt(it),1)]),_:2},1032,["to"]))),128))]),_:1})):Rt("",!0)])]),Y("div",vb,[Y("div",bb,[g.value?(N(),Pt(ot,{key:Wt(n).fullPath,"taxon-id":m.value.id,taxon:m.value,"taxon-rank":m.value.rank_string,"otu-id":f.value.id,otu:f.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Rt("",!0)])])])}}},xb={class:"text-sm"},kb=3102,Lb={__name:"PanelScrutiny",props:{taxonId:{type:Number,required:!0}},setup(t){const n=t,s=Ft([]);Ke(()=>{const c={attribute_subject_id:n.taxonId,controlled_vocabulary_term_id:kb};Ie.get("/data_attributes.json",{params:c}).then(async i=>{s.value=i.data,s.value.forEach(u=>a(u))})});function a(c){const i={citation_object_id:c.id,citation_object_type:"DataAttribute"};Ie.get("/citations.json",{params:i}).then(u=>{c.citations=u.data})}return(c,i)=>{const u=ut("VCardHeader"),h=ut("VCardContent"),f=ut("VCard");return s.value.length?(N(),Pt(f,{key:0},{default:ct(()=>[rt(u,null,{default:ct(()=>[ee("Scrutiny")]),_:1}),rt(h,null,{default:ct(()=>[Y("ul",xb,[(N(!0),X(Gt,null,de(s.value,m=>{var g;return N(),X("li",null,qt(m.value)+qt(m.value[m.value.length-1]==="."?"":".")+" "+qt((g=m.citations)==null?void 0:g.map(v=>v.citation_source_body).join("; ")),1)}),256))])]),_:1})]),_:1})):Rt("",!0)}}},Mb={id:"panel:scrutiny",component:Lb},Cb=["title"],Pb=["alt","src"],Sb={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(t){return(n,s)=>(N(),X("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:t.title},[Y("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:t.title,src:t.image.thumb},null,8,Pb)],8,Cb))}},Eb={class:"flex flex-row overflow-x-auto print:flex-wrap gap-1.5"},_s={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(t,{emit:n}){return(s,a)=>(N(),X("div",Eb,[(N(!0),X(Gt,null,de(t.images,(c,i)=>{var u;return N(),X("div",{key:c.id},[rt(Sb,{image:c,class:Ne({"border border-secondary-color":t.current===i}),title:(u=c.depictions)==null?void 0:u.map(h=>h.label).join(";"),onClick:h=>n("selectIndex",i)},null,8,["image","class","title","onClick"])])}),128))]))}},Tb={class:"flex justify-between flex-col gap-2 text-sm px-2 py-4"},Ob={class:"flex flex-col"},Ab={class:"font-medium"},Rb=["innerHTML"],Bb=Y("hr",null,null,-1),Ib={class:"flex flex-col justify-between text-sm px-2 py-4 gap-2"},Db={class:"flex flex-col"},zb=["innerHTML"],jb=Y("hr",null,null,-1),Nb={__name:"PanelSpecimenRecords",props:{otuId:{type:Number,required:!0}},setup(t){const n=t,s=Ft(0),a=Ft([]),c=Ft(!1),i=Ft(!1),u=Ft([]),h=Jt(()=>u.value.filter(C=>C.dwc_occurrence_object_type==="CollectionObject"&&!C.typeStatus)),f=Jt(()=>u.value.filter(C=>C.dwc_occurrence_object_type==="CollectionObject"&&C.typeStatus));function m(C){return[C.country,C.stateProvince,C.county,C.verbatimLocality].filter(Boolean).join(", ")}function g(C){return[M(C),v(C),C.catalogNumber,m(C),S(C),A(C)].filter(Boolean).join("; ")}function v(C){const{institutionCode:P,institutionID:j}=C;if(P)return j?`<a href="${j}" target="_blank">${P}</a>`:`<span>${P}</span>`}function M({individualCount:C,sex:P}){return P?`${C} ${P}`:`${C} specimen${C>1?"s":""}`}function A({recordedBy:C}){return C?`Col. ${C}`:""}function S({verbatimCoordinates:C}){const P=C==null?void 0:C.split(" ").join(", ");return P?`(${P})`:""}Ke(()=>{i.value=!0,Ie.get(`/otus/${n.otuId}/inventory/dwc.json`).then(async C=>{for(let P=0;P<C.data.length;P++){const j=C.data[P];if(j.associatedMedia){const O=await E(j);j.associatedMedia=O}}u.value=C.data}).finally(()=>{i.value=!1})});async function E(C){const P=C.associatedMedia.split("|"),j=[];return P.forEach(O=>{j.push(Ie.get(O.trim(),{params:{extend:["attribution","depictions","source"]}}))}),await Promise.all(j).then(O=>O.map(D=>D.data))}function G(C,P){a.value=C,s.value=P,c.value=!0}return(C,P)=>{const j=ut("VCardHeader"),O=ut("VSpinner"),D=ut("ImageViewer"),W=ut("VCardContent"),ot=ut("VCard");return N(),X(Gt,null,[rt(ot,null,{default:ct(()=>[rt(j,null,{default:ct(()=>[ee("Type specimens")]),_:1}),rt(W,{class:Ne(i.value&&"min-h-[6rem]")},{default:ct(()=>[i.value?(N(),Pt(O,{key:0})):Rt("",!0),(N(!0),X(Gt,null,de(f.value,J=>(N(),X(Gt,{key:J.id},[Y("div",Tb,[Y("div",Ob,[Y("span",Ab,qt(J.typeStatus),1),Y("span",{innerHTML:g(J)},null,8,Rb)]),J.associatedMedia?(N(),Pt(_s,{key:0,images:J.associatedMedia,class:"flex-row flex-wrap gap-2",onSelectIndex:it=>G(J.associatedMedia,it)},null,8,["images","onSelectIndex"])):Rt("",!0)]),Bb],64))),128)),c.value?(N(),Pt(D,{key:1,images:a.value,index:s.value,next:a.value.length-1>s.value,previous:s.value>0,onSelectIndex:P[0]||(P[0]=J=>s.value=J),onNext:P[1]||(P[1]=()=>s.value++),onPrevious:P[2]||(P[2]=()=>s.value--),onClose:P[3]||(P[3]=()=>c.value=!1)},null,8,["images","index","next","previous"])):Rt("",!0)]),_:1},8,["class"])]),_:1}),h.value.length?(N(),Pt(ot,{key:0},{default:ct(()=>[rt(j,null,{default:ct(()=>[ee("Specimen records")]),_:1}),rt(W,{class:Ne(i.value&&"min-h-[6rem]")},{default:ct(()=>[i.value?(N(),Pt(O,{key:0})):Rt("",!0),(N(!0),X(Gt,null,de(h.value,J=>(N(),X(Gt,{key:J.id},[Y("div",Ib,[Y("div",Db,[Y("span",null,qt(J.typeStatus),1),Y("span",{innerHTML:g(J)},null,8,zb)]),J.associatedMedia?(N(),Pt(_s,{key:0,images:J.associatedMedia,class:"lg:flex-row gap-2 flex-wrap",onSelectIndex:it=>G(J.associatedMedia,it)},null,8,["images","onSelectIndex"])):Rt("",!0)]),jb],64))),128)),c.value?(N(),Pt(D,{key:1,images:a.value,index:s.value,next:a.value.length-1>s.value,previous:s.value>0,onSelectIndex:P[4]||(P[4]=J=>s.value=J),onNext:P[5]||(P[5]=()=>s.value++),onPrevious:P[6]||(P[6]=()=>s.value--),onClose:P[7]||(P[7]=()=>c.value=!1)},null,8,["images","index","next","previous"])):Rt("",!0)]),_:1},8,["class"])]),_:1})):Rt("",!0)],64)}}},Gb={id:"panel:specimen-records",component:Nb},Vb=["href"],Fb=["src"],Hb={__name:"PaneliNaturalist",props:{taxon:{type:Object,required:!0},perPage:{type:Number,default:60}},setup(t){const n=t,s=Ft(!1),a=Ft([]),c=Ft({page:1,per_page:n.perPage,total_results:0});function i(u={}){s.value=!0,dp.get("https://api.inaturalist.org/v1/observations",{params:{q:n.taxon.expanded_name,...u}}).then(({data:h})=>{a.value=h.results,c.value={page:h.page,per_page:h.per_page,total_results:h.total_results}}).finally(()=>{s.value=!1})}return Ke(()=>{i({per_page:n.perPage})}),(u,h)=>{const f=ut("VCardHeader"),m=ut("VSpinner"),g=ut("VPagination"),v=ut("VCardContent"),M=ut("VCard");return N(),Pt(M,null,{default:ct(()=>[rt(f,null,{default:ct(()=>[ee("Observations")]),_:1}),rt(v,null,{default:ct(()=>[s.value?(N(),Pt(m,{key:0})):Rt("",!0),Y("div",{class:Ne(["flex flex-row flex-wrap gap-2 mb-4",s.value&&"min-h-[3.5rem]"])},[(N(!0),X(Gt,null,de(a.value,A=>(N(),X("div",{key:A.id,class:"flex flex-row flex-wrap gap-2"},[A!=null&&A.observation_photos[0]?(N(),X("a",{key:0,href:`https://www.inaturalist.org/observations/${A.id}`},[(N(),X("img",{key:A.observation_photos[0].photo.id,src:A.observation_photos[0].photo.url},null,8,Fb))],8,Vb)):Rt("",!0)]))),128))],2),rt(g,{modelValue:c.value.page,"onUpdate:modelValue":[h[0]||(h[0]=A=>c.value.page=A),h[1]||(h[1]=A=>{i({page:A,per_page:t.perPage})})],total:c.value.total_results,per:c.value.per_page},null,8,["modelValue","total","per"])]),_:1})]),_:1})}}},$b={id:"panel:inaturalist",component:Hb,rankGroup:["GenusGroup","SpeciesGroup"]},Ub=["innerHTML"],Zb={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(t){return(n,s)=>{const a=ut("VCardHeader"),c=ut("VCardContent");return N(),X(Gt,null,[rt(a,{class:"border-t border-base-muted first:border-t-0"},{default:ct(()=>[ee(qt(t.title),1)]),_:1}),rt(c,null,{default:ct(()=>[(N(!0),X(Gt,null,de(t.textList,(i,u)=>(N(),X("ul",{key:u,class:"pt-1 text-sm"},[Y("li",{innerHTML:i},null,8,Ub)]))),128))]),_:1})],64)}}},qb={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(t){const n=t,s=Ft([]),a=new AbortController,c=Jt(()=>s.value.reduce((i,u)=>(i[u.name]?i[u.name].push(u.text):i[u.name]=[u.text],i),{}));return ch(()=>{Mr("panel:content",()=>ln.getOtuContent(n.otuId,{params:{extend:["depiction"]},signal:a.signal})).then(({data:i})=>{s.value=i}).catch(i=>{})}),ir(()=>{a.abort()}),(i,u)=>{const h=ut("VCard");return s.value.length?(N(),Pt(h,{key:0},{default:ct(()=>[(N(!0),X(Gt,null,de(c.value,(f,m)=>(N(),Pt(Zb,{key:m,title:m,"text-list":f},null,8,["title","text-list"]))),128))]),_:1})):Rt("",!0)}}},Kb={id:"panel:content",component:qb},Wb={class:"synonyms"},Jb=Y("span",{class:"text-orange-500 mr-1"},"=",-1),Yb=["innerHTML"],Xb={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(t){const n=t;return(s,a)=>(N(),X("ul",Wb,[(N(!0),X(Gt,null,de(n.list,c=>(N(),X("li",{key:c},[Jb,Y("span",{innerHTML:c},null,8,Yb)]))),128))]))}};const Qb={key:0,class:"tree"},t0={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const n=t,s=Ft(!!n.taxonomy.descendants.length),a=Ft([...n.taxonomy.descendants]);qe(s,i=>{i&&c()});const c=()=>{a.value.length||ln.getTaxonomy(n.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:i})=>{a.value=i.descendants})};return(i,u)=>{const h=ut("button-expand"),f=ut("router-link"),m=ut("AnimationOpacity");return Object.keys(t.taxonomy).length?(N(),X("li",{key:t.taxonomy.otu_id},[t.taxonomy.leaf_node?Rt("",!0):(N(),Pt(h,{key:0,modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=g=>s.value=g),class:"absolute -left-2.5"},null,8,["modelValue"])),rt(f,{class:"text-primary-500",to:{name:"otus-id",params:{id:t.taxonomy.otu_id}},innerHTML:t.taxonomy.name},null,8,["to","innerHTML"]),t.taxonomy.nomenclatural_synonyms.length?(N(),Pt(Xb,{key:1,class:"pb-4",list:t.taxonomy.nomenclatural_synonyms},null,8,["list"])):Rt("",!0),rt(m,null,{default:ct(()=>[a.value.length?(N(),X("ul",Qb,[(N(!0),X(Gt,null,de(a.value,g=>(N(),Pt(m,{key:g.otu_id},{default:ct(()=>[s.value?(N(),Pt(fp,{key:0,taxonomy:g},null,8,["taxonomy"])):Rt("",!0)]),_:2},1024))),128))])):Rt("",!0)]),_:1})])):Rt("",!0)}}},fp=ie(t0,[["__scopeId","data-v-b79ba271"]]),e0=Y("h3",null,"JSON Data",-1),n0={key:0,class:"p-5 font-normal"},r0={class:"pb-2 text-sm"},i0=["href"],o0={class:"relative"},s0=["innerHTML"],Si={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(t){const n=t,s=Jt(()=>a.getRequest(n.panelKey)),a=Ds(),c=Ft(!1),i=Jt(()=>[...n.menuOptions,{label:"JSON Data",action:()=>c.value=!0}]);return(u,h)=>{const f=ut("IconHamburger"),m=ut("Dropdown"),g=ut("VClipboard"),v=ut("VModal");return N(),X(Gt,null,[rt(m,{items:i.value},{button:ct(()=>[rt(f,{class:"text-base-soft h-4"})]),_:1},8,["items"]),c.value?(N(),Pt(v,{key:0,onClose:h[0]||(h[0]=M=>c.value=!1)},{header:ct(()=>[e0]),default:ct(()=>[s.value?(N(),X("div",n0,[Y("h3",r0,[ee(" URL: "),Y("a",{href:s.value.url},qt(s.value.url),9,i0)]),Y("div",o0,[Y("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(s.value.data,null,4)},null,8,s0),rt(g,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(s.value.data,null,2)},null,8,["text"])])])):Rt("",!0)]),_:1})):Rt("",!0)],64)}}};const a0=t=>(th("data-v-91511d41"),t=t(),eh(),t),l0=a0(()=>Y("h2",{class:"text-md"},"Descendants and synonyms",-1)),u0={class:"tree ml-2"},c0={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,s=Ft(null),a=Ft(!1);return qe(()=>n.otuId,async()=>{n.otuId&&(a.value=!0,Mr("panel:descendants",()=>ln.getTaxonomy(n.otuId,{params:{max_descendants_depth:1}})).then(({data:c})=>{s.value=c}).finally(()=>a.value=!1))},{immediate:!0}),(c,i)=>{const u=ut("VSpinner"),h=ut("ClientOnly"),f=ut("VCardHeader"),m=ut("AnimationOpacity"),g=ut("VCardContent"),v=ut("VCard");return N(),Pt(v,null,{default:ct(()=>[rt(h,null,{default:ct(()=>[a.value?(N(),Pt(u,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0)]),_:1}),rt(f,{class:"flex justify-between"},{default:ct(()=>[l0,rt(Si,{"panel-key":"panel:descendants"})]),_:1}),rt(g,{class:"text-sm"},{default:ct(()=>[Y("ul",u0,[rt(m,null,{default:ct(()=>[s.value&&(s.value.nomenclatural_synonyms.length||s.value.descendants.length)?(N(),Pt(fp,{key:0,taxonomy:s.value},null,8,["taxonomy"])):Rt("",!0)]),_:1})])]),_:1})]),_:1})}}},h0=ie(c0,[["__scopeId","data-v-91511d41"]]),p0={id:"panel:descendants",component:h0},d0=wo("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},async loadImages(t){const n={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const s=await Mr("panel:images",()=>ln.getOtuImages(t,{params:n,signal:this.controller.signal}));this.images=s.data,this.controller=null}catch(s){s.name!==_o.CanceledError&&(this.controller=null)}}}}),f0={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,s=d0(),a=Jt(()=>s.images||[]);return ol(async()=>{await s.loadImages(n.otuId)}),Ke(()=>{s.images||s.loadImages(n.otuId)}),ir(()=>{s.resetRequest(),s.$reset()}),(c,i)=>{const u=ut("GalleryImage"),h=ut("VCardContent"),f=ut("VCard");return a.value.length?(N(),Pt(f,{key:0},{default:ct(()=>[rt(h,null,{default:ct(()=>[rt(u,{images:a.value},null,8,["images"])]),_:1})]),_:1})):Rt("",!0)}}},m0={id:"panel:gallery",component:f0,rankGroup:[]},_0=wo("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},loadCachedMap(t){ln.getCachedMap(t,{signal:this.controller.signal}).then(n=>{this.distribution.cachedMap=n.data})},async getAggregateShape(t){Mr("panel:map",()=>ln.getOtuDistribution(t,{signal:this.controller.signal})).then(({data:n})=>{const s=JSON.parse(n.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[Fv(s,"Aggregate")]},this.loadCachedMap(n.cached_map.id)}).catch(n=>{n.name!=_o.CanceledError&&(this.distribution.errorMessage=n.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:t,rankString:n}){const s=n&&Vv("SpeciesGroup",n);this.controller=new AbortController,s?Mr("panel:map",()=>ln.getOtuGeoJSONDistribution(t,{signal:this.controller.signal})).then(({data:a})=>{if(a.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=a.message;else{const{features:c,shapeTypes:i}=Hv(a);this.distribution.currentShapeTypes=i,this.distribution.geojson={features:c}}}).catch(a=>{a.name!==_o.CanceledError&&this.getAggregateShape(t)}):this.getAggregateShape(t)}}});function mp(t){return{html:`<div class="bg-map-collection-object"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive bg-map-collection-object bg-opacity-60 marker-cluster text-white",iconSize:[40,40]}}function _p(t){return{html:`
    <div class="relative flex w-[40px] h-[40px]">
      <div class="rounded-l-full bg-map-collection-object bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-l-full bg-map-collection-object ml-[5px] mt-[5px]"></div>
      </div>
      <div class="rounded-r-full bg-map-type-material bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-r-full bg-map-type-material mr-[5px] mt-[5px]"></div>
      </div>
      <span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        ${t.getChildCount()}
      </span>
    </div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function g0(t){return{html:`<div class="bg-map-type-material"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive marker-cluster bg-map-type-material bg-opacity-60 text-white",iconSize:[40,40]}}const y0=Object.freeze(Object.defineProperty({__proto__:null,CollectionObject:mp,Mixed:_p,TypeMaterial:g0},Symbol.toStringTag,{value:"Module"}));function v0({L:t,cluster:n}){const s=n.getAllChildMarkers().map(u=>u.feature.properties.base.map(h=>h.type)).flat(),a=[...new Set(s)],c=a.pop(),i=a.length?_p:y0[c]||mp;return t.divIcon(i(n))}const b0=Y("h3",{class:"font-medium"},"Cached map",-1),w0={class:"p-4 pt-0"},x0={key:0,class:"text-success flex text-sm items-center"},k0=Y("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1),L0={key:1,class:"text-warning flex text-sm items-center"},M0=Y("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1),C0=Y("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1),P0={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(t){const n=Ft(!1);return(s,a)=>{const c=ut("IconCheck"),i=ut("IconWarning"),u=ut("VButton"),h=ut("VTableHeaderCell"),f=ut("VTableHeaderRow"),m=ut("VTableHeader"),g=ut("VTableBodyCell"),v=ut("VTableBodyRow"),M=ut("VTableBody"),A=ut("VTable"),S=ut("VModal");return N(),X(Gt,null,[rt(u,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:a[0]||(a[0]=E=>n.value=!0)},{default:ct(()=>[t.cachedMap.synced?(N(),Pt(c,{key:0,class:"w-4 h-4"})):(N(),Pt(i,{key:1,class:"w-4 h-4"}))]),_:1}),n.value?(N(),Pt(S,{key:0,onClose:a[1]||(a[1]=()=>n.value=!1)},{header:ct(()=>[b0]),default:ct(()=>[Y("div",w0,[rt(A,null,{default:ct(()=>[rt(m,null,{default:ct(()=>[rt(f,null,{default:ct(()=>[rt(h,null,{default:ct(()=>[ee("Data")]),_:1}),rt(h)]),_:1})]),_:1}),rt(M,null,{default:ct(()=>[rt(v,null,{default:ct(()=>[rt(g,null,{default:ct(()=>[ee(" Is synced ")]),_:1}),rt(g,null,{default:ct(()=>[t.cachedMap.synced?(N(),X("p",x0,[rt(c,{class:"w-4 h-4"}),k0])):(N(),X("p",L0,[rt(i,{class:"w-4 h-4"}),M0]))]),_:1})]),_:1}),rt(v,null,{default:ct(()=>[rt(g,null,{default:ct(()=>[ee(" Last update ")]),_:1}),rt(g,null,{default:ct(()=>[ee(qt(new Date(t.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),rt(m,null,{default:ct(()=>[rt(f,null,{default:ct(()=>[rt(h,null,{default:ct(()=>[ee("Source")]),_:1}),rt(h,null,{default:ct(()=>[ee("Total")]),_:1})]),_:1})]),_:1}),rt(M,null,{default:ct(()=>[(N(!0),X(Gt,null,de(t.cachedMap.source_scope,(E,G)=>(N(),Pt(v,{key:G},{default:ct(()=>[rt(g,{class:"capitalize"},{default:ct(()=>[ee(qt(G.replaceAll("_"," ")),1)]),_:2},1024),rt(g,null,{default:ct(()=>[ee(qt(E),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),C0])]),_:1})):Rt("",!0)],64)}}},S0={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},E0=["innerHTML"],T0={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(t,{emit:n}){return(s,a)=>{const c=ut("IconClose");return N(),X("div",S0,[Y("div",null,[Y("span",{class:"ml-2",innerHTML:t.label},null,8,E0)]),rt(c,{class:"cursor-pointer",onClick:a[0]||(a[0]=()=>n("close"))})])}}},O0={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},A0={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(t,{emit:n}){return(s,a)=>{const c=ut("IconArrowRight"),i=ut("VTableHeaderCell"),u=ut("VTableHeaderRow"),h=ut("VTableHeader"),f=ut("RouterLink"),m=ut("VTableBodyCell"),g=ut("VTableBodyRow"),v=ut("VTableBody"),M=ut("VTable");return t.list.length?(N(),Pt(M,{key:0,class:"shadow-md"},{default:ct(()=>[rt(h,null,{default:ct(()=>[rt(u,null,{default:ct(()=>[rt(i,{class:"w-full flex justify-between box-border items-center"},{default:ct(()=>[Y("span",null,"OTU ("+qt(t.list.length)+")",1),rt(c,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:a[0]||(a[0]=A=>n("close:table"))})]),_:1})]),_:1})]),_:1}),rt(v,null,{default:ct(()=>[(N(!0),X(Gt,null,de(t.list,A=>(N(),Pt(g,{key:A.id},{default:ct(()=>[rt(m,null,{default:ct(()=>[rt(f,{innerHTML:A.object_tag,to:{name:"otus-id",params:{id:A.id}},onClick:a[1]||(a[1]=()=>n("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(N(),X("div",O0," No OTUs found in this area "))}}};const R0={__name:"OtuSearch",props:{otu:{type:Array,default:()=>[]},shapes:{type:Object,default:void 0}},emits:["close"],setup(t,{emit:n}){const s=t,a=Ft(),c=Ft(null),i=Ft([]),u=Ft(!1),h=Ft(),f=Ft(6),m=Ft(6),g=Jt(()=>!!s.shapes&&m.value<=f.value);Ke(()=>{document.addEventListener("keyup",v),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",v),document.body.classList.remove("overflow-hidden")});const v=({key:G})=>{switch(G){case"Escape":n("close");break}};function M(G){const C={geo_json:G,taxon_name_id:[s.otu.taxon_name_id],descendants:!0,per:5e3};h.value=!0,ln.getOtus(C).then(({data:P})=>{i.value=P,u.value=!0}).finally(P=>{h.value=!1})}function A(G){S(),g.value&&c.value.resizeMap()}function S(){m.value=c.value.getMapObject().getZoom()}function E(){f.value=c.value.getMapObject().getZoom(),S()}return(G,C)=>{const P=ut("VSpinner"),j=ut("VMap");return N(),X("div",{ref_key:"root",ref:a,class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},[h.value?(N(),Pt(P,{key:0})):Rt("",!0),rt(T0,{label:t.otu.object_tag,onClose:C[0]||(C[0]=()=>n("close"))},null,8,["label"]),Y("div",{class:Ne(["w-full h-full relative",{"disable-zoom-out":g.value}])},[rt(j,{ref_key:"mapRef",ref:c,class:"w-full h-full",controls:"",dragging:!g.value,"zoom-bounds":f.value,geojson:t.shapes,"onGeojson:ready":E,"onAdd:layer":C[1]||(C[1]=O=>M(JSON.stringify(O.geometry))),"onEdit:layer":C[2]||(C[2]=O=>M(JSON.stringify(O.geometry))),"onDrag:layer":C[3]||(C[3]=O=>M(JSON.stringify(O.geometry))),"onZoom:change":A,zoom:4},null,8,["dragging","zoom-bounds","geojson"]),Y("div",{class:Ne(["h-full md:w-96 absolute top-0 bg-base-background z-[2000] overflow-auto ease-in-out duration-300 w-full",{"md:-right-96 -right-full":!u.value,"right-0":u.value}])},[u.value?(N(),Pt(A0,{key:0,list:i.value,onClose:C[4]||(C[4]=()=>n("close")),"onClose:table":C[5]||(C[5]=()=>u.value=!1)},null,8,["list"])):Rt("",!0)],2)],2)],512)}}},B0=ie(R0,[["__scopeId","data-v-d0d71188"]]),I0={class:"relative"},D0={key:0,class:"flex flex-row p-2 text-xs italic"},z0={key:1,class:"flex flex-row p-2 gap-2 text-xs"},j0=2,N0={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0},cluster:{type:Boolean,default:!0}},setup(t){const n=t,s=Ft(!0),a=Ft(!1),c=_0(),i={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return Ke(()=>{s.value=!0,c.loadDistribution({otuId:n.otuId,rankString:n.taxon.rank_string})}),ir(()=>{c.resetRequest(),c.$reset()}),(u,h)=>{const f=ut("VSpinner"),m=ut("VMap"),g=ut("VButton"),v=ut("ClientOnly"),M=ut("VCard");return N(),Pt(M,null,{default:ct(()=>[Y("div",I0,[rt(v,null,{default:ct(()=>[s.value?(N(),Pt(f,{key:0})):Rt("",!0),rt(m,{class:"h-96 max-h-96",dragging:"",cluster:t.cluster,zoom:j0,"zoom-bounds":8,geojson:Wt(c).distribution.geojson,"cluster-icon-create-function":Wt(v0),"onGeojson:ready":h[0]||(h[0]=()=>s.value=!1)},null,8,["cluster","geojson","cluster-icon-create-function"]),rt(g,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:h[1]||(h[1]=()=>a.value=!0)},{default:ct(()=>[ee(" Search ")]),_:1}),a.value?(N(),Pt(B0,{key:1,otu:t.otu,shapes:Wt(c).distribution.geojson,onClose:h[2]||(h[2]=()=>a.value=!1)},null,8,["otu","shapes"])):Rt("",!0),Wt(c).distribution.cachedMap?(N(),Pt(P0,{key:2,"cached-map":Wt(c).distribution.cachedMap},null,8,["cached-map"])):Rt("",!0)]),_:1})]),Wt(c).distribution.errorMessage?(N(),X("div",D0," * "+qt(Wt(c).distribution.errorMessage),1)):Rt("",!0),Wt(c).distribution.currentShapeTypes.length?(N(),X("div",z0,[(N(!0),X(Gt,null,de(Wt(c).distribution.currentShapeTypes,A=>(N(),X("div",{key:A,class:"flex flex-row items-center"},[Y("div",{class:Ne(["w-3 h-3 m-1 rounded-sm",i[A].background])},null,2),Y("span",null,qt(i[A].label),1)]))),128))])):Rt("",!0)]),_:1})}}},G0={id:"panel:map",component:N0};function gp(t,n){const s=t.slice(),a=s.splice(0,n),c=s.splice(-n);return{first:a,middle:s,last:c}}const V0={class:"border-b border-base-muted p-3 px-5"},F0=["title","innerHTML"],H0=["innerHTML"],va={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(t){return(n,s)=>(N(),X("li",V0,[Y("span",{class:"break-all block",title:t.citation.label,innerHTML:t.citation.label},null,8,F0),t.citation.type_label?(N(),X("p",{key:0,class:"ml-4 text-base-soft",innerHTML:t.citation.type_label},null,8,H0)):Rt("",!0)]))}},$0={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},yp={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(t){return(n,s)=>{const a=ut("IconPlusCircle");return N(),X("li",$0,[Y("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:s[0]||(s[0]=()=>n.isExpanded=!n.isExpanded)},[rt(a,{class:"h-5 w-5"})]),Y("span",null,"... Show all ... ("+qt(t.count)+")",1)])}}},U0={class:"text-md"},Z0={class:"text-sm"},q0={class:"text-sm"},K0={class:"text-sm"},W0=2,J0={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const n=qr(),s=Ft(!1),a=Jt(()=>gp(n.catalog.timeline,W0)),c=Jt(()=>[{label:s.value?"Show less":"Show all",action:()=>s.value=!s.value}]);return(i,u)=>{const h=ut("VSpinner"),f=ut("VCardHeader"),m=ut("AnimationOpacity"),g=ut("VCard");return N(),Pt(g,null,{default:ct(()=>[Wt(n).catalog.isLoading?(N(),Pt(h,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0),rt(f,{class:"flex justify-between"},{default:ct(()=>[Y("h2",U0," Nomenclature ("+qt(Wt(n).catalog.timeline.length)+") ",1),rt(Si,{"menu-options":c.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),Y("ul",Z0,[(N(!0),X(Gt,null,de(a.value.first,v=>(N(),Pt(va,{key:v.label,citation:v},null,8,["citation"]))),128)),!s.value&&a.value.middle.length?(N(),Pt(yp,{key:0,count:a.value.middle.length,onClick:u[0]||(u[0]=v=>s.value=!0)},null,8,["count"])):Rt("",!0)]),rt(m,null,{default:ct(()=>[bo(Y("ul",q0,[(N(!0),X(Gt,null,de(a.value.middle,v=>(N(),Pt(va,{key:v.label,citation:v},null,8,["citation"]))),128))],512),[[Os,s.value]])]),_:1}),Y("ul",K0,[(N(!0),X(Gt,null,de(a.value.last,v=>(N(),Pt(va,{key:v.label,citation:v},null,8,["citation"]))),128))])]),_:1})}}},Y0={id:"panel:nomenclature",component:J0},X0={class:"border-b border-base-muted p-3 px-5"},Q0=["title","innerHTML"],ba={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(t){return(n,s)=>(N(),X("li",X0,[Y("span",{class:"[&>a]:break-all block",title:t.reference,innerHTML:t.reference},null,8,Q0)]))}},tw={class:"text-md"},ew={class:"text-sm"},nw=2,rw={__name:"PanelNomenclatureReferences",setup(t){const n=qr(),s=Ft(!1),a=Jt(()=>gp(n.catalog.sources,nw)),c=Jt(()=>[{label:s.value?"Show less":"Show all",action:()=>s.value=!s.value}]);return(i,u)=>{const h=ut("VSpinner"),f=ut("VCardHeader"),m=ut("AnimationOpacity"),g=ut("VCard");return N(),Pt(g,null,{default:ct(()=>[Wt(n).catalog.isLoading?(N(),Pt(h,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0),rt(f,{class:"flex justify-between"},{default:ct(()=>[Y("h2",tw," Nomenclature references ("+qt(Wt(n).catalog.sources.length)+") ",1),rt(Si,{"menu-options":c.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),Y("ul",ew,[(N(!0),X(Gt,null,de(a.value.first,v=>(N(),Pt(ba,{key:v,reference:v},null,8,["reference"]))),128)),!s.value&&a.value.middle.length?(N(),Pt(yp,{key:0,count:a.value.middle.length,onClick:u[0]||(u[0]=v=>s.value=!0)},null,8,["count"])):Rt("",!0),rt(m,null,{default:ct(()=>[bo(Y("div",null,[(N(!0),X(Gt,null,de(a.value.middle,v=>(N(),Pt(ba,{key:v,reference:v},null,8,["reference"]))),128))],512),[[Os,s.value]])]),_:1}),(N(!0),X(Gt,null,de(a.value.last,v=>(N(),Pt(ba,{key:v,reference:v},null,8,["reference"]))),128))])]),_:1})}}},iw={id:"panel:nomenclature-references",component:rw},ow=Y("h2",{class:"text-md"},"Stats",-1),sw={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const n=qr(),s=Ft(!1),a=Jt(()=>[{label:s.value?"Hide taxa":"Show taxa",action:()=>s.value=!s.value}]);return(c,i)=>{const u=ut("VSpinner"),h=ut("VCardHeader"),f=ut("VTableHeaderCell"),m=ut("VTableHeaderRow"),g=ut("VTableHeader"),v=ut("VTableBodyCell"),M=ut("VTableBodyRow"),A=ut("VTableBody"),S=ut("VTable"),E=ut("VCardContent"),G=ut("VCard");return N(),Pt(G,null,{default:ct(()=>[Wt(n).catalog.isLoading?(N(),Pt(u,{key:0,"logo-class":"w-8 h-8",legend:""})):Rt("",!0),rt(h,{class:"flex justify-between"},{default:ct(()=>[ow,rt(Si,{"panel-key":"taxonomy","menu-options":a.value},null,8,["menu-options"])]),_:1}),rt(E,{class:"text-sm"},{default:ct(()=>[rt(S,null,{default:ct(()=>[rt(g,null,{default:ct(()=>[rt(m,null,{default:ct(()=>[rt(f,{class:"bg-base-foreground"}),s.value?(N(),Pt(f,{key:0,title:"OTUs linked to valid protonyms"},{default:ct(()=>[ee(" Taxa ")]),_:1})):Rt("",!0),rt(f,{title:"Taxon names",class:"border-l border-base-border"},{default:ct(()=>[ee(" Names ")]),_:1}),rt(f,{colspan:"2",class:"bg-base-foreground"})]),_:1}),rt(m,null,{default:ct(()=>[rt(f,null,{default:ct(()=>[ee("Rank")]),_:1}),s.value?(N(),Pt(f,{key:0,title:"OTUs linked to valid protonyms"},{default:ct(()=>[ee("Total")]),_:1})):Rt("",!0),rt(f,{title:"Taxon names",class:"border-l border-base-border"},{default:ct(()=>[ee(" Total ")]),_:1}),rt(f,null,{default:ct(()=>[ee(" Valid ")]),_:1}),rt(f,null,{default:ct(()=>[ee(" Invalid ")]),_:1})]),_:1})]),_:1}),rt(A,null,{default:ct(()=>[(N(!0),X(Gt,null,de(Wt(n).catalog.stats,({rank:C,taxa:P,names:j})=>(N(),Pt(M,{key:C},{default:ct(()=>[rt(v,{class:"capitalize"},{default:ct(()=>[ee(qt(C),1)]),_:2},1024),s.value?(N(),Pt(v,{key:0},{default:ct(()=>[ee(qt(P),1)]),_:2},1024)):Rt("",!0),rt(v,{class:"border-l border-base-border"},{default:ct(()=>[ee(qt(j.invalid+j.valid),1)]),_:2},1024),rt(v,null,{default:ct(()=>[ee(qt(j.valid),1)]),_:2},1024),rt(v,null,{default:ct(()=>[ee(qt(j.invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},aw={id:"panel:statistics",component:sw},lw=Y("h2",{class:"text-md"},"Type",-1),uw=["innerHTML"],cw={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(t){const n=qr(),s=Jt(()=>{var c;return((c=n.taxon)==null?void 0:c.type_taxon_name_relationship)||{}}),a=Jt(()=>[s.value.subject_object_tag||"",s.value.subject_status_tag||"",s.value.object_object_tag||""].join(" "));return(c,i)=>{const u=ut("VCardHeader"),h=ut("VCardContent"),f=ut("VCard");return N(),Pt(f,null,{default:ct(()=>[rt(u,{class:"flex justify-between"},{default:ct(()=>[lw,rt(Si,{"panel-key":"panel:type"})]),_:1}),rt(h,{class:"text-sm"},{default:ct(()=>[Y("p",{innerHTML:a.value},null,8,uw)]),_:1})]),_:1})}}},hw={id:"panel:type",component:cw,rankGroup:[yy,vy]},pw=Y("h2",{class:"text-md"},"Type specimen",-1),dw={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(t){const n=t,s=Ft([]);return qe(()=>n.otuId,()=>{n.otuId&&Mr("panel:typeMaterial",()=>ln.getOtuTypeMaterial(n.otuId)).then(({data:a})=>{s.value=a.type_materials_catalog_labels.sort((c,i)=>ic.indexOf(c.type_type)-ic.indexOf(i.type_type))})},{immediate:!0}),(a,c)=>{const i=ut("VCardHeader"),u=ut("VCardContent"),h=ut("VCard");return s.value.length?(N(),Pt(h,{key:0},{default:ct(()=>[rt(i,{class:"flex justify-between"},{default:ct(()=>[pw,rt(Si,{"panel-key":"panel:typeMaterial"})]),_:1}),rt(u,{class:"text-sm"},{default:ct(()=>[Y("p",null,qt(s.value[0].label),1)]),_:1})]),_:1})):Rt("",!0)}}},fw={id:"panel:type-specimen",component:dw,rankGroup:[by,wy]},mw={overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:statistics"]]]}},_w=Object.values(Object.assign({"/panels/PanelScrutiny /main.js":Mb,"/panels/PanelSpecimenRecords/main.js":Gb,"/panels/PaneliNaturalist/main.js":$b,"/src/modules/otus/components/Panel/PanelContent/main.js":Kb,"/src/modules/otus/components/Panel/PanelDescendants/main.js":p0,"/src/modules/otus/components/Panel/PanelGallery/main.js":m0,"/src/modules/otus/components/Panel/PanelMap/main.js":G0,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":Y0,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":iw,"/src/modules/otus/components/Panel/PanelStats/main.js":aw,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":hw,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":fw})),{taxa_page:gw}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},mc=Object.assign({...mw,...gw});function yw(t){return t.map(n=>n.map(s=>s.map(a=>{const i=typeof a=="string"?{id:a}:{...a};return{..._w.find(h=>h.id===i.id),...i}})))}const so={};for(const t in mc){const n=mc[t];so[t]={panels:yw((n==null?void 0:n.panels)||{}),rankGroup:n.rank_group||[],label:n.label}}const vw={class:"grid gap-3"},bw={__name:"PageLayout",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){var i;const n=t,s=Bs(),a=so[s.currentRoute.value.meta.tab],c={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};return(i=a.rankGroup)!=null&&i.length&&!Ha(a.rankGroup,n.taxonRank)&&s.replace({name:"otus-id-overview"}),(u,h)=>(N(),X("div",vw,[(N(!0),X(Gt,null,de(Wt(a).panels,f=>(N(),X("div",{class:Ne(["grid grid-cols-1 gap-3",[c[f.length]]])},[(N(!0),X(Gt,null,de(f,(m,g)=>(N(),X("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:g},[(N(!0),X(Gt,null,de(m,({component:v,rankGroup:M,id:A,bind:S})=>(N(),X(Gt,{key:A},[!M||Wt(Ha)(M,t.taxonRank)?(N(),Pt(Ci(v),Lh({key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon,"panel-key":A},S),null,16,["otu-id","otu","taxon-id","taxon","panel-key"])):Rt("",!0)],64))),128))]))),128))],2))),256))]))}};function ww(){return Object.keys(so||{}).map(n=>({path:n,name:`otus-id-${n}`,component:bw,meta:{tab:n,rankGroup:so[n].rankGroup,label:so[n].label}}))}const xw=[{name:"otus-id",path:"/otus/:id",component:wb,redirect:{name:"otus-id-overview"},children:ww()}],kw="modulepreload",Lw=function(t){return"/taxonpages/"+t},_c={},xl=function(n,s,a){if(!s||s.length===0)return n();const c=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=Lw(i),i in _c)return;_c[i]=!0;const u=i.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!a)for(let g=c.length-1;g>=0;g--){const v=c[g];if(v.href===i&&(!u||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":kw,u||(m.as="script",m.crossOrigin=""),m.href=i,document.head.appendChild(m),u)return new Promise((g,v)=>{m.addEventListener("load",g),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>n()).catch(i=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i})},Mw=()=>xl(()=>import("./home-17997cac.js"),[]),Cw=()=>xl(()=>import("./help-bea878c4.js"),[]),Pw=()=>xl(()=>import("./about-06440a2e.js"),[]),Sw=[{name:"home",path:"/",component:Mw,props:!0,alias:"/home"},{name:"help",path:"/help",component:Cw,props:!0},{name:"about",path:"/about",component:Pw,props:!0}],Ew=Object.assign({"/src/modules/home/router/index.js":ty,"/src/modules/httpErrorPages/router/index.js":gy,"/src/modules/otus/router/index.js":xw}),Tw=Object.assign({}),{base_url:gc,hash_mode:Ow}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},Aw=[].concat(...Object.values(Ew),...Object.values(Tw)),Rw=[...Sw,...Aw];function Bw(){return Ow?P_(gc):Rh(gc)}function Iw(){return hg({history:Bw(),routes:Rw,scrollBehavior(t,n,s){return t.hash?{el:t.hash}:{top:0}}})}function Dw({originUrl:t}){const{url:n,project_token:s}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},c=zm(n&&s?Gg:Zg),i=Iw(),u=fg();return c.use(i),c.use(u),{app:c,router:i,store:u}}var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $a={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,n){(function(s,a){a(n)})(vp,function(s){var a="1.9.4";function c(e){var o,p,_,b;for(p=1,_=arguments.length;p<_;p++){b=arguments[p];for(o in b)e[o]=b[o]}return e}var i=Object.create||function(){function e(){}return function(o){return e.prototype=o,new e}}();function u(e,o){var p=Array.prototype.slice;if(e.bind)return e.bind.apply(e,p.call(arguments,1));var _=p.call(arguments,2);return function(){return e.apply(o,_.length?_.concat(p.call(arguments)):arguments)}}var h=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++h),e._leaflet_id}function m(e,o,p){var _,b,T,q;return q=function(){_=!1,b&&(T.apply(p,b),b=!1)},T=function(){_?b=arguments:(e.apply(p,arguments),setTimeout(q,o),_=!0)},T}function g(e,o,p){var _=o[1],b=o[0],T=_-b;return e===_&&p?e:((e-b)%T+T)%T+b}function v(){return!1}function M(e,o){if(o===!1)return e;var p=Math.pow(10,o===void 0?6:o);return Math.round(e*p)/p}function A(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function S(e){return A(e).split(/\s+/)}function E(e,o){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{});for(var p in o)e.options[p]=o[p];return e.options}function G(e,o,p){var _=[];for(var b in e)_.push(encodeURIComponent(p?b.toUpperCase():b)+"="+encodeURIComponent(e[b]));return(!o||o.indexOf("?")===-1?"?":"&")+_.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function P(e,o){return e.replace(C,function(p,_){var b=o[_];if(b===void 0)throw new Error("No value provided for variable "+p);return typeof b=="function"&&(b=b(o)),b})}var j=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function O(e,o){for(var p=0;p<e.length;p++)if(e[p]===o)return p;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var ot=0;function J(e){var o=+new Date,p=Math.max(0,16-(o-ot));return ot=o+p,window.setTimeout(e,p)}var it=window.requestAnimationFrame||W("RequestAnimationFrame")||J,ht=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function _t(e,o,p){if(p&&it===J)e.call(o);else return it.call(window,u(e,o))}function at(e){e&&ht.call(window,e)}var bt={__proto__:null,extend:c,create:i,bind:u,get lastId(){return h},stamp:f,throttle:m,wrapNum:g,falseFn:v,formatNum:M,trim:A,splitWords:S,setOptions:E,getParamString:G,template:P,isArray:j,indexOf:O,emptyImageUrl:D,requestFn:it,cancelFn:ht,requestAnimFrame:_t,cancelAnimFrame:at};function Lt(){}Lt.extend=function(e){var o=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=o.__super__=this.prototype,_=i(p);_.constructor=o,o.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(o[b]=this[b]);return e.statics&&c(o,e.statics),e.includes&&(Tt(e.includes),c.apply(null,[_].concat(e.includes))),c(_,e),delete _.statics,delete _.includes,_.options&&(_.options=p.options?i(p.options):{},c(_.options,e.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,q=_._initHooks.length;T<q;T++)_._initHooks[T].call(this)}},o},Lt.include=function(e){var o=this.prototype.options;return c(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},Lt.mergeOptions=function(e){return c(this.prototype.options,e),this},Lt.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),p=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function Tt(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=j(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ct={on:function(e,o,p){if(typeof e=="object")for(var _ in e)this._on(_,e[_],o);else{e=S(e);for(var b=0,T=e.length;b<T;b++)this._on(e[b],o,p)}return this},off:function(e,o,p){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var _ in e)this._off(_,e[_],o);else{e=S(e);for(var b=arguments.length===1,T=0,q=e.length;T<q;T++)b?this._off(e[T]):this._off(e[T],o,p)}return this},_on:function(e,o,p,_){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(e,o,p)===!1){p===this&&(p=void 0);var b={fn:o,ctx:p};_&&(b.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(b)}},_off:function(e,o,p){var _,b,T;if(this._events&&(_=this._events[e],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,T=_.length;b<T;b++)_[b].fn=v;delete this._events[e];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var q=this._listens(e,o,p);if(q!==!1){var nt=_[q];this._firingCount&&(nt.fn=v,this._events[e]=_=_.slice()),_.splice(q,1)}}},fire:function(e,o,p){if(!this.listens(e,p))return this;var _=c({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var b=this._events[e];if(b){this._firingCount=this._firingCount+1||1;for(var T=0,q=b.length;T<q;T++){var nt=b[T],lt=nt.fn;nt.once&&this.off(e,lt,nt.ctx),lt.call(nt.ctx||this,_)}this._firingCount--}}return p&&this._propagateEvent(_),this},listens:function(e,o,p,_){typeof e!="string"&&console.warn('"string" type argument expected');var b=o;typeof o!="function"&&(_=!!o,b=void 0,p=void 0);var T=this._events&&this._events[e];if(T&&T.length&&this._listens(e,b,p)!==!1)return!0;if(_){for(var q in this._eventParents)if(this._eventParents[q].listens(e,o,p,_))return!0}return!1},_listens:function(e,o,p){if(!this._events)return!1;var _=this._events[e]||[];if(!o)return!!_.length;p===this&&(p=void 0);for(var b=0,T=_.length;b<T;b++)if(_[b].fn===o&&_[b].ctx===p)return b;return!1},once:function(e,o,p){if(typeof e=="object")for(var _ in e)this._on(_,e[_],o,!0);else{e=S(e);for(var b=0,T=e.length;b<T;b++)this._on(e[b],o,p,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,c({layer:e.target,propagatedFrom:e.target},e),!0)}};Ct.addEventListener=Ct.on,Ct.removeEventListener=Ct.clearAllEventListeners=Ct.off,Ct.addOneTimeEventListener=Ct.once,Ct.fireEvent=Ct.fire,Ct.hasEventListeners=Ct.listens;var $t=Lt.extend(Ct);function wt(e,o,p){this.x=p?Math.round(e):e,this.y=p?Math.round(o):o}var fe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};wt.prototype={clone:function(){return new wt(this.x,this.y)},add:function(e){return this.clone()._add(zt(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(zt(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new wt(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new wt(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(e){e=zt(e);var o=e.x-this.x,p=e.y-this.y;return Math.sqrt(o*o+p*p)},equals:function(e){return e=zt(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=zt(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function zt(e,o,p){return e instanceof wt?e:j(e)?new wt(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new wt(e.x,e.y):new wt(e,o,p)}function It(e,o){if(e)for(var p=o?[e,o]:e,_=0,b=p.length;_<b;_++)this.extend(p[_])}It.prototype={extend:function(e){var o,p;if(!e)return this;if(e instanceof wt||typeof e[0]=="number"||"x"in e)o=p=zt(e);else if(e=Ut(e),o=e.min,p=e.max,!o||!p)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=p.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(e){return zt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return zt(this.min.x,this.max.y)},getTopRight:function(){return zt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,p;return typeof e[0]=="number"||e instanceof wt?e=zt(e):e=Ut(e),e instanceof It?(o=e.min,p=e.max):o=p=e,o.x>=this.min.x&&p.x<=this.max.x&&o.y>=this.min.y&&p.y<=this.max.y},intersects:function(e){e=Ut(e);var o=this.min,p=this.max,_=e.min,b=e.max,T=b.x>=o.x&&_.x<=p.x,q=b.y>=o.y&&_.y<=p.y;return T&&q},overlaps:function(e){e=Ut(e);var o=this.min,p=this.max,_=e.min,b=e.max,T=b.x>o.x&&_.x<p.x,q=b.y>o.y&&_.y<p.y;return T&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var o=this.min,p=this.max,_=Math.abs(o.x-p.x)*e,b=Math.abs(o.y-p.y)*e;return Ut(zt(o.x-_,o.y-b),zt(p.x+_,p.y+b))},equals:function(e){return e?(e=Ut(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Ut(e,o){return!e||e instanceof It?e:new It(e,o)}function Me(e,o){if(e)for(var p=o?[e,o]:e,_=0,b=p.length;_<b;_++)this.extend(p[_])}Me.prototype={extend:function(e){var o=this._southWest,p=this._northEast,_,b;if(e instanceof le)_=e,b=e;else if(e instanceof Me){if(_=e._southWest,b=e._northEast,!_||!b)return this}else return e?this.extend(Vt(e)||me(e)):this;return!o&&!p?(this._southWest=new le(_.lat,_.lng),this._northEast=new le(b.lat,b.lng)):(o.lat=Math.min(_.lat,o.lat),o.lng=Math.min(_.lng,o.lng),p.lat=Math.max(b.lat,p.lat),p.lng=Math.max(b.lng,p.lng)),this},pad:function(e){var o=this._southWest,p=this._northEast,_=Math.abs(o.lat-p.lat)*e,b=Math.abs(o.lng-p.lng)*e;return new Me(new le(o.lat-_,o.lng-b),new le(p.lat+_,p.lng+b))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof le||"lat"in e?e=Vt(e):e=me(e);var o=this._southWest,p=this._northEast,_,b;return e instanceof Me?(_=e.getSouthWest(),b=e.getNorthEast()):_=b=e,_.lat>=o.lat&&b.lat<=p.lat&&_.lng>=o.lng&&b.lng<=p.lng},intersects:function(e){e=me(e);var o=this._southWest,p=this._northEast,_=e.getSouthWest(),b=e.getNorthEast(),T=b.lat>=o.lat&&_.lat<=p.lat,q=b.lng>=o.lng&&_.lng<=p.lng;return T&&q},overlaps:function(e){e=me(e);var o=this._southWest,p=this._northEast,_=e.getSouthWest(),b=e.getNorthEast(),T=b.lat>o.lat&&_.lat<p.lat,q=b.lng>o.lng&&_.lng<p.lng;return T&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return e?(e=me(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(e,o){return e instanceof Me?e:new Me(e,o)}function le(e,o,p){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,p!==void 0&&(this.alt=+p)}le.prototype={equals:function(e,o){if(!e)return!1;e=Vt(e);var p=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return p<=(o===void 0?1e-9:o)},toString:function(e){return"LatLng("+M(this.lat,e)+", "+M(this.lng,e)+")"},distanceTo:function(e){return St.distance(this,Vt(e))},wrap:function(){return St.wrapLatLng(this)},toBounds:function(e){var o=180*e/40075017,p=o/Math.cos(Math.PI/180*this.lat);return me([this.lat-o,this.lng-p],[this.lat+o,this.lng+p])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function Vt(e,o,p){return e instanceof le?e:j(e)&&typeof e[0]!="object"?e.length===3?new le(e[0],e[1],e[2]):e.length===2?new le(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new le(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new le(e,o,p)}var ft={latLngToPoint:function(e,o){var p=this.projection.project(e),_=this.scale(o);return this.transformation._transform(p,_)},pointToLatLng:function(e,o){var p=this.scale(o),_=this.transformation.untransform(e,p);return this.projection.unproject(_)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var o=this.projection.bounds,p=this.scale(e),_=this.transformation.transform(o.min,p),b=this.transformation.transform(o.max,p);return new It(_,b)},infinite:!1,wrapLatLng:function(e){var o=this.wrapLng?g(e.lng,this.wrapLng,!0):e.lng,p=this.wrapLat?g(e.lat,this.wrapLat,!0):e.lat,_=e.alt;return new le(p,o,_)},wrapLatLngBounds:function(e){var o=e.getCenter(),p=this.wrapLatLng(o),_=o.lat-p.lat,b=o.lng-p.lng;if(_===0&&b===0)return e;var T=e.getSouthWest(),q=e.getNorthEast(),nt=new le(T.lat-_,T.lng-b),lt=new le(q.lat-_,q.lng-b);return new Me(nt,lt)}},St=c({},ft,{wrapLng:[-180,180],R:6371e3,distance:function(e,o){var p=Math.PI/180,_=e.lat*p,b=o.lat*p,T=Math.sin((o.lat-e.lat)*p/2),q=Math.sin((o.lng-e.lng)*p/2),nt=T*T+Math.cos(_)*Math.cos(b)*q*q,lt=2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt));return this.R*lt}}),Et=6378137,jt={R:Et,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,p=this.MAX_LATITUDE,_=Math.max(Math.min(p,e.lat),-p),b=Math.sin(_*o);return new wt(this.R*e.lng*o,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(e){var o=180/Math.PI;return new le((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:function(){var e=Et*Math.PI;return new It([-e,-e],[e,e])}()};function ue(e,o,p,_){if(j(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=o,this._c=p,this._d=_}ue.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return o=o||1,e.x=o*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return o=o||1,new wt((e.x/o-this._b)/this._a,(e.y/o-this._d)/this._c)}};function H(e,o,p,_){return new ue(e,o,p,_)}var K=c({},St,{code:"EPSG:3857",projection:jt,transformation:function(){var e=.5/(Math.PI*jt.R);return H(e,.5,-e,.5)}()}),Q=c({},K,{code:"EPSG:900913"});function dt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function gt(e,o){var p="",_,b,T,q,nt,lt;for(_=0,T=e.length;_<T;_++){for(nt=e[_],b=0,q=nt.length;b<q;b++)lt=nt[b],p+=(b?"L":"M")+lt.x+" "+lt.y;p+=o?Ht.svg?"z":"x":""}return p||"M0 0"}var xt=document.documentElement.style,At="ActiveXObject"in window,I=At&&!document.addEventListener,w="msLaunchUri"in navigator&&!("documentMode"in document),k=nn("webkit"),R=nn("android"),z=nn("android 2")||nn("android 3"),F=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),et=R&&nn("Google")&&F<537&&!("AudioNode"in window),st=!!window.opera,vt=!w&&nn("chrome"),Ot=nn("gecko")&&!k&&!st&&!At,Nt=!vt&&nn("safari"),Xt=nn("phantom"),ne="OTransition"in xt,be=navigator.platform.indexOf("Win")===0,te=At&&"transition"in xt,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!z,he="MozPerspective"in xt,we=!window.L_DISABLE_3D&&(te||ve||he)&&!ne&&!Xt,Ae=typeof orientation<"u"||nn("mobile"),We=Ae&&k,Je=Ae&&ve,fn=!window.PointerEvent&&window.MSPointerEvent,cn=!!(window.PointerEvent||fn),Xe="ontouchstart"in window||!!window.TouchEvent,hn=!window.L_NO_TOUCH&&(Xe||cn),Ln=Ae&&st,$n=Ae&&Ot,Ye=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fe=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",v,o),window.removeEventListener("testPassiveEventSupport",v,o)}catch{}return e}(),Rn=function(){return!!document.createElement("canvas").getContext}(),Kr=!!(document.createElementNS&&dt("svg").createSVGRect),Ei=!!Kr&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Cr=!Kr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var o=e.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Fs=navigator.platform.indexOf("Mac")===0,Ti=navigator.platform.indexOf("Linux")===0;function nn(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Ht={ie:At,ielt9:I,edge:w,webkit:k,android:R,android23:z,androidStock:et,opera:st,chrome:vt,gecko:Ot,safari:Nt,phantom:Xt,opera12:ne,win:be,ie3d:te,webkit3d:ve,gecko3d:he,any3d:we,mobile:Ae,mobileWebkit:We,mobileWebkit3d:Je,msPointer:fn,pointer:cn,touch:hn,touchNative:Xe,mobileOpera:Ln,mobileGecko:$n,retina:Ye,passiveEvents:Fe,canvas:Rn,svg:Kr,vml:Cr,inlineSvg:Ei,mac:Fs,linux:Ti},Oi=Ht.msPointer?"MSPointerDown":"pointerdown",Bn=Ht.msPointer?"MSPointerMove":"pointermove",In=Ht.msPointer?"MSPointerUp":"pointerup",Lo=Ht.msPointer?"MSPointerCancel":"pointercancel",Pr={touchstart:Oi,touchmove:Bn,touchend:In,touchcancel:Lo},or={touchstart:Jr,touchmove:Wr,touchend:Wr,touchcancel:Wr},sr={},Ai=!1;function Mo(e,o,p){return o==="touchstart"&&Ii(),or[o]?(p=or[o].bind(this,p),e.addEventListener(Pr[o],p,!1),p):(console.warn("wrong event specified:",o),v)}function Hs(e,o,p){if(!Pr[o]){console.warn("wrong event specified:",o);return}e.removeEventListener(Pr[o],p,!1)}function Co(e){sr[e.pointerId]=e}function Ri(e){sr[e.pointerId]&&(sr[e.pointerId]=e)}function Bi(e){delete sr[e.pointerId]}function Ii(){Ai||(document.addEventListener(Oi,Co,!0),document.addEventListener(Bn,Ri,!0),document.addEventListener(In,Bi,!0),document.addEventListener(Lo,Bi,!0),Ai=!0)}function Wr(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var p in sr)o.touches.push(sr[p]);o.changedTouches=[o],e(o)}}function Jr(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Z(o),Wr(e,o)}function Po(e){var o={},p,_;for(_ in e)p=e[_],o[_]=p&&p.bind?p.bind(e):p;return e=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var $s=200;function Sr(e,o){e.addEventListener("dblclick",o);var p=0,_;function b(T){if(T.detail!==1){_=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var q=mt(T);if(!(q.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})&&!q.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement}))){var nt=Date.now();nt-p<=$s?(_++,_===2&&o(Po(T))):_=1,p=nt}}}return e.addEventListener("click",b),{dblclick:o,simDblclick:b}}function Us(e,o){e.removeEventListener("dblclick",o.dblclick),e.removeEventListener("click",o.simDblclick)}var Yr=Qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Un=Qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),So=Un==="webkitTransition"||Un==="OTransition"?Un+"End":"transitionend";function Eo(e){return typeof e=="string"?document.getElementById(e):e}function ar(e,o){var p=e.style[o]||e.currentStyle&&e.currentStyle[o];if((!p||p==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(e,null);p=_?_[o]:null}return p==="auto"?null:p}function pe(e,o,p){var _=document.createElement(e);return _.className=o||"",p&&p.appendChild(_),_}function Ce(e){var o=e.parentNode;o&&o.removeChild(e)}function Er(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Zn(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function qn(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function Xr(e,o){if(e.classList!==void 0)return e.classList.contains(o);var p=Tr(e);return p.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(p)}function oe(e,o){if(e.classList!==void 0)for(var p=S(o),_=0,b=p.length;_<b;_++)e.classList.add(p[_]);else if(!Xr(e,o)){var T=Tr(e);Di(e,(T?T+" ":"")+o)}}function Re(e,o){e.classList!==void 0?e.classList.remove(o):Di(e,A((" "+Tr(e)+" ").replace(" "+o+" "," ")))}function Di(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function Tr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function rn(e,o){"opacity"in e.style?e.style.opacity=o:"filter"in e.style&&zi(e,o)}function zi(e,o){var p=!1,_="DXImageTransform.Microsoft.Alpha";try{p=e.filters.item(_)}catch{if(o===1)return}o=Math.round(o*100),p?(p.Enabled=o!==100,p.Opacity=o):e.style.filter+=" progid:"+_+"(opacity="+o+")"}function Qr(e){for(var o=document.documentElement.style,p=0;p<e.length;p++)if(e[p]in o)return e[p];return!1}function Dn(e,o,p){var _=o||new wt(0,0);e.style[Yr]=(Ht.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(p?" scale("+p+")":"")}function Ee(e,o){e._leaflet_pos=o,Ht.any3d?Dn(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function mn(e){return e._leaflet_pos||new wt(0,0)}var Or,Ar,Be;if("onselectstart"in document)Or=function(){re(window,"selectstart",Z)},Ar=function(){l(window,"selectstart",Z)};else{var zn=Qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Or=function(){if(zn){var e=document.documentElement.style;Be=e[zn],e[zn]="none"}},Ar=function(){zn&&(document.documentElement.style[zn]=Be,Be=void 0)}}function Rr(){re(window,"dragstart",Z)}function ji(){l(window,"dragstart",Z)}var ti,ei;function Ni(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(lr(),ti=e,ei=e.style.outlineStyle,e.style.outlineStyle="none",re(window,"keydown",lr))}function lr(){ti&&(ti.style.outlineStyle=ei,ti=void 0,ei=void 0,l(window,"keydown",lr))}function ni(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Gi(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}var Zs={__proto__:null,TRANSFORM:Yr,TRANSITION:Un,TRANSITION_END:So,get:Eo,getStyle:ar,create:pe,remove:Ce,empty:Er,toFront:Zn,toBack:qn,hasClass:Xr,addClass:oe,removeClass:Re,setClass:Di,getClass:Tr,setOpacity:rn,testProp:Qr,setTransform:Dn,setPosition:Ee,getPosition:mn,get disableTextSelection(){return Or},get enableTextSelection(){return Ar},disableImageDrag:Rr,enableImageDrag:ji,preventOutline:Ni,restoreOutline:lr,getSizedParentNode:ni,getScale:Gi};function re(e,o,p,_){if(o&&typeof o=="object")for(var b in o)x(e,b,o[b],p);else{o=S(o);for(var T=0,q=o.length;T<q;T++)x(e,o[T],p,_)}return this}var r="_leaflet_events";function l(e,o,p,_){if(arguments.length===1)d(e),delete e[r];else if(o&&typeof o=="object")for(var b in o)B(e,b,o[b],p);else if(o=S(o),arguments.length===2)d(e,function(nt){return O(o,nt)!==-1});else for(var T=0,q=o.length;T<q;T++)B(e,o[T],p,_);return this}function d(e,o){for(var p in e[r]){var _=p.split(/\d/)[0];(!o||o(_))&&B(e,_,null,null,p)}}var y={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function x(e,o,p,_){var b=o+f(p)+(_?"_"+f(_):"");if(e[r]&&e[r][b])return this;var T=function(nt){return p.call(_||e,nt||window.event)},q=T;!Ht.touchNative&&Ht.pointer&&o.indexOf("touch")===0?T=Mo(e,o,T):Ht.touch&&o==="dblclick"?T=Sr(e,T):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(y[o]||o,T,Ht.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(T=function(nt){nt=nt||window.event,Kt(e,nt)&&q(nt)},e.addEventListener(y[o],T,!1)):e.addEventListener(o,q,!1):e.attachEvent("on"+o,T),e[r]=e[r]||{},e[r][b]=T}function B(e,o,p,_,b){b=b||o+f(p)+(_?"_"+f(_):"");var T=e[r]&&e[r][b];if(!T)return this;!Ht.touchNative&&Ht.pointer&&o.indexOf("touch")===0?Hs(e,o,T):Ht.touch&&o==="dblclick"?Us(e,T):"removeEventListener"in e?e.removeEventListener(y[o]||o,T,!1):e.detachEvent("on"+o,T),e[r][b]=null}function V(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function U(e){return x(e,"wheel",V),this}function $(e){return re(e,"mousedown touchstart dblclick contextmenu",V),e._leaflet_disable_click=!0,this}function Z(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function tt(e){return Z(e),V(e),this}function mt(e){if(e.composedPath)return e.composedPath();for(var o=[],p=e.target;p;)o.push(p),p=p.parentNode;return o}function pt(e,o){if(!o)return new wt(e.clientX,e.clientY);var p=Gi(o),_=p.boundingClientRect;return new wt((e.clientX-_.left)/p.x-o.clientLeft,(e.clientY-_.top)/p.y-o.clientTop)}var Mt=Ht.linux&&Ht.chrome?window.devicePixelRatio:Ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Bt(e){return Ht.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Mt:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Kt(e,o){var p=o.relatedTarget;if(!p)return!0;try{for(;p&&p!==e;)p=p.parentNode}catch{return!1}return p!==e}var se={__proto__:null,on:re,off:l,stopPropagation:V,disableScrollPropagation:U,disableClickPropagation:$,preventDefault:Z,stop:tt,getPropagationPath:mt,getMousePosition:pt,getWheelDelta:Bt,isExternalTarget:Kt,addListener:re,removeListener:l},xe=$t.extend({run:function(e,o,p,_){this.stop(),this._el=e,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=mn(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_t(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,p=this._duration*1e3;o<p?this._runFrame(this._easeOut(o/p),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){var p=this._startPos.add(this._offset.multiplyBy(e));o&&p._round(),Ee(this._el,p),this.fire("step")},_complete:function(){at(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Zt=$t.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=E(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(Vt(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Un&&Ht.any3d&&!Ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,So,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,p){if(o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter(Vt(e),o,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=c({animate:p.animate},p.zoom),p.pan=c({animate:p.animate,duration:p.duration},p.pan));var _=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,p.zoom):this._tryAnimatedPan(e,p.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(e,o,p.pan&&p.pan.noMoveStart),this},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(Ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(e,o,p){var _=this.getZoomScale(o),b=this.getSize().divideBy(2),T=e instanceof wt?e:this.latLngToContainerPoint(e),q=T.subtract(b).multiplyBy(1-1/_),nt=this.containerPointToLatLng(b.add(q));return this.setView(nt,o,{zoom:p})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():me(e);var p=zt(o.paddingTopLeft||o.padding||[0,0]),_=zt(o.paddingBottomRight||o.padding||[0,0]),b=this.getBoundsZoom(e,!1,p.add(_));if(b=typeof o.maxZoom=="number"?Math.min(o.maxZoom,b):b,b===1/0)return{center:e.getCenter(),zoom:b};var T=_.subtract(p).divideBy(2),q=this.project(e.getSouthWest(),b),nt=this.project(e.getNorthEast(),b),lt=this.unproject(q.add(nt).divideBy(2).add(T),b);return{center:lt,zoom:b}},fitBounds:function(e,o){if(e=me(e),!e.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(e,o);return this.setView(p.center,p.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){if(e=zt(e).round(),o=o||{},!e.x&&!e.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){oe(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,p,o.duration||.25,o.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,o,p){if(p=p||{},p.animate===!1||!Ht.any3d)return this.setView(e,o,p);this._stop();var _=this.project(this.getCenter()),b=this.project(e),T=this.getSize(),q=this._zoom;e=Vt(e),o=o===void 0?q:o;var nt=Math.max(T.x,T.y),lt=nt*this.getZoomScale(q,o),kt=b.distanceTo(_)||1,Dt=1.42,Qt=Dt*Dt;function ce(je){var Ho=je?-1:1,id=je?lt:nt,od=lt*lt-nt*nt+Ho*Qt*Qt*kt*kt,sd=2*id*Qt*kt,ra=od/sd,nu=Math.sqrt(ra*ra+1)-ra,ad=nu<1e-9?-18:Math.log(nu);return ad}function tn(je){return(Math.exp(je)-Math.exp(-je))/2}function Ue(je){return(Math.exp(je)+Math.exp(-je))/2}function yn(je){return tn(je)/Ue(je)}var on=ce(0);function li(je){return nt*(Ue(on)/Ue(on+Dt*je))}function td(je){return nt*(Ue(on)*yn(on+Dt*je)-tn(on))/Qt}function ed(je){return 1-Math.pow(1-je,1.5)}var nd=Date.now(),tu=(ce(1)-on)/Dt,rd=p.duration?1e3*p.duration:1e3*tu*.8;function eu(){var je=(Date.now()-nd)/rd,Ho=ed(je)*tu;je<=1?(this._flyToFrame=_t(eu,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(td(Ho)/kt)),q),this.getScaleZoom(nt/li(Ho),q),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),eu.call(this),this},flyToBounds:function(e,o){var p=this._getBoundsCenterZoom(e,o);return this.flyTo(p.center,p.zoom,o)},setMaxBounds:function(e){return e=me(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,o){this._enforcingBounds=!0;var p=this.getCenter(),_=this._limitCenter(p,this._zoom,me(e));return p.equals(_)||this.panTo(_,o),this._enforcingBounds=!1,this},panInside:function(e,o){o=o||{};var p=zt(o.paddingTopLeft||o.padding||[0,0]),_=zt(o.paddingBottomRight||o.padding||[0,0]),b=this.project(this.getCenter()),T=this.project(e),q=this.getPixelBounds(),nt=Ut([q.min.add(p),q.max.subtract(_)]),lt=nt.getSize();if(!nt.contains(T)){this._enforcingBounds=!0;var kt=T.subtract(nt.getCenter()),Dt=nt.extend(T).getSize().subtract(lt);b.x+=kt.x<0?-Dt.x:Dt.x,b.y+=kt.y<0?-Dt.y:Dt.y,this.panTo(this.unproject(b),o),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=c({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),_=o.divideBy(2).round(),b=p.divideBy(2).round(),T=_.subtract(b);return!T.x&&!T.y?this:(e.animate&&e.pan?this.panBy(T):(e.pan&&this._rawPanBy(T),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=c({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),p=u(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,p,e):navigator.geolocation.getCurrentPosition(o,p,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var o=e.code,p=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o=e.coords.latitude,p=e.coords.longitude,_=new le(o,p),b=_.toBounds(e.coords.accuracy*2),T=this._locateOptions;if(T.setView){var q=this.getBoundsZoom(b);this.setView(_,T.maxZoom?Math.min(q,T.maxZoom):q)}var nt={latlng:_,bounds:b,timestamp:e.timestamp};for(var lt in e.coords)typeof e.coords[lt]=="number"&&(nt[lt]=e.coords[lt]);this.fire("locationfound",nt)}},addHandler:function(e,o){if(!o)return this;var p=this[e]=new o(this);return this._handlers.push(p),this.options[e]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(at(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Ce(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){var p="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),_=pe("div",p,o||this._mapPane);return e&&(this._panes[e]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),o=this.unproject(e.getBottomLeft()),p=this.unproject(e.getTopRight());return new Me(o,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,o,p){e=me(e),p=zt(p||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),T=this.getMaxZoom(),q=e.getNorthWest(),nt=e.getSouthEast(),lt=this.getSize().subtract(p),kt=Ut(this.project(nt,_),this.project(q,_)).getSize(),Dt=Ht.any3d?this.options.zoomSnap:1,Qt=lt.x/kt.x,ce=lt.y/kt.y,tn=o?Math.max(Qt,ce):Math.min(Qt,ce);return _=this.getScaleZoom(tn,_),Dt&&(_=Math.round(_/(Dt/100))*(Dt/100),_=o?Math.ceil(_/Dt)*Dt:Math.floor(_/Dt)*Dt),Math.max(b,Math.min(T,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new wt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){var p=this._getTopLeftPoint(e,o);return new It(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var p=this.options.crs;return o=o===void 0?this._zoom:o,p.scale(e)/p.scale(o)},getScaleZoom:function(e,o){var p=this.options.crs;o=o===void 0?this._zoom:o;var _=p.zoom(e*p.scale(o));return isNaN(_)?1/0:_},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(Vt(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(zt(e),o)},layerPointToLatLng:function(e){var o=zt(e).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(e){var o=this.project(Vt(e))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Vt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(me(e))},distance:function(e,o){return this.options.crs.distance(Vt(e),Vt(o))},containerPointToLayerPoint:function(e){return zt(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return zt(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var o=this.containerPointToLayerPoint(zt(e));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Vt(e)))},mouseEventToContainerPoint:function(e){return pt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var o=this._container=Eo(e);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");re(o,"scroll",this._onScroll,this),this._containerId=f(o)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ht.any3d,oe(e,"leaflet-container"+(Ht.touch?" leaflet-touch":"")+(Ht.retina?" leaflet-retina":"")+(Ht.ielt9?" leaflet-oldie":"")+(Ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=ar(e,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new wt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(oe(e.markerPane,"leaflet-zoom-hide"),oe(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o,p){Ee(this._mapPane,new wt(0,0));var _=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var b=this._zoom!==o;this._moveStart(b,p)._move(e,o)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,p,_){o===void 0&&(o=this._zoom);var b=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),_?p&&p.pinch&&this.fire("zoom",p):((b||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return at(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ee(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var o=e?l:re;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),Ht.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){at(this._resizeRequest),this._resizeRequest=_t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var p=[],_,b=o==="mouseout"||o==="mouseover",T=e.target||e.srcElement,q=!1;T;){if(_=this._targets[f(T)],_&&(o==="click"||o==="preclick")&&this._draggableMoved(_)){q=!0;break}if(_&&_.listens(o,!0)&&(b&&!Kt(T,e)||(p.push(_),b))||T===this._container)break;T=T.parentNode}return!p.length&&!q&&!b&&this.listens(o,!0)&&(p=[this]),p},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o=e.target||e.srcElement;if(!(!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o))){var p=e.type;p==="mousedown"&&Ni(o),this._fireDOMEvent(e,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,p){if(e.type==="click"){var _=c({},e);_.type="preclick",this._fireDOMEvent(_,_.type,p)}var b=this._findEventTargets(e,o);if(p){for(var T=[],q=0;q<p.length;q++)p[q].listens(o,!0)&&T.push(p[q]);b=T.concat(b)}if(b.length){o==="contextmenu"&&Z(e);var nt=b[0],lt={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var kt=nt.getLatLng&&(!nt._radius||nt._radius<=10);lt.containerPoint=kt?this.latLngToContainerPoint(nt.getLatLng()):this.mouseEventToContainerPoint(e),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=kt?nt.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(q=0;q<b.length;q++)if(b[q].fire(o,lt,!0),lt.originalEvent._stopped||b[q].options.bubblingMouseEvents===!1&&O(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return mn(this._mapPane)||new wt(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){var p=e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var p=this.getSize()._divideBy(2);return this.project(e,o)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,p){var _=this._getNewPixelOrigin(p,o);return this.project(e,o)._subtract(_)},_latLngBoundsToNewLayerBounds:function(e,o,p){var _=this._getNewPixelOrigin(p,o);return Ut([this.project(e.getSouthWest(),o)._subtract(_),this.project(e.getNorthWest(),o)._subtract(_),this.project(e.getSouthEast(),o)._subtract(_),this.project(e.getNorthEast(),o)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,p){if(!p)return e;var _=this.project(e,o),b=this.getSize().divideBy(2),T=new It(_.subtract(b),_.add(b)),q=this._getBoundsOffset(T,p,o);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?e:this.unproject(_.add(q),o)},_limitOffset:function(e,o){if(!o)return e;var p=this.getPixelBounds(),_=new It(p.min.add(e),p.max.add(e));return e.add(this._getBoundsOffset(_,o))},_getBoundsOffset:function(e,o,p){var _=Ut(this.project(o.getNorthEast(),p),this.project(o.getSouthWest(),p)),b=_.min.subtract(e.min),T=_.max.subtract(e.max),q=this._rebound(b.x,-T.x),nt=this._rebound(b.y,-T.y);return new wt(q,nt)},_rebound:function(e,o){return e+o>0?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),p=this.getMaxZoom(),_=Ht.any3d?this.options.zoomSnap:1;return _&&(e=Math.round(e/_)*_),Math.max(o,Math.min(p,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Re(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){var p=this._getCenterOffset(e)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,o),!0)},_createAnimProxy:function(){var e=this._proxy=pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var p=Yr,_=this._proxy.style[p];Dn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),_===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();Dn(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(o),b=this._getCenterOffset(e)._divideBy(1-1/_);return p.animate!==!0&&!this.getSize().contains(b)?!1:(_t(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,p,_){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Re(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ke(e,o){return new Zt(e,o)}var Pe=Lt.extend({options:{position:"topright"},initialize:function(e){E(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var o=this._container=this.onAdd(e),p=this.getPosition(),_=e._controlCorners[p];return oe(o,"leaflet-control"),p.indexOf("bottom")!==-1?_.insertBefore(o,_.firstChild):_.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),$e=function(e){return new Pe(e)};Zt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",p=this._controlContainer=pe("div",o+"control-container",this._container);function _(b,T){var q=o+b+" "+o+T;e[b+T]=pe("div",q,p)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Ce(this._controlCorners[e]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mn=Pe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,p,_){return p<_?-1:_<p?1:0}},initialize:function(e,o,p){E(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in e)this._addLayer(e[_],_);for(_ in o)this._addLayer(o[_],_,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Pe.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var o=this._getLayer(f(e));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Re(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Re(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=pe("div",e),p=this.options.collapsed;o.setAttribute("aria-haspopup",!0),$(o),U(o);var _=this._section=pe("section",e+"-list");p&&(this._map.on("click",this.collapse,this),re(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=pe("a",e+"-toggle",o);b.href="#",b.title="Layers",b.setAttribute("role","button"),re(b,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){Z(T),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=pe("div",e+"-base",_),this._separator=pe("div",e+"-separator",_),this._overlaysList=pe("div",e+"-overlays",_),o.appendChild(_)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&f(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,p){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:p}),this.options.sortLayers&&this._layers.sort(u(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Er(this._baseLayersList),Er(this._overlaysList),this._layerControlInputs=[];var e,o,p,_,b=0;for(p=0;p<this._layers.length;p++)_=this._layers[p],this._addItem(_),o=o||_.overlay,e=e||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(e=e&&b>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var o=this._getLayer(f(e.target)),p=o.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;p&&this._map.fire(p,o)},_createRadioElement:function(e,o){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=p,_.firstChild},_addItem:function(e){var o=document.createElement("label"),p=this._map.hasLayer(e.layer),_;e.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=p):_=this._createRadioElement("leaflet-base-layers_"+f(this),p),this._layerControlInputs.push(_),_.layerId=f(e.layer),re(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+e.name;var T=document.createElement("span");o.appendChild(T),T.appendChild(_),T.appendChild(b);var q=e.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,o,p,_=[],b=[];this._handlingClick=!0;for(var T=e.length-1;T>=0;T--)o=e[T],p=this._getLayer(o.layerId).layer,o.checked?_.push(p):o.checked||b.push(p);for(T=0;T<b.length;T++)this._map.hasLayer(b[T])&&this._map.removeLayer(b[T]);for(T=0;T<_.length;T++)this._map.hasLayer(_[T])||this._map.addLayer(_[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,o,p,_=this._map.getZoom(),b=e.length-1;b>=0;b--)o=e[b],p=this._getLayer(o.layerId).layer,o.disabled=p.options.minZoom!==void 0&&_<p.options.minZoom||p.options.maxZoom!==void 0&&_>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,re(e,"click",Z),this.expand();var o=this;setTimeout(function(){l(e,"click",Z),o._preventClick=!1})}}),To=function(e,o,p){return new Mn(e,o,p)},Br=Pe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",p=pe("div",o+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,o+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,o+"-out",p,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,p,_,b){var T=pe("a",p,_);return T.innerHTML=e,T.href="#",T.title=o,T.setAttribute("role","button"),T.setAttribute("aria-label",o),$(T),re(T,"click",tt),re(T,"click",b,this),re(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";Re(this._zoomInButton,o),Re(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(oe(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(oe(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Br,this.addControl(this.zoomControl))});var Kn=function(e){return new Br(e)},Vi=Pe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",p=pe("div",o),_=this.options;return this._addScales(_,o+"-line",p),e.on(_.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),p},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,p){e.metric&&(this._mScale=pe("div",o,p)),e.imperial&&(this._iScale=pe("div",o,p))},_update:function(){var e=this._map,o=e.getSize().y/2,p=e.distance(e.containerPointToLatLng([0,o]),e.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(p)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e),p=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,p,o/e)},_updateImperial:function(e){var o=e*3.2808399,p,_,b;o>5280?(p=o/5280,_=this._getRoundNum(p),this._updateScale(this._iScale,_+" mi",_/p)):(b=this._getRoundNum(o),this._updateScale(this._iScale,b+" ft",b/o))},_updateScale:function(e,o,p){e.style.width=Math.round(this.options.maxWidth*p)+"px",e.innerHTML=o},_getRoundNum:function(e){var o=Math.pow(10,(Math.floor(e)+"").length-1),p=e/o;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,o*p}}),Oo=function(e){return new Vi(e)},qs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ir=Pe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ht.inlineSvg?qs+" ":"")+"Leaflet</a>"},initialize:function(e){E(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=pe("div","leaflet-control-attribution"),$(this._container);for(var o in e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var o in this._attributions)this._attributions[o]&&e.push(o);var p=[];this.options.prefix&&p.push(this.options.prefix),e.length&&p.push(e.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new Ir().addTo(this)});var Ks=function(e){return new Ir(e)};Pe.Layers=Mn,Pe.Zoom=Br,Pe.Scale=Vi,Pe.Attribution=Ir,$e.layers=To,$e.zoom=Kn,$e.scale=Oo,$e.attribution=Ks;var _n=Lt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_n.addTo=function(e,o){return e.addHandler(o,this),this};var kp={Events:Ct},Ml=Ht.touch?"touchstart mousedown":"mousedown",ur=$t.extend({options:{clickTolerance:3},initialize:function(e,o,p,_){E(this,_),this._element=e,this._dragStartTarget=o||e,this._preventOutline=p},enable:function(){this._enabled||(re(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ur._dragging===this&&this.finishDrag(!0),l(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Xr(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){ur._dragging===this&&this.finishDrag();return}if(!(ur._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(ur._dragging=this,this._preventOutline&&Ni(this._element),Rr(),Or(),!this._moving)){this.fire("down");var o=e.touches?e.touches[0]:e,p=ni(this._element);this._startPoint=new wt(o.clientX,o.clientY),this._startPos=mn(this._element),this._parentScale=Gi(p);var _=e.type==="mousedown";re(document,_?"mousemove":"touchmove",this._onMove,this),re(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var o=e.touches&&e.touches.length===1?e.touches[0]:e,p=new wt(o.clientX,o.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,Z(e),this._moved||(this.fire("dragstart"),this._moved=!0,oe(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ee(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Re(document.body,"leaflet-dragging"),this._lastTarget&&(Re(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),l(document,"mousemove touchmove",this._onMove,this),l(document,"mouseup touchend touchcancel",this._onUp,this),ji(),Ar();var o=this._moved&&this._moving;this._moving=!1,ur._dragging=!1,o&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Cl(e,o,p){var _,b=[1,4,2,8],T,q,nt,lt,kt,Dt,Qt,ce;for(T=0,Dt=e.length;T<Dt;T++)e[T]._code=Dr(e[T],o);for(nt=0;nt<4;nt++){for(Qt=b[nt],_=[],T=0,Dt=e.length,q=Dt-1;T<Dt;q=T++)lt=e[T],kt=e[q],lt._code&Qt?kt._code&Qt||(ce=Ao(kt,lt,Qt,o,p),ce._code=Dr(ce,o),_.push(ce)):(kt._code&Qt&&(ce=Ao(kt,lt,Qt,o,p),ce._code=Dr(ce,o),_.push(ce)),_.push(lt));e=_}return e}function Pl(e,o){var p,_,b,T,q,nt,lt,kt,Dt;if(!e||e.length===0)throw new Error("latlngs not passed");gn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Qt=Vt([0,0]),ce=me(e),tn=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());tn<1700&&(Qt=Ws(e));var Ue=e.length,yn=[];for(p=0;p<Ue;p++){var on=Vt(e[p]);yn.push(o.project(Vt([on.lat-Qt.lat,on.lng-Qt.lng])))}for(nt=lt=kt=0,p=0,_=Ue-1;p<Ue;_=p++)b=yn[p],T=yn[_],q=b.y*T.x-T.y*b.x,lt+=(b.x+T.x)*q,kt+=(b.y+T.y)*q,nt+=q*3;nt===0?Dt=yn[0]:Dt=[lt/nt,kt/nt];var li=o.unproject(zt(Dt));return Vt([li.lat+Qt.lat,li.lng+Qt.lng])}function Ws(e){for(var o=0,p=0,_=0,b=0;b<e.length;b++){var T=Vt(e[b]);o+=T.lat,p+=T.lng,_++}return Vt([o/_,p/_])}var Lp={__proto__:null,clipPolygon:Cl,polygonCenter:Pl,centroid:Ws};function Sl(e,o){if(!o||!e.length)return e.slice();var p=o*o;return e=Pp(e,p),e=Cp(e,p),e}function El(e,o,p){return Math.sqrt(Fi(e,o,p,!0))}function Mp(e,o,p){return Fi(e,o,p)}function Cp(e,o){var p=e.length,_=typeof Uint8Array!=void 0+""?Uint8Array:Array,b=new _(p);b[0]=b[p-1]=1,Js(e,b,o,0,p-1);var T,q=[];for(T=0;T<p;T++)b[T]&&q.push(e[T]);return q}function Js(e,o,p,_,b){var T=0,q,nt,lt;for(nt=_+1;nt<=b-1;nt++)lt=Fi(e[nt],e[_],e[b],!0),lt>T&&(q=nt,T=lt);T>p&&(o[q]=1,Js(e,o,p,_,q),Js(e,o,p,q,b))}function Pp(e,o){for(var p=[e[0]],_=1,b=0,T=e.length;_<T;_++)Sp(e[_],e[b])>o&&(p.push(e[_]),b=_);return b<T-1&&p.push(e[T-1]),p}var Tl;function Ol(e,o,p,_,b){var T=_?Tl:Dr(e,p),q=Dr(o,p),nt,lt,kt;for(Tl=q;;){if(!(T|q))return[e,o];if(T&q)return!1;nt=T||q,lt=Ao(e,o,nt,p,b),kt=Dr(lt,p),nt===T?(e=lt,T=kt):(o=lt,q=kt)}}function Ao(e,o,p,_,b){var T=o.x-e.x,q=o.y-e.y,nt=_.min,lt=_.max,kt,Dt;return p&8?(kt=e.x+T*(lt.y-e.y)/q,Dt=lt.y):p&4?(kt=e.x+T*(nt.y-e.y)/q,Dt=nt.y):p&2?(kt=lt.x,Dt=e.y+q*(lt.x-e.x)/T):p&1&&(kt=nt.x,Dt=e.y+q*(nt.x-e.x)/T),new wt(kt,Dt,b)}function Dr(e,o){var p=0;return e.x<o.min.x?p|=1:e.x>o.max.x&&(p|=2),e.y<o.min.y?p|=4:e.y>o.max.y&&(p|=8),p}function Sp(e,o){var p=o.x-e.x,_=o.y-e.y;return p*p+_*_}function Fi(e,o,p,_){var b=o.x,T=o.y,q=p.x-b,nt=p.y-T,lt=q*q+nt*nt,kt;return lt>0&&(kt=((e.x-b)*q+(e.y-T)*nt)/lt,kt>1?(b=p.x,T=p.y):kt>0&&(b+=q*kt,T+=nt*kt)),q=e.x-b,nt=e.y-T,_?q*q+nt*nt:new wt(b,T)}function gn(e){return!j(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Al(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),gn(e)}function Rl(e,o){var p,_,b,T,q,nt,lt,kt;if(!e||e.length===0)throw new Error("latlngs not passed");gn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Dt=Vt([0,0]),Qt=me(e),ce=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());ce<1700&&(Dt=Ws(e));var tn=e.length,Ue=[];for(p=0;p<tn;p++){var yn=Vt(e[p]);Ue.push(o.project(Vt([yn.lat-Dt.lat,yn.lng-Dt.lng])))}for(p=0,_=0;p<tn-1;p++)_+=Ue[p].distanceTo(Ue[p+1])/2;if(_===0)kt=Ue[0];else for(p=0,T=0;p<tn-1;p++)if(q=Ue[p],nt=Ue[p+1],b=q.distanceTo(nt),T+=b,T>_){lt=(T-_)/b,kt=[nt.x-lt*(nt.x-q.x),nt.y-lt*(nt.y-q.y)];break}var on=o.unproject(zt(kt));return Vt([on.lat+Dt.lat,on.lng+Dt.lng])}var Ep={__proto__:null,simplify:Sl,pointToSegmentDistance:El,closestPointOnSegment:Mp,clipSegment:Ol,_getEdgeIntersection:Ao,_getBitCode:Dr,_sqClosestPointOnSegment:Fi,isFlat:gn,_flat:Al,polylineCenter:Rl},Ys={project:function(e){return new wt(e.lng,e.lat)},unproject:function(e){return new le(e.y,e.x)},bounds:new It([-180,-90],[180,90])},Xs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new It([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,p=this.R,_=e.lat*o,b=this.R_MINOR/p,T=Math.sqrt(1-b*b),q=T*Math.sin(_),nt=Math.tan(Math.PI/4-_/2)/Math.pow((1-q)/(1+q),T/2);return _=-p*Math.log(Math.max(nt,1e-10)),new wt(e.lng*o*p,_)},unproject:function(e){for(var o=180/Math.PI,p=this.R,_=this.R_MINOR/p,b=Math.sqrt(1-_*_),T=Math.exp(-e.y/p),q=Math.PI/2-2*Math.atan(T),nt=0,lt=.1,kt;nt<15&&Math.abs(lt)>1e-7;nt++)kt=b*Math.sin(q),kt=Math.pow((1-kt)/(1+kt),b/2),lt=Math.PI/2-2*Math.atan(T*kt)-q,q+=lt;return new le(q*o,e.x*o/p)}},Tp={__proto__:null,LonLat:Ys,Mercator:Xs,SphericalMercator:jt},Op=c({},St,{code:"EPSG:3395",projection:Xs,transformation:function(){var e=.5/(Math.PI*Xs.R);return H(e,.5,-e,.5)}()}),Bl=c({},St,{code:"EPSG:4326",projection:Ys,transformation:H(1/180,1,-1/180,.5)}),Ap=c({},ft,{projection:Ys,transformation:H(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,o){var p=o.lng-e.lng,_=o.lat-e.lat;return Math.sqrt(p*p+_*_)},infinite:!0});ft.Earth=St,ft.EPSG3395=Op,ft.EPSG3857=K,ft.EPSG900913=Q,ft.EPSG4326=Bl,ft.Simple=Ap;var Cn=$t.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o=e.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var p=this.getEvents();o.on(p,this),this.once("remove",function(){o.off(p,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=f(e);return this._layers[o]?this:(this._layers[o]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var o=f(e);return this._layers[o]?(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,o){for(var p in this._layers)e.call(o,this._layers[p]);return this},_addLayers:function(e){e=e?j(e)?e:[e]:[];for(var o=0,p=e.length;o<p;o++)this.addLayer(e[o])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var o=f(e);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,o=-1/0,p=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;e=b.minZoom===void 0?e:Math.min(e,b.minZoom),o=b.maxZoom===void 0?o:Math.max(o,b.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ri=Cn.extend({initialize:function(e,o){E(this,o),this._layers={};var p,_;if(e)for(p=0,_=e.length;p<_;p++)this.addLayer(e[p])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var o=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(e){var o=typeof e=="number"?e:this.getLayerId(e);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o=Array.prototype.slice.call(arguments,1),p,_;for(p in this._layers)_=this._layers[p],_[e]&&_[e].apply(_,o);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var p in this._layers)e.call(o,this._layers[p]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Rp=function(e,o){return new ri(e,o)},Wn=ri.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ri.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),ri.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Me;for(var o in this._layers){var p=this._layers[o];e.extend(p.getBounds?p.getBounds():p.getLatLng())}return e}}),Bp=function(e,o){return new Wn(e,o)},ii=Lt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){E(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var p=this._getIconUrl(e);if(!p){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(p,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(_,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(e,o){var p=this.options,_=p[o+"Size"];typeof _=="number"&&(_=[_,_]);var b=zt(_),T=zt(o==="shadow"&&p.shadowAnchor||p.iconAnchor||b&&b.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(p.className||""),T&&(e.style.marginLeft=-T.x+"px",e.style.marginTop=-T.y+"px"),b&&(e.style.width=b.x+"px",e.style.height=b.y+"px")},_createImg:function(e,o){return o=o||document.createElement("img"),o.src=e,o},_getIconUrl:function(e){return Ht.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Ip(e){return new ii(e)}var Hi=ii.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Hi.imagePath!="string"&&(Hi.imagePath=this._detectIconPath()),(this.options.imagePath||Hi.imagePath)+ii.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var o=function(p,_,b){var T=_.exec(p);return T&&T[b]};return e=o(e,/^url\((['"])?(.+)\1\)$/,2),e&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=pe("div","leaflet-default-icon-path",document.body),o=ar(e,"background-image")||ar(e,"backgroundImage");if(document.body.removeChild(e),o=this._stripUrl(o),o)return o;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Il=_n.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ur(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),oe(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Re(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,p=o._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,T=mn(o._icon),q=p.getPixelBounds(),nt=p.getPixelOrigin(),lt=Ut(q.min._subtract(nt).add(b),q.max._subtract(nt).subtract(b));if(!lt.contains(T)){var kt=zt((Math.max(lt.max.x,T.x)-lt.max.x)/(q.max.x-lt.max.x)-(Math.min(lt.min.x,T.x)-lt.min.x)/(q.min.x-lt.min.x),(Math.max(lt.max.y,T.y)-lt.max.y)/(q.max.y-lt.max.y)-(Math.min(lt.min.y,T.y)-lt.min.y)/(q.min.y-lt.min.y)).multiplyBy(_);p.panBy(kt,{animate:!1}),this._draggable._newPos._add(kt),this._draggable._startPos._add(kt),Ee(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=_t(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(at(this._panRequest),this._panRequest=_t(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,p=o._shadow,_=mn(o._icon),b=o._map.layerPointToLatLng(_);p&&Ee(p,_),o._latlng=b,e.latlng=b,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){at(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ro=Cn.extend({options:{icon:new Hi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){E(this,o),this._latlng=Vt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=Vt(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=e.icon.createIcon(this._icon),_=!1;p!==this._icon&&(this._icon&&this._removeIcon(),_=!0,e.title&&(p.title=e.title),p.tagName==="IMG"&&(p.alt=e.alt||"")),oe(p,o),e.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(p,"focus",this._panOnFocus,this);var b=e.icon.createShadow(this._shadow),T=!1;b!==this._shadow&&(this._removeShadow(),T=!0),b&&(oe(b,o),b.alt=""),this._shadow=b,e.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&T&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&l(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ee(this._icon,e),this._shadow&&Ee(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Il)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Il(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&rn(this._icon,e),this._shadow&&rn(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var o=this.options.icon.options,p=o.iconSize?zt(o.iconSize):zt(0,0),_=o.iconAnchor?zt(o.iconAnchor):zt(0,0);e.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:p.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Dp(e,o){return new Ro(e,o)}var cr=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return E(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bo=cr.extend({options:{fill:!0,radius:10},initialize:function(e,o){E(this,o),this._latlng=Vt(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=Vt(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return cr.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,o=this._radiusY||e,p=this._clickTolerance(),_=[e+p,o+p];this._pxBounds=new It(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function zp(e,o){return new Bo(e,o)}var Qs=Bo.extend({initialize:function(e,o,p){if(typeof o=="number"&&(o=c({},p,{radius:o})),E(this,o),this._latlng=Vt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Me(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:cr.prototype.setStyle,_project:function(){var e=this._latlng.lng,o=this._latlng.lat,p=this._map,_=p.options.crs;if(_.distance===St.distance){var b=Math.PI/180,T=this._mRadius/St.R/b,q=p.project([o+T,e]),nt=p.project([o-T,e]),lt=q.add(nt).divideBy(2),kt=p.unproject(lt).lat,Dt=Math.acos((Math.cos(T*b)-Math.sin(o*b)*Math.sin(kt*b))/(Math.cos(o*b)*Math.cos(kt*b)))/b;(isNaN(Dt)||Dt===0)&&(Dt=T/Math.cos(Math.PI/180*o)),this._point=lt.subtract(p.getPixelOrigin()),this._radius=isNaN(Dt)?0:lt.x-p.project([kt,e-Dt]).x,this._radiusY=lt.y-q.y}else{var Qt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(Qt).x}this._updateBounds()}});function jp(e,o,p){return new Qs(e,o,p)}var Jn=cr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){E(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,p=null,_=Fi,b,T,q=0,nt=this._parts.length;q<nt;q++)for(var lt=this._parts[q],kt=1,Dt=lt.length;kt<Dt;kt++){b=lt[kt-1],T=lt[kt];var Qt=_(e,b,T,!0);Qt<o&&(o=Qt,p=_(e,b,T))}return p&&(p.distance=Math.sqrt(o)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=Vt(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Me,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],p=gn(e),_=0,b=e.length;_<b;_++)p?(o[_]=Vt(e[_]),this._bounds.extend(o[_])):o[_]=this._convertLatLngs(e[_]);return o},_project:function(){var e=new It;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),o=new wt(e,e);this._rawPxBounds&&(this._pxBounds=new It([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(e,o,p){var _=e[0]instanceof le,b=e.length,T,q;if(_){for(q=[],T=0;T<b;T++)q[T]=this._map.latLngToLayerPoint(e[T]),p.extend(q[T]);o.push(q)}else for(T=0;T<b;T++)this._projectLatlngs(e[T],o,p)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,p,_,b,T,q,nt,lt;for(p=0,b=0,T=this._rings.length;p<T;p++)for(lt=this._rings[p],_=0,q=lt.length;_<q-1;_++)nt=Ol(lt[_],lt[_+1],e,_,!0),nt&&(o[b]=o[b]||[],o[b].push(nt[0]),(nt[1]!==lt[_+1]||_===q-2)&&(o[b].push(nt[1]),b++))}},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,p=0,_=e.length;p<_;p++)e[p]=Sl(e[p],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var p,_,b,T,q,nt,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(p=0,T=this._parts.length;p<T;p++)for(nt=this._parts[p],_=0,q=nt.length,b=q-1;_<q;b=_++)if(!(!o&&_===0)&&El(e,nt[b],nt[_])<=lt)return!0;return!1}});function Np(e,o){return new Jn(e,o)}Jn._flat=Al;var oi=Jn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var o=Jn.prototype._convertLatLngs.call(this,e),p=o.length;return p>=2&&o[0]instanceof le&&o[0].equals(o[p-1])&&o.pop(),o},_setLatLngs:function(e){Jn.prototype._setLatLngs.call(this,e),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,o=this.options.weight,p=new wt(o,o);if(e=new It(e.min.subtract(p),e.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,T;_<b;_++)T=Cl(this._rings[_],e,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o=!1,p,_,b,T,q,nt,lt,kt;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(T=0,lt=this._parts.length;T<lt;T++)for(p=this._parts[T],q=0,kt=p.length,nt=kt-1;q<kt;nt=q++)_=p[q],b=p[nt],_.y>e.y!=b.y>e.y&&e.x<(b.x-_.x)*(e.y-_.y)/(b.y-_.y)+_.x&&(o=!o);return o||Jn.prototype._containsPoint.call(this,e,!0)}});function Gp(e,o){return new oi(e,o)}var Yn=Wn.extend({initialize:function(e,o){E(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o=j(e)?e:e.features,p,_,b;if(o){for(p=0,_=o.length;p<_;p++)b=o[p],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var T=this.options;if(T.filter&&!T.filter(e))return this;var q=Io(e,T);return q?(q.feature=jo(e),q.defaultOptions=q.options,this.resetStyle(q),T.onEachFeature&&T.onEachFeature(e,q),this.addLayer(q)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=c({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function Io(e,o){var p=e.type==="Feature"?e.geometry:e,_=p?p.coordinates:null,b=[],T=o&&o.pointToLayer,q=o&&o.coordsToLatLng||ta,nt,lt,kt,Dt;if(!_&&!p)return null;switch(p.type){case"Point":return nt=q(_),Dl(T,e,nt,o);case"MultiPoint":for(kt=0,Dt=_.length;kt<Dt;kt++)nt=q(_[kt]),b.push(Dl(T,e,nt,o));return new Wn(b);case"LineString":case"MultiLineString":return lt=Do(_,p.type==="LineString"?0:1,q),new Jn(lt,o);case"Polygon":case"MultiPolygon":return lt=Do(_,p.type==="Polygon"?1:2,q),new oi(lt,o);case"GeometryCollection":for(kt=0,Dt=p.geometries.length;kt<Dt;kt++){var Qt=Io({geometry:p.geometries[kt],type:"Feature",properties:e.properties},o);Qt&&b.push(Qt)}return new Wn(b);case"FeatureCollection":for(kt=0,Dt=p.features.length;kt<Dt;kt++){var ce=Io(p.features[kt],o);ce&&b.push(ce)}return new Wn(b);default:throw new Error("Invalid GeoJSON object.")}}function Dl(e,o,p,_){return e?e(o,p):new Ro(p,_&&_.markersInheritOptions&&_)}function ta(e){return new le(e[1],e[0],e[2])}function Do(e,o,p){for(var _=[],b=0,T=e.length,q;b<T;b++)q=o?Do(e[b],o-1,p):(p||ta)(e[b]),_.push(q);return _}function ea(e,o){return e=Vt(e),e.alt!==void 0?[M(e.lng,o),M(e.lat,o),M(e.alt,o)]:[M(e.lng,o),M(e.lat,o)]}function zo(e,o,p,_){for(var b=[],T=0,q=e.length;T<q;T++)b.push(o?zo(e[T],gn(e[T])?0:o-1,p,_):ea(e[T],_));return!o&&p&&b.length>0&&b.push(b[0].slice()),b}function si(e,o){return e.feature?c({},e.feature,{geometry:o}):jo(o)}function jo(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var na={toGeoJSON:function(e){return si(this,{type:"Point",coordinates:ea(this.getLatLng(),e)})}};Ro.include(na),Qs.include(na),Bo.include(na),Jn.include({toGeoJSON:function(e){var o=!gn(this._latlngs),p=zo(this._latlngs,o?1:0,!1,e);return si(this,{type:(o?"Multi":"")+"LineString",coordinates:p})}}),oi.include({toGeoJSON:function(e){var o=!gn(this._latlngs),p=o&&!gn(this._latlngs[0]),_=zo(this._latlngs,p?2:o?1:0,!0,e);return o||(_=[_]),si(this,{type:(p?"Multi":"")+"Polygon",coordinates:_})}}),ri.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(p){o.push(p.toGeoJSON(e).geometry.coordinates)}),si(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var p=o==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var T=b.toGeoJSON(e);if(p)_.push(T.geometry);else{var q=jo(T);q.type==="FeatureCollection"?_.push.apply(_,q.features):_.push(q)}}}),p?si(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function zl(e,o){return new Yn(e,o)}var Vp=zl,No=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,p){this._url=e,this._bounds=me(o),E(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Zn(this._image),this},bringToBack:function(){return this._map&&qn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=me(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:pe("img");if(oe(o,"leaflet-image-layer"),this._zoomAnimated&&oe(o,"leaflet-zoom-animated"),this.options.className&&oe(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(e){var o=this._map.getZoomScale(e.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Dn(this._image,p,o)},_reset:function(){var e=this._image,o=new It(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=o.getSize();Ee(e,o.min),e.style.width=p.x+"px",e.style.height=p.y+"px"},_updateOpacity:function(){rn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Fp=function(e,o,p){return new No(e,o,p)},jl=No.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:pe("video");if(oe(o,"leaflet-image-layer"),this._zoomAnimated&&oe(o,"leaflet-zoom-animated"),this.options.className&&oe(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onloadeddata=u(this.fire,this,"load"),e){for(var p=o.getElementsByTagName("source"),_=[],b=0;b<p.length;b++)_.push(p[b].src);this._url=p.length>0?_:[o.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var q=pe("source");q.src=this._url[T],o.appendChild(q)}}});function Hp(e,o,p){return new jl(e,o,p)}var Nl=No.extend({_initImage:function(){var e=this._image=this._url;oe(e,"leaflet-image-layer"),this._zoomAnimated&&oe(e,"leaflet-zoom-animated"),this.options.className&&oe(e,this.options.className),e.onselectstart=v,e.onmousemove=v}});function $p(e,o,p){return new Nl(e,o,p)}var jn=Cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,o){e&&(e instanceof le||j(e))?(this._latlng=Vt(e),E(this,o)):(E(this,e),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&rn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&rn(this._container,1),this.bringToFront(),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(rn(this._container,0),this._removeTimeout=setTimeout(u(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Vt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zn(this._container),this},bringToBack:function(){return this._map&&qn(this._container),this},_prepareOpen:function(e){var o=this._source;if(!o._map)return!1;if(o instanceof Wn){o=null;var p=this._source._layers;for(var _ in p)if(p[_]._map){o=p[_];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else if(o.getBounds)e=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),o=zt(this.options.offset),p=this._getAnchor();this._zoomAnimated?Ee(this._container,e.add(p)):o=o.add(e).add(p);var _=this._containerBottom=-o.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(e,o,p,_){var b=o;return b instanceof e||(b=new e(_).setContent(o)),p&&b.setLatLng(p),b}}),Cn.include({_initOverlay:function(e,o,p,_){var b=p;return b instanceof e?(E(b,_),b._source=this):(b=o&&!_?o:new e(_,this),b.setContent(p)),b}});var Go=jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,jn.prototype.openOn.call(this,e)},onAdd:function(e){jn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof cr||this._source.on("preclick",V))},onRemove:function(e){jn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof cr||this._source.off("preclick",V))},getEvents:function(){var e=jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=pe("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=pe("div",e+"-content-wrapper",o);if(this._contentNode=pe("div",e+"-content",p),$(o),U(this._contentNode),re(o,"contextmenu",V),this._tipContainer=pe("div",e+"-tip-container",o),this._tip=pe("div",e+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=pe("a",e+"-close-button",o);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',re(_,"click",function(b){Z(b),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,o=e.style;o.width="",o.whiteSpace="nowrap";var p=e.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),o.width=p+1+"px",o.whiteSpace="",o.height="";var _=e.offsetHeight,b=this.options.maxHeight,T="leaflet-popup-scrolled";b&&_>b?(o.height=b+"px",oe(e,T)):Re(e,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),p=this._getAnchor();Ee(this._container,o.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,o=parseInt(ar(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+o,_=this._containerWidth,b=new wt(this._containerLeft,-p-this._containerBottom);b._add(mn(this._container));var T=e.layerPointToContainerPoint(b),q=zt(this.options.autoPanPadding),nt=zt(this.options.autoPanPaddingTopLeft||q),lt=zt(this.options.autoPanPaddingBottomRight||q),kt=e.getSize(),Dt=0,Qt=0;T.x+_+lt.x>kt.x&&(Dt=T.x+_-kt.x+lt.x),T.x-Dt-nt.x<0&&(Dt=T.x-nt.x),T.y+p+lt.y>kt.y&&(Qt=T.y+p-kt.y+lt.y),T.y-Qt-nt.y<0&&(Qt=T.y-nt.y),(Dt||Qt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([Dt,Qt]))}},_getAnchor:function(){return zt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Up=function(e,o){return new Go(e,o)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(e,o,p){return this._initOverlay(Go,e,o,p).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Cn.include({bindPopup:function(e,o){return this._popup=this._initOverlay(Go,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Wn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){tt(e);var o=e.layer||e.target;if(this._popup._source===o&&!(o instanceof cr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=o,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Vo=jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){jn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){jn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=jn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",o=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pe("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,p,_=this._map,b=this._container,T=_.latLngToContainerPoint(_.getCenter()),q=_.layerPointToContainerPoint(e),nt=this.options.direction,lt=b.offsetWidth,kt=b.offsetHeight,Dt=zt(this.options.offset),Qt=this._getAnchor();nt==="top"?(o=lt/2,p=kt):nt==="bottom"?(o=lt/2,p=0):nt==="center"?(o=lt/2,p=kt/2):nt==="right"?(o=0,p=kt/2):nt==="left"?(o=lt,p=kt/2):q.x<T.x?(nt="right",o=0,p=kt/2):(nt="left",o=lt+(Dt.x+Qt.x)*2,p=kt/2),e=e.subtract(zt(o,p,!0)).add(Dt).add(Qt),Re(b,"leaflet-tooltip-right"),Re(b,"leaflet-tooltip-left"),Re(b,"leaflet-tooltip-top"),Re(b,"leaflet-tooltip-bottom"),oe(b,"leaflet-tooltip-"+nt),Ee(b,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&rn(this._container,e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(o)},_getAnchor:function(){return zt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zp=function(e,o){return new Vo(e,o)};Zt.include({openTooltip:function(e,o,p){return this._initOverlay(Vo,e,o,p).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Cn.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vo,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var o=e?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[o](p),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Wn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&(re(o,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),re(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var o=e.latlng,p,_;this._tooltip.options.sticky&&e.originalEvent&&(p=this._map.mouseEventToContainerPoint(e.originalEvent),_=this._map.containerPointToLayerPoint(p),o=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(o)}});var Gl=ii.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var o=e&&e.tagName==="DIV"?e:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Er(o),o.appendChild(p.html)):o.innerHTML=p.html!==!1?p.html:"",p.bgPos){var _=zt(p.bgPos);o.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function qp(e){return new Gl(e)}ii.Default=Hi;var $i=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){E(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Ce(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof wt?e:new wt(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o=this.getPane().children,p=-e(-1/0,1/0),_=0,b=o.length,T;_<b;_++)T=o[_].style.zIndex,o[_]!==this._container&&T&&(p=e(p,+T));isFinite(p)&&(this.options.zIndex=p+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ht.ielt9){rn(this._container,this.options.opacity);var e=+new Date,o=!1,p=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var T=Math.min(1,(e-b.loaded)/200);rn(b.el,T),T<1?o=!0:(b.active?p=!0:this._onOpaqueTile(b),b.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),o&&(at(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===e?(this._levels[p].el.style.zIndex=o-Math.abs(e-p),this._onUpdateLevel(p)):(Ce(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var _=this._levels[e],b=this._map;return _||(_=this._levels[e]={},_.el=pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=o,_.origin=b.project(b.unproject(b.getPixelOrigin()),e).round(),_.zoom=e,this._setZoomTransform(_,b.getCenter(),b.getZoom()),v(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var e,o,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)o=this._tiles[e],o.retain=o.current;for(e in this._tiles)if(o=this._tiles[e],o.current&&!o.active){var _=o.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Ce(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,o,p,_){var b=Math.floor(e/2),T=Math.floor(o/2),q=p-1,nt=new wt(+b,+T);nt.z=+q;var lt=this._tileCoordsToKey(nt),kt=this._tiles[lt];return kt&&kt.active?(kt.retain=!0,!0):(kt&&kt.loaded&&(kt.retain=!0),q>_?this._retainParent(b,T,q,_):!1)},_retainChildren:function(e,o,p,_){for(var b=2*e;b<2*e+2;b++)for(var T=2*o;T<2*o+2;T++){var q=new wt(b,T);q.z=p+1;var nt=this._tileCoordsToKey(q),lt=this._tiles[nt];if(lt&&lt.active){lt.retain=!0;continue}else lt&&lt.loaded&&(lt.retain=!0);p+1<_&&this._retainChildren(b,T,p+1,_)}},_resetView:function(e){var o=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,p,_){var b=Math.round(o);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var T=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||T)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(e),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var p in this._levels)this._setZoomTransform(this._levels[p],e,o)},_setZoomTransform:function(e,o,p){var _=this._map.getZoomScale(p,e.zoom),b=e.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(o,p)).round();Ht.any3d?Dn(e.el,b,_):Ee(e.el,b)},_resetGrid:function(){var e=this._map,o=e.options.crs,p=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],_).x/p.x),Math.ceil(e.project([0,o.wrapLng[1]],_).x/p.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],_).y/p.x),Math.ceil(e.project([o.wrapLat[1],0],_).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var o=this._map,p=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),_=o.getZoomScale(p,this._tileZoom),b=o.project(e,this._tileZoom).floor(),T=o.getSize().divideBy(_*2);return new It(b.subtract(T),b.add(T))},_update:function(e){var o=this._map;if(o){var p=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(e),b=this._pxBoundsToTileRange(_),T=b.getCenter(),q=[],nt=this.options.keepBuffer,lt=new It(b.getBottomLeft().subtract([nt,-nt]),b.getTopRight().add([nt,-nt]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var kt in this._tiles){var Dt=this._tiles[kt].coords;(Dt.z!==this._tileZoom||!lt.contains(new wt(Dt.x,Dt.y)))&&(this._tiles[kt].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(e,p);return}for(var Qt=b.min.y;Qt<=b.max.y;Qt++)for(var ce=b.min.x;ce<=b.max.x;ce++){var tn=new wt(ce,Qt);if(tn.z=this._tileZoom,!!this._isValidTile(tn)){var Ue=this._tiles[this._tileCoordsToKey(tn)];Ue?Ue.current=!0:q.push(tn)}}if(q.sort(function(on,li){return on.distanceTo(T)-li.distanceTo(T)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var yn=document.createDocumentFragment();for(ce=0;ce<q.length;ce++)this._addTile(q[ce],yn);this._level.el.appendChild(yn)}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var p=this._globalTileRange;if(!o.wrapLng&&(e.x<p.min.x||e.x>p.max.x)||!o.wrapLat&&(e.y<p.min.y||e.y>p.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(e);return me(this.options.bounds).overlaps(_)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,p=this.getTileSize(),_=e.scaleBy(p),b=_.add(p),T=o.unproject(_,e.z),q=o.unproject(b,e.z);return[T,q]},_tileCoordsToBounds:function(e){var o=this._tileCoordsToNwSe(e),p=new Me(o[0],o[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var o=e.split(":"),p=new wt(+o[0],+o[1]);return p.z=+o[2],p},_removeTile:function(e){var o=this._tiles[e];o&&(Ce(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){oe(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=v,e.onmousemove=v,Ht.ielt9&&this.options.opacity<1&&rn(e,this.options.opacity)},_addTile:function(e,o){var p=this._getTilePos(e),_=this._tileCoordsToKey(e),b=this.createTile(this._wrapCoords(e),u(this._tileReady,this,e));this._initTile(b),this.createTile.length<2&&_t(u(this._tileReady,this,e,null,b)),Ee(b,p),this._tiles[_]={el:b,coords:e,current:!0},o.appendChild(b),this.fire("tileloadstart",{tile:b,coords:e})},_tileReady:function(e,o,p){o&&this.fire("tileerror",{error:o,tile:p,coords:e});var _=this._tileCoordsToKey(e);p=this._tiles[_],p&&(p.loaded=+new Date,this._map._fadeAnimated?(rn(p.el,0),at(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),o||(oe(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ht.ielt9||!this._map._fadeAnimated?_t(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new wt(this._wrapX?g(e.x,this._wrapX):e.x,this._wrapY?g(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new It(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Kp(e){return new $i(e)}var ai=$i.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,o=E(this,o),o.detectRetina&&Ht.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var p=document.createElement("img");return re(p,"load",u(this._tileOnLoad,this,o,p)),re(p,"error",u(this._tileOnError,this,o,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(e),p},getTileUrl:function(e){var o={r:Ht.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-e.y;this.options.tms&&(o.y=p),o["-y"]=p}return P(this._url,c(o,this.options))},_tileOnLoad:function(e,o){Ht.ielt9?setTimeout(u(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,p){var _=this.options.errorTileUrl;_&&o.getAttribute("src")!==_&&(o.src=_),e(p,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom,p=this.options.zoomReverse,_=this.options.zoomOffset;return p&&(e=o-e),e+_},_getSubdomain:function(e){var o=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var e,o;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(o=this._tiles[e].el,o.onload=v,o.onerror=v,!o.complete)){o.src=D;var p=this._tiles[e].coords;Ce(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:p})}},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",D),$i.prototype._removeTile.call(this,e)},_tileReady:function(e,o,p){if(!(!this._map||p&&p.getAttribute("src")===D))return $i.prototype._tileReady.call(this,e,o,p)}});function Vl(e,o){return new ai(e,o)}var Fl=ai.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,o){this._url=e;var p=c({},this.defaultWmsParams);for(var _ in o)_ in this.options||(p[_]=o[_]);o=E(this,o);var b=o.detectRetina&&Ht.retina?2:1,T=this.getTileSize();p.width=T.x*b,p.height=T.y*b,this.wmsParams=p},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,ai.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),p=this._crs,_=Ut(p.project(o[0]),p.project(o[1])),b=_.min,T=_.max,q=(this._wmsVersion>=1.3&&this._crs===Bl?[b.y,b.x,T.y,T.x]:[b.x,b.y,T.x,T.y]).join(","),nt=ai.prototype.getTileUrl.call(this,e);return nt+G(this.wmsParams,nt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(e,o){return c(this.wmsParams,e),o||this.redraw(),this}});function Wp(e,o){return new Fl(e,o)}ai.WMS=Fl,Vl.wms=Wp;var Xn=Cn.extend({options:{padding:.1},initialize:function(e){E(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var p=this._map.getZoomScale(o,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,o),T=_.multiplyBy(-p).add(b).subtract(this._map._getNewPixelOrigin(e,o));Ht.any3d?Dn(this._container,T,p):Ee(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),p=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new It(p,p.add(o.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hl=Xn.extend({options:{tolerance:0},getEvents:function(){var e=Xn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");re(e,"mousemove",this._onMouseMove,this),re(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){at(this._redrawRequest),delete this._ctx,Ce(this._container),l(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var o in this._layers)e=this._layers[o],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var e=this._bounds,o=this._container,p=e.getSize(),_=Ht.retina?2:1;Ee(o,e.min),o.width=_*p.x,o.height=_*p.y,o.style.width=p.x+"px",o.style.height=p.y+"px",Ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var o=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,p=o.next,_=o.prev;p?p.prev=_:this._drawLast=_,_?_.next=p:this._drawFirst=p,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var o=e.options.dashArray.split(/[, ]+/),p=[],_,b;for(b=0;b<o.length;b++){if(_=Number(o[b]),isNaN(_))return;p.push(_)}e.options._dashArray=p}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||_t(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var o=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new It,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var o=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,o=this._redrawBounds;if(this._ctx.save(),o){var p=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)e=_.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var p,_,b,T,q=e._parts,nt=q.length,lt=this._ctx;if(nt){for(lt.beginPath(),p=0;p<nt;p++){for(_=0,b=q[p].length;_<b;_++)T=q[p][_],lt[_?"lineTo":"moveTo"](T.x,T.y);o&&lt.closePath()}this._fillStroke(lt,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var o=e._point,p=this._ctx,_=Math.max(Math.round(e._radius),1),b=(Math.max(Math.round(e._radiusY),1)||_)/_;b!==1&&(p.save(),p.scale(1,b)),p.beginPath(),p.arc(o.x,o.y/b,_,0,Math.PI*2,!1),b!==1&&p.restore(),this._fillStroke(p,e)}},_fillStroke:function(e,o){var p=o.options;p.fill&&(e.globalAlpha=p.fillOpacity,e.fillStyle=p.fillColor||p.color,e.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=p.opacity,e.lineWidth=p.weight,e.strokeStyle=p.color,e.lineCap=p.lineCap,e.lineJoin=p.lineJoin,e.stroke())},_onClick:function(e){for(var o=this._map.mouseEventToLayerPoint(e),p,_,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(o)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(p))&&(_=p);this._fireEvent(_?[_]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,o)}},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(Re(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var p,_,b=this._drawFirst;b;b=b.next)p=b.layer,p.options.interactive&&p._containsPoint(o)&&(_=p);_!==this._hoveredLayer&&(this._handleMouseOut(e),_&&(oe(this._container,"leaflet-interactive"),this._fireEvent([_],e,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,p){this._map._fireDOMEvent(o,p||o.type,e)},_bringToFront:function(e){var o=e._order;if(o){var p=o.next,_=o.prev;if(p)p.prev=_;else return;_?_.next=p:p&&(this._drawFirst=p),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(e)}},_bringToBack:function(e){var o=e._order;if(o){var p=o.next,_=o.prev;if(_)_.next=p;else return;p?p.prev=_:_&&(this._drawLast=_),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(e)}}});function $l(e){return Ht.canvas?new Hl(e):null}var Ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Jp={_initContainer:function(){this._container=pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=Ui("shape");oe(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=Ui("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;Ce(o),e.removeInteractiveTarget(o),delete this._layers[f(e)]},_updateStyle:function(e){var o=e._stroke,p=e._fill,_=e.options,b=e._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(o||(o=e._stroke=Ui("stroke")),b.appendChild(o),o.weight=_.weight+"px",o.color=_.color,o.opacity=_.opacity,_.dashArray?o.dashStyle=j(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=_.lineCap.replace("butt","flat"),o.joinstyle=_.lineJoin):o&&(b.removeChild(o),e._stroke=null),_.fill?(p||(p=e._fill=Ui("fill")),b.appendChild(p),p.color=_.fillColor||_.color,p.opacity=_.fillOpacity):p&&(b.removeChild(p),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),p=Math.round(e._radius),_=Math.round(e._radiusY||p);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+p+","+_+" 0,"+65535*360)},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){Zn(e._container)},_bringToBack:function(e){qn(e._container)}},Fo=Ht.vml?Ui:dt,Zi=Xn.extend({_initContainer:function(){this._container=Fo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),l(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var e=this._bounds,o=e.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,p.setAttribute("width",o.x),p.setAttribute("height",o.y)),Ee(p,e.min),p.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(e){var o=e._path=Fo("path");e.options.className&&oe(o,e.options.className),e.options.interactive&&oe(o,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Ce(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var o=e._path,p=e.options;o&&(p.stroke?(o.setAttribute("stroke",p.color),o.setAttribute("stroke-opacity",p.opacity),o.setAttribute("stroke-width",p.weight),o.setAttribute("stroke-linecap",p.lineCap),o.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?o.setAttribute("stroke-dasharray",p.dashArray):o.removeAttribute("stroke-dasharray"),p.dashOffset?o.setAttribute("stroke-dashoffset",p.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),p.fill?(o.setAttribute("fill",p.fillColor||p.color),o.setAttribute("fill-opacity",p.fillOpacity),o.setAttribute("fill-rule",p.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,gt(e._parts,o))},_updateCircle:function(e){var o=e._point,p=Math.max(Math.round(e._radius),1),_=Math.max(Math.round(e._radiusY),1)||p,b="a"+p+","+_+" 0 1,0 ",T=e._empty()?"M0 0":"M"+(o.x-p)+","+o.y+b+p*2+",0 "+b+-p*2+",0 ";this._setPath(e,T)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){Zn(e._path)},_bringToBack:function(e){qn(e._path)}});Ht.vml&&Zi.include(Jp);function Ul(e){return Ht.svg||Ht.vml?new Zi(e):null}Zt.include({getRenderer:function(e){var o=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&$l(e)||Ul(e)}});var Zl=oi.extend({initialize:function(e,o){oi.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=me(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Yp(e,o){return new Zl(e,o)}Zi.create=Fo,Zi.pointsToPath=gt,Yn.geometryToLayer=Io,Yn.coordsToLatLng=ta,Yn.coordsToLatLngs=Do,Yn.latLngToCoords=ea,Yn.latLngsToCoords=zo,Yn.getFeature=si,Yn.asFeature=jo,Zt.mergeOptions({boxZoom:!0});var ql=_n.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){l(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Or(),Rr(),this._startPoint=this._map.mouseEventToContainerPoint(e),re(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pe("div","leaflet-zoom-box",this._container),oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=new It(this._point,this._startPoint),p=o.getSize();Ee(this._box,o.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Ce(this._box),Re(this._container,"leaflet-crosshair")),Ar(),ji(),l(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new Me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",ql),Zt.mergeOptions({doubleClickZoom:!0});var Kl=_n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,p=o.getZoom(),_=o.options.zoomDelta,b=e.originalEvent.shiftKey?p-_:p+_;o.options.doubleClickZoom==="center"?o.setZoom(b):o.setZoomAround(e.containerPoint,b)}});Zt.addInitHook("addHandler","doubleClickZoom",Kl),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wl=_n.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ur(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Re(this._map._container,"leaflet-grab"),Re(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=me(this._map.options.maxBounds);this._offsetLimit=Ut(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var o=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(o),this._prunePositions(o)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,o=Math.round(e/2),p=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-o+p)%e+o-p,T=(_+o+p)%e-o-p,q=Math.abs(b+p)<Math.abs(T+p)?b:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(e){var o=this._map,p=o.options,_=!p.inertia||e.noInertia||this._times.length<2;if(o.fire("dragend",e),_)o.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,q=p.easeLinearity,nt=b.multiplyBy(q/T),lt=nt.distanceTo([0,0]),kt=Math.min(p.inertiaMaxSpeed,lt),Dt=nt.multiplyBy(kt/lt),Qt=kt/(p.inertiaDeceleration*q),ce=Dt.multiplyBy(-Qt/2).round();!ce.x&&!ce.y?o.fire("moveend"):(ce=o._limitOffset(ce,o.options.maxBounds),_t(function(){o.panBy(ce,{duration:Qt,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",Wl),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jl=_n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),re(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),l(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,o=document.documentElement,p=e.scrollTop||o.scrollTop,_=e.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(_,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var o=this._panKeys={},p=this.keyCodes,_,b;for(_=0,b=p.left.length;_<b;_++)o[p.left[_]]=[-1*e,0];for(_=0,b=p.right.length;_<b;_++)o[p.right[_]]=[e,0];for(_=0,b=p.down.length;_<b;_++)o[p.down[_]]=[0,e];for(_=0,b=p.up.length;_<b;_++)o[p.up[_]]=[0,-1*e]},_setZoomDelta:function(e){var o=this._zoomKeys={},p=this.keyCodes,_,b;for(_=0,b=p.zoomIn.length;_<b;_++)o[p.zoomIn[_]]=e;for(_=0,b=p.zoomOut.length;_<b;_++)o[p.zoomOut[_]]=-e},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){l(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o=e.keyCode,p=this._map,_;if(o in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(_=this._panKeys[o],e.shiftKey&&(_=zt(_).multiplyBy(3)),p.options.maxBounds&&(_=p._limitOffset(zt(_),p.options.maxBounds)),p.options.worldCopyJump){var b=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(_)));p.panTo(b)}else p.panBy(_)}else if(o in this._zoomKeys)p.setZoom(p.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;tt(e)}}});Zt.addInitHook("addHandler","keyboard",Jl),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yl=_n.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){l(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=Bt(e),p=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var _=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),_),tt(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),p=this._map.options.zoomSnap||0;e._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,T=p?Math.ceil(b/p)*p:b,q=e._limitZoom(o+(this._delta>0?T:-T))-o;this._delta=0,this._startTime=null,q&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+q):e.setZoomAround(this._lastMousePos,o+q))}});Zt.addInitHook("addHandler","scrollWheelZoom",Yl);var Xp=600;Zt.mergeOptions({tapHold:Ht.touchNative&&Ht.safari&&Ht.mobile,tapTolerance:15});var Xl=_n.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){l(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var o=e.touches[0];this._startPos=this._newPos=new wt(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(re(document,"touchend",Z),re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Xp),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){l(document,"touchend",Z),l(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),l(document,"touchend touchcancel contextmenu",this._cancel,this),l(document,"touchmove",this._onMove,this)},_onMove:function(e){var o=e.touches[0];this._newPos=new wt(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){var p=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});p._simulated=!0,o.target.dispatchEvent(p)}});Zt.addInitHook("addHandler","tapHold",Xl),Zt.mergeOptions({touchZoom:Ht.touch,bounceAtZoomLimits:!0});var Ql=_n.extend({addHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),l(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o=this._map;if(!(!e.touches||e.touches.length!==2||o._animatingZoom||this._zooming)){var p=o.mouseEventToContainerPoint(e.touches[0]),_=o.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(p.add(_)._divideBy(2))),this._startDist=p.distanceTo(_),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),Z(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var o=this._map,p=o.mouseEventToContainerPoint(e.touches[0]),_=o.mouseEventToContainerPoint(e.touches[1]),b=p.distanceTo(_)/this._startDist;if(this._zoom=o.getScaleZoom(b,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&b<1||this._zoom>o.getMaxZoom()&&b>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var T=p._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&T.x===0&&T.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),at(this._animRequest);var q=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_t(q,this,!0),Z(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,at(this._animRequest),l(document,"touchmove",this._onTouchMove,this),l(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",Ql),Zt.BoxZoom=ql,Zt.DoubleClickZoom=Kl,Zt.Drag=Wl,Zt.Keyboard=Jl,Zt.ScrollWheelZoom=Yl,Zt.TapHold=Xl,Zt.TouchZoom=Ql,s.Bounds=It,s.Browser=Ht,s.CRS=ft,s.Canvas=Hl,s.Circle=Qs,s.CircleMarker=Bo,s.Class=Lt,s.Control=Pe,s.DivIcon=Gl,s.DivOverlay=jn,s.DomEvent=se,s.DomUtil=Zs,s.Draggable=ur,s.Evented=$t,s.FeatureGroup=Wn,s.GeoJSON=Yn,s.GridLayer=$i,s.Handler=_n,s.Icon=ii,s.ImageOverlay=No,s.LatLng=le,s.LatLngBounds=Me,s.Layer=Cn,s.LayerGroup=ri,s.LineUtil=Ep,s.Map=Zt,s.Marker=Ro,s.Mixin=kp,s.Path=cr,s.Point=wt,s.PolyUtil=Lp,s.Polygon=oi,s.Polyline=Jn,s.Popup=Go,s.PosAnimation=xe,s.Projection=Tp,s.Rectangle=Zl,s.Renderer=Xn,s.SVG=Zi,s.SVGOverlay=Nl,s.TileLayer=ai,s.Tooltip=Vo,s.Transformation=ue,s.Util=bt,s.VideoOverlay=jl,s.bind=u,s.bounds=Ut,s.canvas=$l,s.circle=jp,s.circleMarker=zp,s.control=$e,s.divIcon=qp,s.extend=c,s.featureGroup=Bp,s.geoJSON=zl,s.geoJson=Vp,s.gridLayer=Kp,s.icon=Ip,s.imageOverlay=Fp,s.latLng=Vt,s.latLngBounds=me,s.layerGroup=Rp,s.map=ke,s.marker=Dp,s.point=zt,s.polygon=Gp,s.polyline=Np,s.popup=Up,s.rectangle=Yp,s.setOptions=E,s.stamp=f,s.svg=Ul,s.svgOverlay=$p,s.tileLayer=Vl,s.tooltip=Zp,s.transformation=H,s.version=a,s.videoOverlay=Hp;var Qp=window.L;s.noConflict=function(){return window.L=Qp,this},window.L=s})})($a,$a.exports);var jw=$a.exports;const sn=zw(jw),Nw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Gw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Vw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",Fw={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},Hw={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},bp={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},$w={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},Uw=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:Fw,CollectionObject:Hw,Georeference:bp,TypeMaterial:$w},Symbol.toStringTag,{value:"Module"})),Zw={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},qw={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},Kw={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},Ww={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},yc=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:Zw,AssertedDistribution:qw,CollectionObject:Kw,TypeMaterial:Ww},Symbol.toStringTag,{value:"Module"})),vc=["TypeMaterial","CollectionObject","AssertedDistribution","Georeference","Aggregate"],bc={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function wc(t){const n=t.map(s=>s.type);return n.sort((s,a)=>vc.indexOf(s)-vc.indexOf(a)),n[0]}const Jw=t=>({onEachFeature:(n,s)=>{const a=(n.properties.base||[]).map(i=>i.label).filter(Boolean);if(!a.length)return;const c=`
      <div class="max-h-32 overflow-y-auto text-xs">
        <ul>
        ${a.map(i=>`
              <li 
                class="py-2 last:border-0 truncate border-b"
                title="${i}"
              >
                ${i}
              </li>
              `).join("")}
        </ul>
      </div>`;s.pm.setOptions(bc),s.pm.disable(),s.bindPopup(c)},pointToLayer:(n,s)=>{const a=wc(n.properties.base),c=Uw[a]||bp,i=t.marker(s,{icon:t.divIcon(c)});return i.pm.setOptions(bc),i},style:n=>{var a;const s=wc((a=n.properties)==null?void 0:a.base);if(yc[s])return yc[s]}}),{map_tile_server:Yw,map_tile_attribution:Xw,map_tiles:Qw}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}};function tx(t,n){return Object.fromEntries((Qw||[{label:"tile",server:Yw,attribution:Xw}]).map(({server:a,attribution:c,label:i})=>[i,t.tileLayer(a,{...n,attribution:c})]))}(()=>{var t={9705:(a,c,i)=>{var u=i(1540);function h(f){var m=[1/0,1/0,-1/0,-1/0];return u.coordEach(f,function(g){m[0]>g[0]&&(m[0]=g[0]),m[1]>g[1]&&(m[1]=g[1]),m[2]<g[0]&&(m[2]=g[0]),m[3]<g[1]&&(m[3]=g[1])}),m}h.default=h,c.Z=h},4102:(a,c)=>{function i(C,P,j){j===void 0&&(j={});var O={type:"Feature"};return(j.id===0||j.id)&&(O.id=j.id),j.bbox&&(O.bbox=j.bbox),O.properties=P||{},O.geometry=C,O}function u(C,P,j){if(j===void 0&&(j={}),!C)throw new Error("coordinates is required");if(!Array.isArray(C))throw new Error("coordinates must be an Array");if(C.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!G(C[0])||!G(C[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:C},P,j)}function h(C,P,j){j===void 0&&(j={});for(var O=0,D=C;O<D.length;O++){var W=D[O];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ot=0;ot<W[W.length-1].length;ot++)if(W[W.length-1][ot]!==W[0][ot])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:C},P,j)}function f(C,P,j){if(j===void 0&&(j={}),C.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:C},P,j)}function m(C,P){P===void 0&&(P={});var j={type:"FeatureCollection"};return P.id&&(j.id=P.id),P.bbox&&(j.bbox=P.bbox),j.features=C,j}function g(C,P,j){return j===void 0&&(j={}),i({type:"MultiLineString",coordinates:C},P,j)}function v(C,P,j){return j===void 0&&(j={}),i({type:"MultiPoint",coordinates:C},P,j)}function M(C,P,j){return j===void 0&&(j={}),i({type:"MultiPolygon",coordinates:C},P,j)}function A(C,P){P===void 0&&(P="kilometers");var j=c.factors[P];if(!j)throw new Error(P+" units is invalid");return C*j}function S(C,P){P===void 0&&(P="kilometers");var j=c.factors[P];if(!j)throw new Error(P+" units is invalid");return C/j}function E(C){return 180*(C%(2*Math.PI))/Math.PI}function G(C){return!isNaN(C)&&C!==null&&!Array.isArray(C)}Object.defineProperty(c,"__esModule",{value:!0}),c.earthRadius=63710088e-1,c.factors={centimeters:100*c.earthRadius,centimetres:100*c.earthRadius,degrees:c.earthRadius/111325,feet:3.28084*c.earthRadius,inches:39.37*c.earthRadius,kilometers:c.earthRadius/1e3,kilometres:c.earthRadius/1e3,meters:c.earthRadius,metres:c.earthRadius,miles:c.earthRadius/1609.344,millimeters:1e3*c.earthRadius,millimetres:1e3*c.earthRadius,nauticalmiles:c.earthRadius/1852,radians:1,yards:1.0936*c.earthRadius},c.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/c.earthRadius,yards:1.0936133},c.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},c.feature=i,c.geometry=function(C,P,j){switch(C){case"Point":return u(P).geometry;case"LineString":return f(P).geometry;case"Polygon":return h(P).geometry;case"MultiPoint":return v(P).geometry;case"MultiLineString":return g(P).geometry;case"MultiPolygon":return M(P).geometry;default:throw new Error(C+" is invalid")}},c.point=u,c.points=function(C,P,j){return j===void 0&&(j={}),m(C.map(function(O){return u(O,P)}),j)},c.polygon=h,c.polygons=function(C,P,j){return j===void 0&&(j={}),m(C.map(function(O){return h(O,P)}),j)},c.lineString=f,c.lineStrings=function(C,P,j){return j===void 0&&(j={}),m(C.map(function(O){return f(O,P)}),j)},c.featureCollection=m,c.multiLineString=g,c.multiPoint=v,c.multiPolygon=M,c.geometryCollection=function(C,P,j){return j===void 0&&(j={}),i({type:"GeometryCollection",geometries:C},P,j)},c.round=function(C,P){if(P===void 0&&(P=0),P&&!(P>=0))throw new Error("precision must be a positive number");var j=Math.pow(10,P||0);return Math.round(C*j)/j},c.radiansToLength=A,c.lengthToRadians=S,c.lengthToDegrees=function(C,P){return E(S(C,P))},c.bearingToAzimuth=function(C){var P=C%360;return P<0&&(P+=360),P},c.radiansToDegrees=E,c.degreesToRadians=function(C){return C%360*Math.PI/180},c.convertLength=function(C,P,j){if(P===void 0&&(P="kilometers"),j===void 0&&(j="kilometers"),!(C>=0))throw new Error("length must be a positive number");return A(S(C,P),j)},c.convertArea=function(C,P,j){if(P===void 0&&(P="meters"),j===void 0&&(j="kilometers"),!(C>=0))throw new Error("area must be a positive number");var O=c.areaFactors[P];if(!O)throw new Error("invalid original units");var D=c.areaFactors[j];if(!D)throw new Error("invalid final units");return C/O*D},c.isNumber=G,c.isObject=function(C){return!!C&&C.constructor===Object},c.validateBBox=function(C){if(!C)throw new Error("bbox is required");if(!Array.isArray(C))throw new Error("bbox must be an Array");if(C.length!==4&&C.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");C.forEach(function(P){if(!G(P))throw new Error("bbox must only contain numbers")})},c.validateId=function(C){if(!C)throw new Error("id is required");if(["string","number"].indexOf(typeof C)===-1)throw new Error("id must be a number or a string")}},1540:(a,c,i)=>{Object.defineProperty(c,"__esModule",{value:!0});var u=i(4102);function h(S,E,G){if(S!==null)for(var C,P,j,O,D,W,ot,J,it=0,ht=0,_t=S.type,at=_t==="FeatureCollection",bt=_t==="Feature",Lt=at?S.features.length:1,Tt=0;Tt<Lt;Tt++){D=(J=!!(ot=at?S.features[Tt].geometry:bt?S.geometry:S)&&ot.type==="GeometryCollection")?ot.geometries.length:1;for(var Ct=0;Ct<D;Ct++){var $t=0,wt=0;if((O=J?ot.geometries[Ct]:ot)!==null){W=O.coordinates;var fe=O.type;switch(it=!G||fe!=="Polygon"&&fe!=="MultiPolygon"?0:1,fe){case null:break;case"Point":if(E(W,ht,Tt,$t,wt)===!1)return!1;ht++,$t++;break;case"LineString":case"MultiPoint":for(C=0;C<W.length;C++){if(E(W[C],ht,Tt,$t,wt)===!1)return!1;ht++,fe==="MultiPoint"&&$t++}fe==="LineString"&&$t++;break;case"Polygon":case"MultiLineString":for(C=0;C<W.length;C++){for(P=0;P<W[C].length-it;P++){if(E(W[C][P],ht,Tt,$t,wt)===!1)return!1;ht++}fe==="MultiLineString"&&$t++,fe==="Polygon"&&wt++}fe==="Polygon"&&$t++;break;case"MultiPolygon":for(C=0;C<W.length;C++){for(wt=0,P=0;P<W[C].length;P++){for(j=0;j<W[C][P].length-it;j++){if(E(W[C][P][j],ht,Tt,$t,wt)===!1)return!1;ht++}wt++}$t++}break;case"GeometryCollection":for(C=0;C<O.geometries.length;C++)if(h(O.geometries[C],E,G)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function f(S,E){var G;switch(S.type){case"FeatureCollection":for(G=0;G<S.features.length&&E(S.features[G].properties,G)!==!1;G++);break;case"Feature":E(S.properties,0)}}function m(S,E){if(S.type==="Feature")E(S,0);else if(S.type==="FeatureCollection")for(var G=0;G<S.features.length&&E(S.features[G],G)!==!1;G++);}function g(S,E){var G,C,P,j,O,D,W,ot,J,it,ht=0,_t=S.type==="FeatureCollection",at=S.type==="Feature",bt=_t?S.features.length:1;for(G=0;G<bt;G++){for(D=_t?S.features[G].geometry:at?S.geometry:S,ot=_t?S.features[G].properties:at?S.properties:{},J=_t?S.features[G].bbox:at?S.bbox:void 0,it=_t?S.features[G].id:at?S.id:void 0,O=(W=!!D&&D.type==="GeometryCollection")?D.geometries.length:1,P=0;P<O;P++)if((j=W?D.geometries[P]:D)!==null)switch(j.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(E(j,ht,ot,J,it)===!1)return!1;break;case"GeometryCollection":for(C=0;C<j.geometries.length;C++)if(E(j.geometries[C],ht,ot,J,it)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(E(null,ht,ot,J,it)===!1)return!1;ht++}}function v(S,E){g(S,function(G,C,P,j,O){var D,W=G===null?null:G.type;switch(W){case null:case"Point":case"LineString":case"Polygon":return E(u.feature(G,P,{bbox:j,id:O}),C,0)!==!1&&void 0}switch(W){case"MultiPoint":D="Point";break;case"MultiLineString":D="LineString";break;case"MultiPolygon":D="Polygon"}for(var ot=0;ot<G.coordinates.length;ot++){var J={type:D,coordinates:G.coordinates[ot]};if(E(u.feature(J,P),C,ot)===!1)return!1}})}function M(S,E){v(S,function(G,C,P){var j=0;if(G.geometry){var O=G.geometry.type;if(O!=="Point"&&O!=="MultiPoint"){var D,W=0,ot=0,J=0;return h(G,function(it,ht,_t,at,bt){if(D===void 0||C>W||at>ot||bt>J)return D=it,W=C,ot=at,J=bt,void(j=0);var Lt=u.lineString([D,it],G.properties);if(E(Lt,C,P,bt,j)===!1)return!1;j++,D=it})!==!1&&void 0}}})}function A(S,E){if(!S)throw new Error("geojson is required");v(S,function(G,C,P){if(G.geometry!==null){var j=G.geometry.type,O=G.geometry.coordinates;switch(j){case"LineString":if(E(G,C,P,0,0)===!1)return!1;break;case"Polygon":for(var D=0;D<O.length;D++)if(E(u.lineString(O[D],G.properties),C,P,D)===!1)return!1}}})}c.coordAll=function(S){var E=[];return h(S,function(G){E.push(G)}),E},c.coordEach=h,c.coordReduce=function(S,E,G,C){var P=G;return h(S,function(j,O,D,W,ot){P=O===0&&G===void 0?j:E(P,j,O,D,W,ot)},C),P},c.featureEach=m,c.featureReduce=function(S,E,G){var C=G;return m(S,function(P,j){C=j===0&&G===void 0?P:E(C,P,j)}),C},c.findPoint=function(S,E){if(E=E||{},!u.isObject(E))throw new Error("options is invalid");var G,C=E.featureIndex||0,P=E.multiFeatureIndex||0,j=E.geometryIndex||0,O=E.coordIndex||0,D=E.properties;switch(S.type){case"FeatureCollection":C<0&&(C=S.features.length+C),D=D||S.features[C].properties,G=S.features[C].geometry;break;case"Feature":D=D||S.properties,G=S.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=S;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var W=G.coordinates;switch(G.type){case"Point":return u.point(W,D,E);case"MultiPoint":return P<0&&(P=W.length+P),u.point(W[P],D,E);case"LineString":return O<0&&(O=W.length+O),u.point(W[O],D,E);case"Polygon":return j<0&&(j=W.length+j),O<0&&(O=W[j].length+O),u.point(W[j][O],D,E);case"MultiLineString":return P<0&&(P=W.length+P),O<0&&(O=W[P].length+O),u.point(W[P][O],D,E);case"MultiPolygon":return P<0&&(P=W.length+P),j<0&&(j=W[P].length+j),O<0&&(O=W[P][j].length-O),u.point(W[P][j][O],D,E)}throw new Error("geojson is invalid")},c.findSegment=function(S,E){if(E=E||{},!u.isObject(E))throw new Error("options is invalid");var G,C=E.featureIndex||0,P=E.multiFeatureIndex||0,j=E.geometryIndex||0,O=E.segmentIndex||0,D=E.properties;switch(S.type){case"FeatureCollection":C<0&&(C=S.features.length+C),D=D||S.features[C].properties,G=S.features[C].geometry;break;case"Feature":D=D||S.properties,G=S.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":G=S;break;default:throw new Error("geojson is invalid")}if(G===null)return null;var W=G.coordinates;switch(G.type){case"Point":case"MultiPoint":return null;case"LineString":return O<0&&(O=W.length+O-1),u.lineString([W[O],W[O+1]],D,E);case"Polygon":return j<0&&(j=W.length+j),O<0&&(O=W[j].length+O-1),u.lineString([W[j][O],W[j][O+1]],D,E);case"MultiLineString":return P<0&&(P=W.length+P),O<0&&(O=W[P].length+O-1),u.lineString([W[P][O],W[P][O+1]],D,E);case"MultiPolygon":return P<0&&(P=W.length+P),j<0&&(j=W[P].length+j),O<0&&(O=W[P][j].length-O-1),u.lineString([W[P][j][O],W[P][j][O+1]],D,E)}throw new Error("geojson is invalid")},c.flattenEach=v,c.flattenReduce=function(S,E,G){var C=G;return v(S,function(P,j,O){C=j===0&&O===0&&G===void 0?P:E(C,P,j,O)}),C},c.geomEach=g,c.geomReduce=function(S,E,G){var C=G;return g(S,function(P,j,O,D,W){C=j===0&&G===void 0?P:E(C,P,j,O,D,W)}),C},c.lineEach=A,c.lineReduce=function(S,E,G){var C=G;return A(S,function(P,j,O,D){C=j===0&&G===void 0?P:E(C,P,j,O,D)}),C},c.propEach=f,c.propReduce=function(S,E,G){var C=G;return f(S,function(P,j){C=j===0&&G===void 0?P:E(C,P,j)}),C},c.segmentEach=M,c.segmentReduce=function(S,E,G){var C=G,P=!1;return M(S,function(j,O,D,W,ot){C=P===!1&&G===void 0?j:E(C,j,O,D,W,ot),P=!0}),C}},5975:(a,c,i)=>{i(7107);var u=i(2492),h=i.n(u);const f=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),m=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex löschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer löschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknüpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Länge","segmentLength":"Segment Länge","area":"Fläche","radius":"Radius","perimeter":"Umfang","height":"Höhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),g=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),v=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),M=JSON.parse('{"tooltips":{"placeMarker":"Adaugă un punct","firstVertex":"Apasă aici pentru a adăuga primul Vertex","continueLine":"Apasă aici pentru a continua desenul","finishLine":"Apasă pe orice obiect pentru a finisa desenul","finishPoly":"Apasă pe primul obiect pentru a finisa","finishRect":"Apasă pentru a finisa","startCircle":"Apasă pentru a desena un cerc","finishCircle":"Apasă pentru a finisa un cerc","placeCircleMarker":"Adaugă un punct"},"actions":{"finish":"Termină","cancel":"Anulează","removeLastVertex":"Șterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaugă o bulină","drawPolyButton":"Desenează un poligon","drawLineButton":"Desenează o linie","drawCircleButton":"Desenează un cerc","drawRectButton":"Desenează un dreptunghi","editButton":"Editează straturile","dragButton":"Mută straturile","cutButton":"Taie straturile","deleteButton":"Șterge straturile","drawCircleMarkerButton":"Desenează marcatorul cercului","snappingButton":"Fixați marcatorul glisat pe alte straturi și vârfuri","pinningButton":"Fixați vârfurile partajate împreună"}}'),A=JSON.parse('{"tooltips":{"placeMarker":"Нажмите, чтобы нанести маркер","firstVertex":"Нажмите, чтобы нанести первый объект","continueLine":"Нажмите, чтобы продолжить рисование","finishLine":"Нажмите любой существующий маркер для завершения","finishPoly":"Выберите первую точку, чтобы закончить","finishRect":"Нажмите, чтобы закончить","startCircle":"Нажмите, чтобы добавить центр круга","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Нажмите, чтобы нанести круговой маркер"},"actions":{"finish":"Завершить","cancel":"Отменить","removeLastVertex":"Отменить последнее действие"},"buttonTitles":{"drawMarkerButton":"Добавить маркер","drawPolyButton":"Рисовать полигон","drawLineButton":"Рисовать кривую","drawCircleButton":"Рисовать круг","drawRectButton":"Рисовать прямоугольник","editButton":"Редактировать слой","dragButton":"Перенести слой","cutButton":"Вырезать слой","deleteButton":"Удалить слой","drawCircleMarkerButton":"Добавить круговой маркер","snappingButton":"Привязать перетаскиваемый маркер к другим слоям и вершинам","pinningButton":"Связать общие точки вместе"}}'),S=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vértice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del círculo","finishCircle":"Presiona para finalizar el círculo","placeCircleMarker":"Presiona para colocar un marcador de círculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar último vértice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polígono","drawLineButton":"Dibujar Línea","drawCircleButton":"Dibujar Círculo","drawRectButton":"Dibujar Rectángulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Círculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vértices","pinningButton":"Fijar juntos los vértices compartidos"}}'),E=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beëindigen","finishPoly":"Klik op het eerst punt om te beëindigen","finishRect":"Klik om te beëindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beëindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),G=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer à dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Éditer des calques","dragButton":"Déplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"Épingler ensemble les sommets partagés","rotateButton":"Tourner des calques"}}`),C=JSON.parse('{"tooltips":{"placeMarker":"单击放置标记","firstVertex":"单击放置首个顶点","continueLine":"单击继续绘制","finishLine":"单击任何存在的标记以完成","finishPoly":"单击第一个标记以完成","finishRect":"单击完成","startCircle":"单击放置圆心","finishCircle":"单击完成圆形","placeCircleMarker":"点击放置圆形标记"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最后的顶点"},"buttonTitles":{"drawMarkerButton":"绘制标记","drawPolyButton":"绘制多边形","drawLineButton":"绘制线段","drawCircleButton":"绘制圆形","drawRectButton":"绘制长方形","editButton":"编辑图层","dragButton":"拖拽图层","cutButton":"剪切图层","deleteButton":"删除图层","drawCircleMarkerButton":"画圆圈标记","snappingButton":"将拖动的标记捕捉到其他图层和顶点","pinningButton":"将共享顶点固定在一起"}}'),P=JSON.parse('{"tooltips":{"placeMarker":"單擊放置標記","firstVertex":"單擊放置第一個頂點","continueLine":"單擊繼續繪製","finishLine":"單擊任何存在的標記以完成","finishPoly":"單擊第一個標記以完成","finishRect":"單擊完成","startCircle":"單擊放置圓心","finishCircle":"單擊完成圓形","placeCircleMarker":"點擊放置圓形標記"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最後一個頂點"},"buttonTitles":{"drawMarkerButton":"放置標記","drawPolyButton":"繪製多邊形","drawLineButton":"繪製線段","drawCircleButton":"繪製圓形","drawRectButton":"繪製方形","editButton":"編輯圖形","dragButton":"移動圖形","cutButton":"裁切圖形","deleteButton":"刪除圖形","drawCircleMarkerButton":"畫圓圈標記","snappingButton":"將拖動的標記對齊到其他圖層和頂點","pinningButton":"將共享頂點固定在一起"}}'),j={en:f,de:m,it:g,id:v,ro:M,ru:A,es:S,nl:E,fr:G,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vértice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polígono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do círculo","finishCircle":"Clique para fechar o círculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover último vértice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polígono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um círculo","drawRectButton":"Desenhar um retângulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de círculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vértices","pinningButton":"Vértices compartilhados de pinos juntos"}}'),zh:C,zh_tw:P,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawić znacznik","firstVertex":"Kliknij, aby ustawić pierwszy punkt","continueLine":"Kliknij, aby kontynuować rysowanie","finishLine":"Kliknij dowolny punkt, aby zakończyć","finishPoly":"Kliknij pierwszy punkt, aby zakończyć","finishRect":"Kliknij, aby zakończyć","startCircle":"Kliknij, aby ustawić środek koła","finishCircle":"Kliknij, aby zakończyć rysowanie koła","placeCircleMarker":"Kliknij, aby ustawić okrągły znacznik"},"actions":{"finish":"Zakończ","cancel":"Anuluj","removeLastVertex":"Usuń ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokąt","drawLineButton":"Narysuj ścieżkę","drawCircleButton":"Narysuj koło","drawRectButton":"Narysuj prostokąt","editButton":"Edytuj","dragButton":"Przesuń","cutButton":"Wytnij","deleteButton":"Usuń","drawCircleMarkerButton":"Narysuj okrągły znacznik","snappingButton":"Snap przeciągnięty marker na inne warstwy i wierzchołki","pinningButton":"Sworzeń wspólne wierzchołki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka för att placera markör","firstVertex":"Klicka för att placera första hörnet","continueLine":"Klicka för att fortsätta rita","finishLine":"Klicka på en existerande punkt för att slutföra","finishPoly":"Klicka på den första punkten för att slutföra","finishRect":"Klicka för att slutföra","startCircle":"Klicka för att placera cirkelns centrum","finishCircle":"Klicka för att slutföra cirkeln","placeCircleMarker":"Klicka för att placera cirkelmarkör"},"actions":{"finish":"Slutför","cancel":"Avbryt","removeLastVertex":"Ta bort sista hörnet"},"buttonTitles":{"drawMarkerButton":"Rita Markör","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkör","snappingButton":"Snäpp dra markören till andra lager och hörn","pinningButton":"Fäst delade hörn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"Κάντε κλικ για να τοποθετήσετε Δείκτη","firstVertex":"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο","continueLine":"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε","finishLine":"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί","finishPoly":"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε","finishRect":"Κάντε κλικ για να τελειώσετε","startCircle":"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου","finishCircle":"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο","placeCircleMarker":"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},"actions":{"finish":"Τέλος","cancel":"Ακύρωση","removeLastVertex":"Κατάργηση τελευταίου σημείου"},"buttonTitles":{"drawMarkerButton":"Σχεδίαση Δείκτη","drawPolyButton":"Σχεδίαση Πολυγώνου","drawLineButton":"Σχεδίαση Γραμμής","drawCircleButton":"Σχεδίαση Κύκλου","drawRectButton":"Σχεδίαση Ορθογωνίου","editButton":"Επεξεργασία Επιπέδων","dragButton":"Μεταφορά Επιπέδων","cutButton":"Αποκοπή Επιπέδων","deleteButton":"Κατάργηση Επιπέδων","drawCircleMarkerButton":"Σχεδίαση Κυκλικού Δείκτη","snappingButton":"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές","pinningButton":"Περικοπή κοινών κορυφών μαζί"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jelölő elhelyezéséhez","firstVertex":"Kattintson az első pont elhelyezéséhez","continueLine":"Kattintson a következő pont elhelyezéséhez","finishLine":"A befejezéshez kattintson egy meglévő pontra","finishPoly":"A befejezéshez kattintson az első pontra","finishRect":"Kattintson a befejezéshez","startCircle":"Kattintson a kör középpontjának elhelyezéséhez","finishCircle":"Kattintson a kör befejezéséhez","placeCircleMarker":"Kattintson a körjelölő elhelyezéséhez"},"actions":{"finish":"Befejezés","cancel":"Mégse","removeLastVertex":"Utolsó pont eltávolítása"},"buttonTitles":{"drawMarkerButton":"Jelölő rajzolása","drawPolyButton":"Poligon rajzolása","drawLineButton":"Vonal rajzolása","drawCircleButton":"Kör rajzolása","drawRectButton":"Négyzet rajzolása","editButton":"Elemek szerkesztése","dragButton":"Elemek mozgatása","cutButton":"Elemek vágása","deleteButton":"Elemek törlése","drawCircleMarkerButton":"Kör jelölő rajzolása","snappingButton":"Kapcsolja a jelöltőt másik elemhez vagy ponthoz","pinningButton":"Közös pontok összekötése"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markør","firstVertex":"Tryk for at placere det første punkt","continueLine":"Tryk for at fortsætte linjen","finishLine":"Tryk på et eksisterende punkt for at afslutte","finishPoly":"Tryk på det første punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkør"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markør","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Træk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkør","snappingButton":"Fastgør trukket markør til andre elementer","pinningButton":"Sammenlæg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for å plassere punkt","firstVertex":"Klikk for å plassere første punkt","continueLine":"Klikk for å tegne videre","finishLine":"Klikk på et eksisterende punkt for å fullføre","finishPoly":"Klikk første punkt for å fullføre","finishRect":"Klikk for å fullføre","startCircle":"Klikk for å sette sirkel midtpunkt","finishCircle":"Klikk for å fullføre sirkel","placeCircleMarker":"Klikk for å plassere sirkel"},"actions":{"finish":"Fullfør","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"کلیک برای جانمایی نشان","firstVertex":"کلیک برای رسم اولین رأس","continueLine":"کلیک برای ادامه رسم","finishLine":"کلیک روی هر نشان موجود برای پایان","finishPoly":"کلیک روی اولین نشان برای پایان","finishRect":"کلیک برای پایان","startCircle":"کلیک برای رسم مرکز دایره","finishCircle":"کلیک برای پایان رسم دایره","placeCircleMarker":"کلیک برای رسم نشان دایره","placeText":"کلیک برای نوشتن متن"},"actions":{"finish":"پایان","cancel":"لفو","removeLastVertex":"حذف آخرین رأس"},"buttonTitles":{"drawMarkerButton":"درج نشان","drawPolyButton":"رسم چندضلعی","drawLineButton":"رسم خط","drawCircleButton":"رسم دایره","drawRectButton":"رسم چهارضلعی","editButton":"ویرایش لایه‌ها","dragButton":"جابجایی لایه‌ها","cutButton":"برش لایه‌ها","deleteButton":"حذف لایه‌ها","drawCircleMarkerButton":"رسم نشان دایره","snappingButton":"نشانگر را به لایه‌ها و رئوس دیگر بکشید","pinningButton":"رئوس مشترک را با هم پین کنید","rotateButton":"چرخش لایه","drawTextButton":"رسم متن"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"Натисніть, щоб нанести маркер","firstVertex":"Натисніть, щоб нанести першу вершину","continueLine":"Натисніть, щоб продовжити малювати","finishLine":"Натисніть будь-який існуючий маркер для завершення","finishPoly":"Виберіть перший маркер, щоб завершити","finishRect":"Натисніть, щоб завершити","startCircle":"Натисніть, щоб додати центр кола","finishCircle":"Натисніть, щоб завершити коло","placeCircleMarker":"Натисніть, щоб нанести круговий маркер"},"actions":{"finish":"Завершити","cancel":"Відмінити","removeLastVertex":"Видалити попередню вершину"},"buttonTitles":{"drawMarkerButton":"Малювати маркер","drawPolyButton":"Малювати полігон","drawLineButton":"Малювати криву","drawCircleButton":"Малювати коло","drawRectButton":"Малювати прямокутник","editButton":"Редагувати шари","dragButton":"Перенести шари","cutButton":"Вирізати шари","deleteButton":"Видалити шари","drawCircleMarkerButton":"Малювати круговий маркер","snappingButton":"Прив’язати перетягнутий маркер до інших шарів та вершин","pinningButton":"Зв'язати спільні вершини разом"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"İşaretçi yerleştirmek için tıklayın","firstVertex":"İlk tepe noktasını yerleştirmek için tıklayın","continueLine":"Çizime devam etmek için tıklayın","finishLine":"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın","finishPoly":"Bitirmek için ilk işaretçiyi tıklayın","finishRect":"Bitirmek için tıklayın","startCircle":"Daire merkezine yerleştirmek için tıklayın","finishCircle":"Daireyi bitirmek için tıklayın","placeCircleMarker":"Daire işaretçisi yerleştirmek için tıklayın"},"actions":{"finish":"Bitir","cancel":"İptal","removeLastVertex":"Son köşeyi kaldır"},"buttonTitles":{"drawMarkerButton":"Çizim İşaretçisi","drawPolyButton":"Çokgenler çiz","drawLineButton":"Çoklu çizgi çiz","drawCircleButton":"Çember çiz","drawRectButton":"Dikdörtgen çiz","editButton":"Katmanları düzenle","dragButton":"Katmanları sürükle","cutButton":"Katmanları kes","deleteButton":"Katmanları kaldır","drawCircleMarkerButton":"Daire işaretçisi çiz","snappingButton":"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır","pinningButton":"Paylaşılan köşeleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutím vytvoříte značku","firstVertex":"Kliknutím vytvoříte první objekt","continueLine":"Kliknutím pokračujte v kreslení","finishLine":"Kliknutí na libovolnou existující značku pro dokončení","finishPoly":"Vyberte první bod pro dokončení","finishRect":"Klikněte pro dokončení","startCircle":"Kliknutím přidejte střed kruhu","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Kliknutím nastavte poloměr"},"actions":{"finish":"Dokončit","cancel":"Zrušit","removeLastVertex":"Zrušit poslední akci"},"buttonTitles":{"drawMarkerButton":"Přidat značku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit křivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdélník","editButton":"Upravit vrstvu","dragButton":"Přeneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Přidat kruhovou značku","snappingButton":"Navázat tažnou značku k dalším vrstvám a vrcholům","pinningButton":"Spojit společné body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"クリックしてマーカーを配置","firstVertex":"クリックして最初の頂点を配置","continueLine":"クリックして描画を続ける","finishLine":"任意のマーカーをクリックして終了","finishPoly":"最初のマーカーをクリックして終了","finishRect":"クリックして終了","startCircle":"クリックして円の中心を配置","finishCircle":"クリックして円の描画を終了","placeCircleMarker":"クリックして円マーカーを配置","placeText":"クリックしてテキストを配置"},"actions":{"finish":"終了","cancel":"キャンセル","removeLastVertex":"最後の頂点を削除"},"buttonTitles":{"drawMarkerButton":"マーカーを描画","drawPolyButton":"ポリゴンを描画","drawLineButton":"折れ線を描画","drawCircleButton":"円を描画","drawRectButton":"矩形を描画","editButton":"レイヤーを編集","dragButton":"レイヤーをドラッグ","cutButton":"レイヤーを切り取り","deleteButton":"レイヤーを削除","drawCircleMarkerButton":"円マーカーを描画","snappingButton":"ドラッグしたマーカーを他のレイヤーや頂点にスナップする","pinningButton":"共有する頂点を同時に動かす","rotateButton":"レイヤーを回転","drawTextButton":"テキストを描画"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmäisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtämistä","finishLine":"Klikkaa olemassa olevaa merkkiä lopettaaksesi","finishPoly":"Klikkaa ensimmäistä merkkiä lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrän keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrän","placeCircleMarker":"Klikkaa asettaaksesi ympyrämerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirrä merkkejä","drawPolyButton":"Piirrä monikulmioita","drawLineButton":"Piirrä viivoja","drawCircleButton":"Piirrä ympyrä","drawRectButton":"Piirrä neliskulmioita","editButton":"Muokkaa","dragButton":"Siirrä","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirrä ympyrämerkki","snappingButton":"Kiinnitä siirrettävä merkki toisiin muotoihin","pinningButton":"Kiinnitä jaetut muodot yhteen","rotateButton":"Käännä","drawTextButton":"Piirrä tekstiä"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"마커 위치를 클릭하세요","firstVertex":"첫번째 꼭지점 위치을 클릭하세요","continueLine":"계속 그리려면 클릭하세요","finishLine":"끝내려면 기존 마커를 클릭하세요","finishPoly":"끝내려면 처음 마커를 클릭하세요","finishRect":"끝내려면 클릭하세요","startCircle":"원의 중심이 될 위치를 클릭하세요","finishCircle":"원을 끝내려면 클릭하세요","placeCircleMarker":"원 마커 위치를 클릭하세요","placeText":"텍스트 위치를 클릭하세요"},"actions":{"finish":"끝내기","cancel":"취소","removeLastVertex":"마지막 꼭지점 제거"},"buttonTitles":{"drawMarkerButton":"마커 그리기","drawPolyButton":"다각형 그리기","drawLineButton":"다각선 그리기","drawCircleButton":"원 그리기","drawRectButton":"직사각형 그리기","editButton":"레이어 편집하기","dragButton":"레이어 끌기","cutButton":"레이어 자르기","deleteButton":"레이어 제거하기","drawCircleMarkerButton":"원 마커 그리기","snappingButton":"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기","pinningButton":"공유 꼭지점을 함께 찍기","rotateButton":"레이어 회전하기","drawTextButton":"텍스트 그리기"}}')};function O(r,l){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),d.push.apply(d,y)}return d}function D(r){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?O(Object(d),!0).forEach(function(y){W(r,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):O(Object(d)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(d,y))})}return r}function W(r,l,d){return l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}const ot={_globalEditModeEnabled:!1,enableGlobalEditMode:function(r){var l=D({},r);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(d){d.pm.enable(l)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(r)},handleLayerAdditionInGlobalEditMode:function(){var r=this._addedLayers;for(var l in this._addedLayers={},r){var d=r[l];this._isRelevantForEdit(d)&&this.globalEditModeEnabled()&&d.pm.enable(D({},this.globalOptions))}},_layerAdded:function(r){var l=r.layer;this._addedLayers[L.stamp(l)]=l},_isRelevantForEdit:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowEditing}},J={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},r.forEach(function(l){l.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var r=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,r.forEach(function(l){l.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var r=this._addedLayersDrag;for(var l in this._addedLayersDrag={},r){var d=r[l];this._isRelevantForDrag(d)&&this.globalDragModeEnabled()&&d.pm.enableLayerDrag()}},_layerAddedDrag:function(r){var l=r.layer;this._addedLayersDrag[L.stamp(l)]=l},_isRelevantForDrag:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.draggable}},it={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(l){r._isRelevantForRemoval(l)&&(l.pm.disable(),l.on("click",r.removeLayer,r))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var r=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(l){l.off("click",r.removeLayer,r)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(r){var l=r.layer;this._isRelevantForRemoval(l)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(r){var l=r.target;this._isRelevantForRemoval(l)&&!l.pm.dragging()&&(l.removeFrom(this.map.pm._getContainingLayer()),l.remove(),l instanceof L.LayerGroup?(this._fireRemoveLayerGroup(l),this._fireRemoveLayerGroup(this.map,l)):(l.pm._fireRemove(l),l.pm._fireRemove(this.map,l)))},_isRelevantForRemoval:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRemoval}},ht={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var r=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(l){return l instanceof L.Polyline}).forEach(function(l){r._isRelevantForRotate(l)&&l.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(r){return r instanceof L.Polyline}).forEach(function(r){r.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(r){var l=r.layer;this._isRelevantForRotate(l)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(r){return r.pm&&!(r instanceof L.LayerGroup)&&(!L.PM.optIn&&!r.options.pmIgnore||L.PM.optIn&&r.options.pmIgnore===!1)&&!r._pmTempLayer&&r.pm.options.allowRotation}};function _t(r,l){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),d.push.apply(d,y)}return d}function at(r){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?_t(Object(d),!0).forEach(function(y){bt(r,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):_t(Object(d)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(d,y))})}return r}function bt(r,l,d){return l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}var Lt={_fireDrawStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},r,l)},_fireDrawEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},r,l)},_fireCreate:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:r,layer:r},l,d)},_fireCenterPlaced:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=r==="Draw"?this._layer:void 0,y=r!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:d,layer:y,latlng:this._layer.getLatLng()},r,l)},_fireCut:function(r,l,d){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:cut",{shape:this._shape,layer:l,originalLayer:d},y,x)},_fireEdit:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:edit",{layer:this._layer,shape:this.getShape()},l,d)},_fireEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},r,l)},_fireDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},r,l)},_fireUpdate:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},r,l)},_fireMarkerDragStart:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:l},d,y)},_fireMarkerDrag:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:l},d,y)},_fireMarkerDragEnd:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:r,shape:this.getShape(),indexPath:l,intersectionReset:d},y,x)},_fireDragStart:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},r,l)},_fireDrag:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",at(at({},r),{},{shape:this.getShape()}),l,d)},_fireDragEnd:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},r,l)},_fireDragEnable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},r,l)},_fireDragDisable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},r,l)},_fireRemove:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:l,shape:this.getShape()},d,y)},_fireVertexAdded:function(r,l,d){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:r,indexPath:l,latlng:d,shape:this.getShape()},y,x)},_fireVertexRemoved:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:r,indexPath:l,shape:this.getShape()},d,y)},_fireVertexClick:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:r,indexPath:l,shape:this.getShape()},d,y)},_fireIntersect:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:r,shape:this.getShape()},l,d)},_fireLayerReset:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:r,indexPath:l,shape:this.getShape()},d,y)},_fireChange:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:r,shape:this.getShape()},l,d)},_fireTextChange:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:r,shape:this.getShape()},l,d)},_fireTextFocus:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},r,l)},_fireTextBlur:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},r,l)},_fireSnapDrag:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snapdrag",l,d,y)},_fireSnap:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:snap",l,d,y)},_fireUnsnap:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:unsnap",l,d,y)},_fireRotationEnable:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},d,y)},_fireRotationDisable:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(r,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},l,d)},_fireRotationStart:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:l},d,y)},_fireRotation:function(r,l,d){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(r,"pm:rotate",{layer:y,helpLayer:this._layer,startAngle:this._startAngle,angle:y.pm.getAngle(),angleDiff:l,oldLatLngs:d,newLatLngs:y.getLatLngs()},x,B)},_fireRotationEnd:function(r,l,d){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(r,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:l,angle:this._rotationLayer.pm.getAngle(),originLatLngs:d,newLatLngs:this._rotationLayer.getLatLngs()},y,x)},_fireActionClick:function(r,l,d){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:r.text,action:r,btnName:l,button:d},y,x)},_fireButtonClick:function(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:r,button:l},d,y)},_fireLangChange:function(r,l,d,y){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:r,activeLang:l,fallback:d,translations:y},x,B)},_fireGlobalDragModeToggled:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:r,map:this.map},l,d)},_fireGlobalEditModeToggled:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:r,map:this.map},l,d)},_fireGlobalRemovalModeToggled:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:r,map:this.map},l,d)},_fireGlobalCutModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},r,l)},_fireGlobalDrawModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},r,l)},_fireGlobalRotateModeToggled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},r,l)},_fireRemoveLayerGroup:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(r,"pm:remove",{layer:l,shape:void 0},d,y)},_fireKeyeventEvent:function(r,l,d){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:r,eventType:l,focusOn:d},y,x)},__fire:function(r,l,d,y){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};d=h()(d,x,{source:y}),L.PM.Utils._fireEvent(r,l,d)}};const Tt=Lt,Ct={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(r){this.map=r,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(r){var l="document";this.map.getContainer().contains(r.target)&&(l="map");var d={event:r,eventType:r.type,focusOn:l};this._lastEvents[r.type]=d,this._lastEvents.current=d,this.map.pm._fireKeyeventEvent(r,r.type,l)},_onBlur:function(r){r.altKey=!1;var l={event:r,eventType:r.type,focusOn:"document"};this._lastEvents[r.type]=l,this._lastEvents.current=l},getLastKeyEvent:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[r]},isShiftKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.shiftKey},isAltKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.altKey},isCtrlKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.ctrlKey},isMetaKeyPressed:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.metaKey},getPressedKey:function(){var r;return(r=this._lastEvents.current)===null||r===void 0?void 0:r.event.key}};var $t=i(7361),wt=i.n($t),fe=i(8721),zt=i.n(fe);function It(r){var l=L.PM.activeLang;return zt()(j,l)||(l="en"),wt()(j[l],r)}function Ut(r){for(var l=0;l<r.length;l+=1){var d=r[l];if(Array.isArray(d)){if(Ut(d))return!0}else if(d!=null&&d!=="")return!0}return!1}function Me(r){return r.reduce(function(l,d){if(d.length!==0){var y=Array.isArray(d)?Me(d):d;Array.isArray(y)?y.length!==0&&l.push(y):l.push(y)}return l},[])}function me(r,l,d){for(var y,x,B,V=6378137,U=63567523142e-4,$=.0033528106647474805,Z=r.lng,tt=r.lat,mt=d,pt=Math.PI,Mt=l*pt/180,Bt=Math.sin(Mt),Kt=Math.cos(Mt),se=(1-$)*Math.tan(tt*pt/180),xe=1/Math.sqrt(1+se*se),Zt=se*xe,ke=Math.atan2(se,Kt),Pe=xe*Bt,$e=1-Pe*Pe,Mn=$e*(V*V-U*U)/(U*U),To=1+Mn/16384*(4096+Mn*(Mn*(320-175*Mn)-768)),Br=Mn/1024*(256+Mn*(Mn*(74-47*Mn)-128)),Kn=mt/(U*To),Vi=2*Math.PI;Math.abs(Kn-Vi)>1e-12;)y=Math.cos(2*ke+Kn),Vi=Kn,Kn=mt/(U*To)+Br*(x=Math.sin(Kn))*(y+Br/4*((B=Math.cos(Kn))*(2*y*y-1)-Br/6*y*(4*x*x-3)*(4*y*y-3)));var Oo=Zt*x-xe*B*Kt,qs=Math.atan2(Zt*B+xe*x*Kt,(1-$)*Math.sqrt(Pe*Pe+Oo*Oo)),Ir=$/16*$e*(4+$*(4-3*$e)),Ks=Z+180*(Math.atan2(x*Bt,xe*B-Zt*x*Kt)-(1-Ir)*$*Pe*(Kn+Ir*x*(y+Ir*B*(2*y*y-1))))/pt,_n=180*qs/pt;return L.latLng(Ks,_n)}function le(r,l,d,y){for(var x,B,V=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],U=[],$=0;$<d;$+=1){if(V)x=me(r,360*$/d+y,l),B=L.latLng(x.lng,x.lat);else{var Z=r.lat+Math.cos(2*$*Math.PI/d)*l,tt=r.lng+Math.sin(2*$*Math.PI/d)*l;B=L.latLng(Z,tt)}U.push(B)}return U}function Vt(r,l,d,y){var x=function(B,V,U){var $=B.latLngToContainerPoint(V),Z=B.latLngToContainerPoint(U),tt=180*Math.atan2(Z.y-$.y,Z.x-$.x)/Math.PI+90;return tt+(tt<0?360:0)}(r,l,d);return function(B,V,U){V=(V+360)%360;var $=Math.PI/180,Z=180/Math.PI,tt=6378137,mt=B.lng*$,pt=B.lat*$,Mt=V*$,Bt=Math.sin(pt),Kt=Math.cos(pt),se=Math.cos(U/tt),xe=Math.sin(U/tt),Zt=Math.asin(Bt*se+Kt*xe*Math.cos(Mt)),ke=mt+Math.atan2(Math.sin(Mt)*xe*Kt,se-Bt*Math.sin(Zt));return ke=(ke*=Z)>180?ke-360:ke<-180?ke+360:ke,L.latLng([Zt*Z,ke])}(l,x,y)}function ft(r,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!l||Object.keys(l).length===0)return function($,Z){return $-Z};for(var y,x=Object.keys(l),B=x.length-1,V={};B>=0;)y=x[B],V[y.toLowerCase()]=l[y],B-=1;function U($){return $ instanceof L.Marker?"Marker":$ instanceof L.Circle?"Circle":$ instanceof L.CircleMarker?"CircleMarker":$ instanceof L.Rectangle?"Rectangle":$ instanceof L.Polygon?"Polygon":$ instanceof L.Polyline?"Line":void 0}return function($,Z){var tt,mt;if(r==="instanceofShape"){if(tt=U($.layer).toLowerCase(),mt=U(Z.layer).toLowerCase(),!tt||!mt)return 0}else{if(!$.hasOwnProperty(r)||!Z.hasOwnProperty(r))return 0;tt=$[r].toLowerCase(),mt=Z[r].toLowerCase()}var pt=tt in V?V[tt]:Number.MAX_SAFE_INTEGER,Mt=mt in V?V[mt]:Number.MAX_SAFE_INTEGER,Bt=0;return pt<Mt?Bt=-1:pt>Mt&&(Bt=1),d==="desc"?-1*Bt:Bt}}function St(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.getLatLngs();return r instanceof L.Polygon?L.polygon(l).getLatLngs():L.polyline(l).getLatLngs()}function Et(r,l){var d,y;if((d=l.options.crs)!==null&&d!==void 0&&(y=d.projection)!==null&&y!==void 0&&y.MAX_LATITUDE){var x,B,V=(x=l.options.crs)===null||x===void 0||(B=x.projection)===null||B===void 0?void 0:B.MAX_LATITUDE;r.lat=Math.max(Math.min(V,r.lat),-V)}return r}function jt(r){return r.options.renderer||r._map&&(r._map._getPaneRenderer(r.options.pane)||r._map.options.renderer||r._map._renderer)||r._renderer}const ue=L.Class.extend({includes:[ot,J,it,ht,Tt],initialize:function(r){this.map=r,this.Draw=new L.PM.Draw(r),this.Toolbar=new L.PM.Toolbar(r),this.Keyboard=Ct,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(r)},setLang:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",l=arguments.length>1?arguments[1]:void 0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",y=L.PM.activeLang;l&&(j[r]=h()(j[d],l)),L.PM.activeLang=r,this.map.pm.Toolbar.reinit(),this._fireLangChange(y,r,d,j[r])},addControls:function(r){this.Toolbar.addControls(r)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",l=arguments.length>1?arguments[1]:void 0;r==="Poly"&&(r="Polygon"),this.Draw.enable(r,l)},disableDraw:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";r==="Poly"&&(r="Polygon"),this.Draw.disable(r)},setPathOptions:function(r){var l=this,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=d.ignoreShapes||[],x=d.merge||!1;this.map.pm.Draw.shapes.forEach(function(B){y.indexOf(B)===-1&&l.map.pm.Draw[B].setPathOptions(r,x)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(r){var l=this,d=h()(this.globalOptions,r),y=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!d.editable&&(this.map.pm.Draw.CircleMarker.disable(),y=!0),this.map.pm.Draw.shapes.forEach(function(x){l.map.pm.Draw[x].setOptions(d)}),y&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(x){x.pm.setOptions(d)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=d,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(r){r.pm.enabled()&&r.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(r){return this.Draw.Cut.enable(r)},toggleGlobalCutMode:function(r){return this.Draw.Cut.toggle(r)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=L.PM.Utils.findLayers(this.map);if(!r)return l;var d=L.featureGroup();return d._pmTempLayer=!0,l.forEach(function(y){d.addLayer(y)}),d},getGeomanDrawLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=L.PM.Utils.findLayers(this.map).filter(function(y){return y._drawnByGeoman===!0});if(!r)return l;var d=L.featureGroup();return d._pmTempLayer=!0,l.forEach(function(y){d.addLayer(y)}),d},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(r){this._touchEventCounter===0&&(L.DomEvent.on(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(r){this._touchEventCounter===1&&(L.DomEvent.off(r,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(r,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(r){jt(this.map)._onMouseMove(this._createMouseEvent("mousemove",r))},_canvasTouchClick:function(r){var l="";r.type==="touchstart"||r.type==="pointerdown"?l="mousedown":r.type==="touchend"||r.type==="pointerup"?l="mouseup":r.type!=="touchcancel"&&r.type!=="pointercancel"||(l="mouseup"),l&&jt(this.map)._onClick(this._createMouseEvent(l,r))},_createMouseEvent:function(r,l){var d,y=l.touches[0]||l.changedTouches[0];try{d=new MouseEvent(r,{bubbles:l.bubbles,cancelable:l.cancelable,view:l.view,detail:y.detail,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY,ctrlKey:l.ctrlKey,altKey:l.altKey,shiftKey:l.shiftKey,metaKey:l.metaKey,button:l.button,relatedTarget:l.relatedTarget})}catch{(d=document.createEvent("MouseEvents")).initMouseEvent(r,l.bubbles,l.cancelable,l.view,y.detail,y.screenX,y.screenY,y.clientX,y.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget)}return d}}),H=L.Control.extend({includes:[Tt],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(r){this._button=L.Util.extend({},this.options,r)},onAdd:function(r){return this._map=r,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(r){return this._button.toggleStatus=typeof r=="boolean"?r:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(r){r&&r.preventDefault(),this._button.disabled||(this._button.onClick(r,{button:this,event:r}),this._clicked(r),this._button.afterClick(r,{button:this,event:r}))},_makeButton:function(r){var l=this,d=this.options.position.indexOf("right")>-1?"pos-right":"",y=L.DomUtil.create("div","button-container  ".concat(d),this._container);r.title&&y.setAttribute("title",r.title);var x=L.DomUtil.create("a","leaflet-buttons-control-button",y);x.setAttribute("role","button"),x.setAttribute("tabindex","0"),x.href="#";var B=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(d),y),V=r.actions,U={cancel:{text:It("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:It("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:It("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[r.jsClass]._removeLastVertex()}},finish:{text:It("actions.finish"),onClick:function(Z){this._map.pm.Draw[r.jsClass]._finishShape(Z)}}};V.forEach(function(Z){var tt,mt=typeof Z=="string"?Z:Z.name;if(U[mt])tt=U[mt];else{if(!Z.text)return;tt=Z}var pt=L.DomUtil.create("a","leaflet-pm-action ".concat(d," action-").concat(mt),B);pt.setAttribute("role","button"),pt.setAttribute("tabindex","0"),pt.href="#",pt.innerHTML=tt.text,L.DomEvent.disableClickPropagation(pt),L.DomEvent.on(pt,"click",L.DomEvent.stop),!r.disabled&&tt.onClick&&(L.DomEvent.addListener(pt,"click",function(Mt){Mt.preventDefault();var Bt="",Kt=l._map.pm.Toolbar.buttons;for(var se in Kt)if(Kt[se]._button===r){Bt=se;break}l._fireActionClick(tt,Bt,r)},l),L.DomEvent.addListener(pt,"click",tt.onClick,l))}),r.toggleStatus&&L.DomUtil.addClass(y,"active");var $=L.DomUtil.create("div","control-icon",x);return r.iconUrl&&$.setAttribute("src",r.iconUrl),r.className&&L.DomUtil.addClass($,r.className),L.DomEvent.disableClickPropagation(x),L.DomEvent.on(x,"click",L.DomEvent.stop),r.disabled||(L.DomEvent.addListener(x,"click",this._onBtnClick,this),L.DomEvent.addListener(x,"click",this._triggerClick,this)),r.disabled&&(L.DomUtil.addClass(x,"pm-disabled"),x.setAttribute("aria-disabled","true")),y},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var r="",l=this._map.pm.Toolbar.buttons;for(var d in l)if(l[d]._button===this._button){r=d;break}this._fireButtonClick(r,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var r="pm-disabled",l=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(l,r),l.setAttribute("aria-disabled","true"),L.DomEvent.off(l,"click",this._triggerClick,this),L.DomEvent.off(l,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(l,r),l.setAttribute("aria-disabled","false"),L.DomEvent.on(l,"click",this._triggerClick,this),L.DomEvent.on(l,"click",this._onBtnClick,this))}}});function K(r,l){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),d.push.apply(d,y)}return d}function Q(r){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?K(Object(d),!0).forEach(function(y){dt(r,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):K(Object(d)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(d,y))})}return r}function dt(r,l,d){return l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}function gt(r){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},gt(r)}L.Control.PMButton=H;const xt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(r){this.init(r)},reinit:function(){var r=this.isVisible;this.removeControls(),this._defineButtons(),r&&this.addControls()},init:function(r){this.map=r,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(r){var l="".concat(r,"Container");return this[l]||(this[l]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(r," leaflet-bar leaflet-control"))),this[l]},getButtons:function(){return this.buttons},addControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof r.editPolygon<"u"&&(r.editMode=r.editPolygon),typeof r.deleteLayer<"u"&&(r.removalMode=r.deleteLayer),L.Util.setOptions(this,r),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var r=this.getButtons(),l={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var d in r){var y=r[d];L.Util.setOptions(y,{className:l.geomanIcons[d]})}},removeControls:function(){var r=this.getButtons();for(var l in r)r[l].remove();this.isVisible=!1},toggleControls:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(r)},_addButton:function(r,l){return this.buttons[r]=l,this.options[r]=this.options[r]||!1,this.buttons[r]},triggerClickOnToggledButtons:function(r){for(var l in this.buttons){var d=this.buttons[l];d._button.disableByOtherButtons&&d!==r&&d.toggled()&&d._triggerClick()}},toggleButton:function(r,l){var d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return r==="editPolygon"&&(r="editMode"),r==="deleteLayer"&&(r="removalMode"),d&&this.triggerClickOnToggledButtons(this.buttons[r]),!!this.buttons[r]&&this.buttons[r].toggle(l)},_defineButtons:function(){var r=this,l={className:"control-icon leaflet-pm-icon-marker",title:It("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},d={title:It("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},y={className:"control-icon leaflet-pm-icon-polyline",title:It("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},x={title:It("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},B={title:It("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},V={title:It("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},U={title:It("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},$={title:It("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Z={title:It("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},tt={title:It("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},mt={title:It("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){r.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},pt={className:"control-icon leaflet-pm-icon-text",title:It("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Mt,Bt){r.map.pm.Draw[Bt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(l)),this._addButton("drawPolyline",new L.Control.PMButton(y)),this._addButton("drawRectangle",new L.Control.PMButton(V)),this._addButton("drawPolygon",new L.Control.PMButton(d)),this._addButton("drawCircle",new L.Control.PMButton(x)),this._addButton("drawCircleMarker",new L.Control.PMButton(B)),this._addButton("drawText",new L.Control.PMButton(pt)),this._addButton("editMode",new L.Control.PMButton(U)),this._addButton("dragMode",new L.Control.PMButton($)),this._addButton("cutPolygon",new L.Control.PMButton(Z)),this._addButton("removalMode",new L.Control.PMButton(tt)),this._addButton("rotateMode",new L.Control.PMButton(mt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var r=this.getButtons(),l=[];for(var d in this.options.drawControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return!r[x]._button.tool}))),this.options.editControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="edit"}))),this.options.optionsControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="options"}))),this.options.customControls===!1&&(l=l.concat(Object.keys(r).filter(function(x){return r[x]._button.tool==="custom"}))),r)if(this.options[d]&&l.indexOf(d)===-1){var y=r[d]._button.tool;y||(y="draw"),r[d].setPosition(this._getBtnPosition(y)),r[d].addTo(this.map)}}},_getBtnPosition:function(r){return this.options.positions&&this.options.positions[r]?this.options.positions[r]:this.options.position},setBlockPosition:function(r,l){this.options.positions[r]=l,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(r,l){if(!l)throw new TypeError("Button has no name");gt(l)!=="object"&&(l={name:l});var d=this._btnNameMapping(r);if(!l.name)throw new TypeError("Button has no name");if(this.buttons[l.name])throw new TypeError("Button with this name already exists");var y=this.map.pm.Draw.createNewDrawInstance(l.name,d);return l=Q(Q({},this.buttons[d]._button),l),{drawInstance:y,control:this.createCustomControl(l)}},createCustomControl:function(r){var l,d;if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");r.onClick||(r.onClick=function(){}),r.afterClick||(r.afterClick=function(){}),r.toggle!==!1&&(r.toggle=!0),r.block&&(r.block=r.block.toLowerCase()),r.block&&r.block!=="draw"||(r.block=""),r.className?r.className.indexOf("control-icon")===-1&&(r.className="control-icon ".concat(r.className)):r.className="control-icon";var y={tool:r.block,className:r.className,title:r.title||"",jsClass:r.name,onClick:r.onClick,afterClick:r.afterClick,doToggle:r.toggle,toggleStatus:!1,disableOtherButtons:(l=r.disableOtherButtons)===null||l===void 0||l,disableByOtherButtons:(d=r.disableByOtherButtons)===null||d===void 0||d,cssToggle:r.toggle,position:this.options.position,actions:r.actions||[],disabled:!!r.disabled};this.options[r.name]!==!1&&(this.options[r.name]=!0);var x=this._addButton(r.name,new L.Control.PMButton(y));return this.changeControlOrder(),x},changeControlOrder:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=this._shapeMapping(),d=[];r.forEach(function(Z){l[Z]?d.push(l[Z]):d.push(Z)});var y=this.getButtons(),x={};d.forEach(function(Z){y[Z]&&(x[Z]=y[Z])});var B=Object.keys(y).filter(function(Z){return!y[Z]._button.tool});B.forEach(function(Z){d.indexOf(Z)===-1&&(x[Z]=y[Z])});var V=Object.keys(y).filter(function(Z){return y[Z]._button.tool==="edit"});V.forEach(function(Z){d.indexOf(Z)===-1&&(x[Z]=y[Z])});var U=Object.keys(y).filter(function(Z){return y[Z]._button.tool==="options"});U.forEach(function(Z){d.indexOf(Z)===-1&&(x[Z]=y[Z])});var $=Object.keys(y).filter(function(Z){return y[Z]._button.tool==="custom"});$.forEach(function(Z){d.indexOf(Z)===-1&&(x[Z]=y[Z])}),Object.keys(y).forEach(function(Z){d.indexOf(Z)===-1&&(x[Z]=y[Z])}),this.map.pm.Toolbar.buttons=x,this._showHideButtons()},getControlOrder:function(){var r=this.getButtons(),l=[];for(var d in r)l.push(d);return l},changeActionsOfControl:function(r,l){var d=this._btnNameMapping(r);if(!d)throw new TypeError("No name passed");if(!l)throw new TypeError("No actions passed");if(!this.buttons[d])throw new TypeError("Button with this name not exists");this.buttons[d]._button.actions=l,this.changeControlOrder()},setButtonDisabled:function(r,l){var d=this._btnNameMapping(r);l?this.buttons[d].disable():this.buttons[d].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(r){var l=this._shapeMapping();return l[r]?l[r]:r}});function At(r,l){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),d.push.apply(d,y)}return d}function I(r){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?At(Object(d),!0).forEach(function(y){w(r,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):At(Object(d)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(d,y))})}return r}function w(r,l,d){return l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}var k={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(r){var l=this;r.forEach(function(d){Array.isArray(d)?l._assignEvents(d):(d.off("drag",l._handleSnapping,l),d.on("drag",l._handleSnapping,l),d.off("dragend",l._cleanupSnapping,l),d.on("dragend",l._cleanupSnapping,l))})},_cleanupSnapping:function(r){r&&(r.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(l){l.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(r){var l=this,d=r.target;if(d._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var y=this._calcClosestLayer(d.getLatLng(),this._snapList);if(Object.keys(y).length===0)return!1;var x,B=y.layer instanceof L.Marker||y.layer instanceof L.CircleMarker||!this.options.snapSegment;x=B?y.latlng:this._checkPrioritiySnapping(y);var V=this.options.snapDistance,U={marker:d,shape:this._shape,snapLatLng:x,segment:y.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:y.layer,distance:y.distance};if(this._fireSnapDrag(U.marker,U),this._fireSnapDrag(this._layer,U),y.distance<V){d._orgLatLng=d.getLatLng(),d.setLatLng(x),d._snapped=!0,d._snapInfo=U;var $=this._snapLatLng||{},Z=x||{};$.lat===Z.lat&&$.lng===Z.lng||(l._snapLatLng=x,l._fireSnap(d,U),l._fireSnap(l._layer,U))}else this._snapLatLng&&(this._unsnap(U),d._snapped=!1,d._snapInfo=void 0,this._fireUnsnap(U.marker,U),this._fireUnsnap(this._layer,U));return!0},_createSnapList:function(){var r=this,l=[],d=[],y=this._map;y.off("pm:remove",this._handleSnapLayerRemoval,this),y.on("pm:remove",this._handleSnapLayerRemoval,this),y.eachLayer(function(x){if((x instanceof L.Polyline||x instanceof L.Marker||x instanceof L.CircleMarker||x instanceof L.ImageOverlay)&&x.options.snapIgnore!==!0){if(x.options.snapIgnore===void 0&&(!L.PM.optIn&&x.options.pmIgnore===!0||L.PM.optIn&&x.options.pmIgnore!==!1))return;(x instanceof L.Circle||x instanceof L.CircleMarker)&&x.pm&&x.pm._hiddenPolyCircle?l.push(x.pm._hiddenPolyCircle):x instanceof L.ImageOverlay&&(x=L.rectangle(x.getBounds())),l.push(x);var B=L.polyline([],{color:"red",pmIgnore:!0});B._pmTempLayer=!0,d.push(B),(x instanceof L.Circle||x instanceof L.CircleMarker)&&d.push(B)}}),l=(l=(l=l.filter(function(x){return r._layer!==x})).filter(function(x){return x._latlng||x._latlngs&&Ut(x._latlngs)})).filter(function(x){return!x._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var x=L.polyline([],{color:"red",pmIgnore:!0});x._pmTempLayer=!0,d.push(x)}),this._snapList=l.concat(this._otherSnapLayers)):this._snapList=l,this.debugIndicatorLines=d},_handleSnapLayerRemoval:function(r){var l=r.layer,d=this._snapList.findIndex(function(y){return y._leaflet_id===l._leaflet_id});this._snapList.splice(d,1)},_calcClosestLayer:function(r,l){return this._calcClosestLayers(r,l,1)[0]},_calcClosestLayers:function(r,l){var d=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=[],B={};l.forEach(function(U,$){if(!U._parentCopy||U._parentCopy!==d._layer){var Z=d._calcLayerDistances(r,U);if(Z.distance=Math.floor(Z.distance),d.debugIndicatorLines){if(!d.debugIndicatorLines[$]){var tt=L.polyline([],{color:"red",pmIgnore:!0});tt._pmTempLayer=!0,d.debugIndicatorLines[$]=tt}d.debugIndicatorLines[$].setLatLngs([r,Z.latlng])}y===1&&(B.distance===void 0||Z.distance<=B.distance)?(Z.distance<B.distance&&(x=[]),(B=Z).layer=U,x.push(B)):y!==1&&(B={},(B=Z).layer=U,x.push(B))}}),y!==1&&(x=x.sort(function(U,$){return U.distance-$.distance})),y===-1&&(y=x.length);var V=this._getClosestLayerByPriority(x,y);return L.Util.isArray(V)?V:[V]},_calcLayerDistances:function(r,l){var d=this._map,y=l instanceof L.Marker||l instanceof L.CircleMarker,x=l instanceof L.Polygon,B=r;if(y){var V=l.getLatLng();return{latlng:I({},V),distance:this._getDistance(d,V,B)}}return this._calcLatLngDistances(B,l.getLatLngs(),d,x)},_calcLatLngDistances:function(r,l,d){var y,x,B,V=this,U=arguments.length>3&&arguments[3]!==void 0&&arguments[3],$=function tt(mt){mt.forEach(function(pt,Mt){if(Array.isArray(pt))tt(pt);else if(V.options.snapSegment){var Bt,Kt=pt;Bt=U?Mt+1===mt.length?0:Mt+1:Mt+1===mt.length?void 0:Mt+1;var se=mt[Bt];if(se){var xe=V._getDistanceToSegment(d,r,Kt,se);(x===void 0||xe<x)&&(x=xe,B=[Kt,se])}}else{var Zt=V._getDistance(d,r,pt);(x===void 0||Zt<x)&&(x=Zt,y=pt)}})};if($(l),this.options.snapSegment){var Z=this._getClosestPointOnSegment(d,r,B[0],B[1]);return{latlng:I({},Z),segment:B,distance:x}}return{latlng:y,distance:x}},_getClosestLayerByPriority:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;r=r.sort(function(V,U){return V._leaflet_id-U._leaflet_id});var d=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],y=this._map.pm.globalOptions.snappingOrder||[],x=0,B={};return y.concat(d).forEach(function(V){B[V]||(x+=1,B[V]=x)}),r.sort(ft("instanceofShape",B)),l===1?r[0]||{}:r.slice(0,l)},_checkPrioritiySnapping:function(r){var l=this._map,d=r.segment[0],y=r.segment[1],x=r.latlng,B=this._getDistance(l,d,x),V=this._getDistance(l,y,x),U=B<V?d:y,$=B<V?B:V;if(this.options.snapMiddle){var Z=L.PM.Utils.calcMiddleLatLng(l,d,y),tt=this._getDistance(l,Z,x);tt<B&&tt<V&&(U=Z,$=tt)}return I({},$<this.options.snapDistance?U:x)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(r,l,d,y){var x=r.getMaxZoom();x===1/0&&(x=r.getZoom());var B=r.project(l,x),V=r.project(d,x),U=r.project(y,x),$=L.LineUtil.closestPointOnSegment(B,V,U);return r.unproject($,x)},_getDistanceToSegment:function(r,l,d,y){var x=r.latLngToLayerPoint(l),B=r.latLngToLayerPoint(d),V=r.latLngToLayerPoint(y);return L.LineUtil.pointToSegmentDistance(x,B,V)},_getDistance:function(r,l,d){return r.latLngToLayerPoint(l).distanceTo(r.latLngToLayerPoint(d))}};const R=k,z=L.Class.extend({includes:[R,Tt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(r){L.Util.setOptions(this,r),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(r){var l=this,d=new L.Icon.Default;d.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=d,this._map=r,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(y){l[y]=new L.PM.Draw[y](l._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(r){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=l?h()(this.options.pathOptions,r):r},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(r,l){if(!r)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[r].enable(l)},disable:function(){var r=this;this.shapes.forEach(function(l){r[l].disable()})},addControls:function(){var r=this;this.shapes.forEach(function(l){r[l].addButton()})},getActiveShape:function(){var r,l=this;return this.shapes.forEach(function(d){l[d]._enabled&&(r=d)}),r},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var r=L.PM.Utils.findLayers(this._map);this._enabled?r.forEach(function(l){L.PM.Utils.disablePopup(l)}):r.forEach(function(l){L.PM.Utils.enablePopup(l)})},createNewDrawInstance:function(r,l){var d=this._getShapeFromBtnName(l);if(this[r])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[d])throw new TypeError("There is no class L.PM.Draw.".concat(d));return this[r]=new L.PM.Draw[d](this._map),this[r].toolbarButtonName=r,this[r]._shape=r,this.shapes.push(r),this[l]&&this[r].setOptions(this[l].options),this[r].setOptions(this[r].options),this[r]},_getShapeFromBtnName:function(r){var l={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return l[r]?l[r]:this[r]?this[r]._shape:r},_finishLayer:function(r){r.pm&&(r.pm.setOptions(this.options),r.pm._shape=this._shape,r.pm._map=this._map),this._addDrawnLayerProp(r)},_addDrawnLayerProp:function(r){r._drawnByGeoman=!0},_setPane:function(r,l){l==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});z.Marker=z.extend({initialize:function(r){this._map=r,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(r){var l=this;L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(It("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(d){l.isRelevantMarker(d)&&d.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(l){r.isRelevantMarker(l)&&l.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},isRelevantMarker:function(r){return r instanceof L.Marker&&r.pm&&!r._pmTempLayer&&!r.pm._initTextMarker},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(r){if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),d=new L.Marker(l,this.options.markerStyle);this._setPane(d,"markerPane"),this._finishLayer(d),d.pm||(d.options.draggable=!1),d.addTo(this._map.pm._getContainingLayer()),d.pm&&this.options.markerEditable?d.pm.enable():d.dragging&&d.dragging.disable(),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var r,l;(r=this.options.markerStyle)!==null&&r!==void 0&&r.icon&&((l=this._hintMarker)===null||l===void 0||l.setIcon(this.options.markerStyle.icon))}});var F=63710088e-1,et={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*F,kilometers:6371.0088,kilometres:6371.0088,meters:F,metres:F,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:F/1852,radians:1,yards:6967335223679999e-9};function st(r,l,d){d===void 0&&(d={});var y={type:"Feature"};return(d.id===0||d.id)&&(y.id=d.id),d.bbox&&(y.bbox=d.bbox),y.properties=l||{},y.geometry=r,y}function vt(r,l,d){if(d===void 0&&(d={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ve(r[0])||!ve(r[1]))throw new Error("coordinates must contain numbers");return st({type:"Point",coordinates:r},l,d)}function Ot(r,l,d){if(d===void 0&&(d={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return st({type:"LineString",coordinates:r},l,d)}function Nt(r,l){l===void 0&&(l={});var d={type:"FeatureCollection"};return l.id&&(d.id=l.id),l.bbox&&(d.bbox=l.bbox),d.features=r,d}function Xt(r,l){l===void 0&&(l="kilometers");var d=et[l];if(!d)throw new Error(l+" units is invalid");return r*d}function ne(r,l){l===void 0&&(l="kilometers");var d=et[l];if(!d)throw new Error(l+" units is invalid");return r/d}function be(r){return 180*(r%(2*Math.PI))/Math.PI}function te(r){return r%360*Math.PI/180}function ve(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function he(r){var l,d,y={type:"FeatureCollection",features:[]};if((d=r.type==="Feature"?r.geometry:r).type==="LineString")l=[d.coordinates];else if(d.type==="MultiLineString")l=d.coordinates;else if(d.type==="MultiPolygon")l=[].concat.apply([],d.coordinates);else{if(d.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");l=d.coordinates}return l.forEach(function(x){l.forEach(function(B){for(var V=0;V<x.length-1;V++)for(var U=V;U<B.length-1;U++)if(!(x===B&&(Math.abs(V-U)===1||V===0&&U===x.length-2&&x[V][0]===x[x.length-1][0]&&x[V][1]===x[x.length-1][1]))){var $=we(x[V][0],x[V][1],x[V+1][0],x[V+1][1],B[U][0],B[U][1],B[U+1][0],B[U+1][1]);$&&y.features.push(vt([$[0],$[1]]))}})}),y}function we(r,l,d,y,x,B,V,U){var $,Z,tt,mt,pt={x:null,y:null,onLine1:!1,onLine2:!1};return($=(U-B)*(d-r)-(V-x)*(y-l))===0?pt.x!==null&&pt.y!==null&&pt:(mt=(d-r)*(Z=l-B)-(y-l)*(tt=r-x),Z=((V-x)*Z-(U-B)*tt)/$,tt=mt/$,pt.x=r+Z*(d-r),pt.y=l+Z*(y-l),Z>=0&&Z<=1&&(pt.onLine1=!0),tt>=0&&tt<=1&&(pt.onLine2=!0),!(!pt.onLine1||!pt.onLine2)&&[pt.x,pt.y])}function Ae(r,l){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),d.push.apply(d,y)}return d}function We(r){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?Ae(Object(d),!0).forEach(function(y){Je(r,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):Ae(Object(d)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(d,y))})}return r}function Je(r,l,d){return l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}function fn(r,l){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),d.push.apply(d,y)}return d}function cn(r){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?fn(Object(d),!0).forEach(function(y){Xe(r,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):fn(Object(d)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(d,y))})}return r}function Xe(r,l,d){return l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}function hn(r,l){var d=Object.keys(r);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(r);l&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),d.push.apply(d,y)}return d}function Ln(r){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?hn(Object(d),!0).forEach(function(y){$n(r,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(d)):hn(Object(d)).forEach(function(y){Object.defineProperty(r,y,Object.getOwnPropertyDescriptor(d,y))})}return r}function $n(r,l,d){return l in r?Object.defineProperty(r,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[l]=d,r}function Ye(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Fe(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Rn(r){return r.type==="Feature"?r.geometry:r}function Kr(r,l){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function Ei(r,l,d){if(r!==null)for(var y,x,B,V,U,$,Z,tt,mt=0,pt=0,Mt=r.type,Bt=Mt==="FeatureCollection",Kt=Mt==="Feature",se=Bt?r.features.length:1,xe=0;xe<se;xe++){U=(tt=!!(Z=Bt?r.features[xe].geometry:Kt?r.geometry:r)&&Z.type==="GeometryCollection")?Z.geometries.length:1;for(var Zt=0;Zt<U;Zt++){var ke=0,Pe=0;if((V=tt?Z.geometries[Zt]:Z)!==null){$=V.coordinates;var $e=V.type;switch(mt=!d||$e!=="Polygon"&&$e!=="MultiPolygon"?0:1,$e){case null:break;case"Point":if(l($,pt,xe,ke,Pe)===!1)return!1;pt++,ke++;break;case"LineString":case"MultiPoint":for(y=0;y<$.length;y++){if(l($[y],pt,xe,ke,Pe)===!1)return!1;pt++,$e==="MultiPoint"&&ke++}$e==="LineString"&&ke++;break;case"Polygon":case"MultiLineString":for(y=0;y<$.length;y++){for(x=0;x<$[y].length-mt;x++){if(l($[y][x],pt,xe,ke,Pe)===!1)return!1;pt++}$e==="MultiLineString"&&ke++,$e==="Polygon"&&Pe++}$e==="Polygon"&&ke++;break;case"MultiPolygon":for(y=0;y<$.length;y++){for(Pe=0,x=0;x<$[y].length;x++){for(B=0;B<$[y][x].length-mt;B++){if(l($[y][x][B],pt,xe,ke,Pe)===!1)return!1;pt++}Pe++}ke++}break;case"GeometryCollection":for(y=0;y<V.geometries.length;y++)if(Ei(V.geometries[y],l,d)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Cr(r,l){if(r.type==="Feature")l(r,0);else if(r.type==="FeatureCollection")for(var d=0;d<r.features.length&&l(r.features[d],d)!==!1;d++);}function Fs(r,l){var d,y,x,B,V,U,$,Z,tt,mt,pt=0,Mt=r.type==="FeatureCollection",Bt=r.type==="Feature",Kt=Mt?r.features.length:1;for(d=0;d<Kt;d++){for(U=Mt?r.features[d].geometry:Bt?r.geometry:r,Z=Mt?r.features[d].properties:Bt?r.properties:{},tt=Mt?r.features[d].bbox:Bt?r.bbox:void 0,mt=Mt?r.features[d].id:Bt?r.id:void 0,V=($=!!U&&U.type==="GeometryCollection")?U.geometries.length:1,x=0;x<V;x++)if((B=$?U.geometries[x]:U)!==null)switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(l(B,pt,Z,tt,mt)===!1)return!1;break;case"GeometryCollection":for(y=0;y<B.geometries.length;y++)if(l(B.geometries[y],pt,Z,tt,mt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(l(null,pt,Z,tt,mt)===!1)return!1;pt++}}function Ti(r,l){Fs(r,function(d,y,x,B,V){var U,$=d===null?null:d.type;switch($){case null:case"Point":case"LineString":case"Polygon":return l(st(d,x,{bbox:B,id:V}),y,0)!==!1&&void 0}switch($){case"MultiPoint":U="Point";break;case"MultiLineString":U="LineString";break;case"MultiPolygon":U="Polygon"}for(var Z=0;Z<d.coordinates.length;Z++){var tt=d.coordinates[Z];if(l(st({type:U,coordinates:tt},x),y,Z)===!1)return!1}})}z.Line=z.extend({initialize:function(r){this._map=r,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],We(We({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(It("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._layer.getLatLngs();if(r.length>0){var l=r[r.length-1];this._hintline.setLatLngs([l,this._hintMarker.getLatLng()])}},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var d=this._layer._defaultShape().slice();d.push(this._hintMarker.getLatLng()),this._change(d)},hasSelfIntersection:function(){return he(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(r,l){var d=L.polyline(this._layer.getLatLngs());r&&(l||(l=this._hintMarker.getLatLng()),d.addLatLng(l));var y=he(d.toGeoJSON(15));this._doesSelfIntersect=y.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(r){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,r.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),d=this._layer.getLatLngs(),y=d[d.length-1];if(l.equals(d[0])||d.length>0&&l.equals(y))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:l,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(l);var x=this._createMarker(l);this._setTooltipText(),this._setHintLineAfterNewVertex(l),this._fireVertexAdded(x,void 0,l,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(r)}}},_setHintLineAfterNewVertex:function(r){this._hintline.setLatLngs([r,r])},_removeLastVertex:function(){var r=this._markers;if(r.length<=1)this.disable();else{var l=this._layer.getLatLngs(),d=r[r.length-1],y=L.PM.Utils.findDeepMarkerIndex(r,d).indexPath;r.pop(),this._layerGroup.removeLayer(d);var x=r[r.length-1],B=l.indexOf(x.getLatLng());l=l.slice(0,B+1),this._layer.setLatLngs(l),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(d,y,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=1)){var l=L.polyline(r,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(r){var l=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),l.on("click",this._finishShape,this),l},_setTooltipText:function(){var r="";r=It(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change:function(r){this._fireChange(r,"Draw")},setStyle:function(){var r,l;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}}),z.Polygon=z.Line.extend({initialize:function(r){this._map=r,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(r){L.PM.Draw.Line.prototype.enable.call(this,r),this._layer.pm._shape="Polygon"},_createMarker:function(r){var l=new L.Marker(r,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),this._layer.getLatLngs().flat().length===1?(l.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(l)-1,this.options.snappable&&this._cleanupSnapping()):l.on("click",function(){return 1}),l},_setTooltipText:function(){var r="";r=It(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var r=this._layer.getLatLngs();if(!(r.length<=2)){var l=L.polygon(r,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),z.Rectangle=z.extend({initialize:function(r){this._map=r,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(r){if(L.Util.setOptions(this,r),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(It("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var l=0;l<2;l+=1){var d=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._styleMarkers.push(d)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_placeStartingMarkers:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(l),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(d){L.DomUtil.addClass(d._icon,"visible"),d.setLatLng(l)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(It("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var r=this._startMarker.getLatLng();r&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([r,r]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}var d=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(d,"Draw")},_syncRectangleSize:function(){var r=this,l=Et(this._startMarker.getLatLng(),this._map),d=Et(this._hintMarker.getLatLng(),this._map),y=L.PM.Utils._getRotatedRectangle(l,d,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(y),this.options.cursorMarker&&this._styleMarkers){var x=[];y.forEach(function(B){B.equals(l,1e-8)||B.equals(d,1e-8)||x.push(B)}),x.forEach(function(B,V){try{r._styleMarkers[V].setLatLng(B)}catch{}})}},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]},_finishShape:function(r){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),d=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var y=L.rectangle([d,l],this.options.pathOptions);if(this.options.rectangleAngle){var x=L.PM.Utils._getRotatedRectangle(d,l,this.options.rectangleAngle||0,this._map);y.setLatLngs(x),y.pm&&y.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(y,"layerPane"),this._finishLayer(y),y.addTo(this._map.pm._getContainingLayer()),this._fireCreate(y),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var r;(r=this._layer)===null||r===void 0||r.setStyle(this.options.pathOptions)}}),z.Circle=z.extend({initialize:function(r){this._map=r,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(r){L.Util.setOptions(this,r),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),cn(cn({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(It("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,l])},_syncCircleRadius:function(){var r,l=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng();r=this._map.options.crs===L.CRS.Simple?this._map.distance(l,d):l.distanceTo(d),this.options.minRadiusCircle&&r<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&r>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this._handleHintMarkerSnapping();var d=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(d,"Draw")},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(It("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l,d=this._centerMarker.getLatLng(),y=this._hintMarker.getLatLng();l=this._map.options.crs===L.CRS.Simple?this._map.distance(d,y):d.distanceTo(y),this.options.minRadiusCircle&&l<this.options.minRadiusCircle?l=this.options.minRadiusCircle:this.options.maxRadiusCircle&&l>this.options.maxRadiusCircle&&(l=this.options.maxRadiusCircle);var x=cn(cn({},this.options.pathOptions),{},{radius:l}),B=L.circle(d,x);this._setPane(B,"layerPane"),this._finishLayer(B),B.addTo(this._map.pm._getContainingLayer()),B.pm&&B.pm._updateHiddenPolyCircle(),this._fireCreate(B),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return r;var l=this._centerMarker.getLatLng(),d=l.distanceTo(r);return this.options.minRadiusCircle&&d<this.options.minRadiusCircle?r=Vt(this._map,l,r,this.options.minRadiusCircle):this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle&&(r=Vt(this._map,l,r,this.options.maxRadiusCircle)),r},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),d=r.distanceTo(l);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&d<this.options.minRadiusCircle||this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var r,l;(r=this._layer)===null||r===void 0||r.setStyle(this.options.templineStyle),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}}),z.CircleMarker=z.Marker.extend({initialize:function(r){this._map=r,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(r){var l=this;if(L.Util.setOptions(this,r),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var d={};L.extend(d,this.options.templineStyle),d.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),d),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(It("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(It("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(y){l.isRelevantMarker(y)&&y.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var r=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(l){r.isRelevantMarker(l)&&l.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(r){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var r=this._centerMarker.getLatLng();r&&(this._layer.setLatLng(r),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(It("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([r,l])},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(l));this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(d)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}this._handleHintMarkerSnapping();var d=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(d,"Draw")},isRelevantMarker:function(r){return r instanceof L.CircleMarker&&!(r instanceof L.Circle)&&r.pm&&!r._pmTempLayer},_createMarker:function(r){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&r.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._hintMarker.getLatLng(),d=L.circleMarker(l,this.options.pathOptions);this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),d.pm&&this.options.markerEditable&&d.pm.enable(),this._fireCreate(d),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(r){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var l=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),y=this._map.project(l).distanceTo(this._map.project(d));this.options.editable&&(this.options.minRadiusCircleMarker&&y<this.options.minRadiusCircleMarker?y=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&y>this.options.maxRadiusCircleMarker&&(y=this.options.maxRadiusCircleMarker));var x=Ln(Ln({},this.options.pathOptions),{},{radius:y}),B=L.circleMarker(l,x);this._setPane(B,"layerPane"),this._finishLayer(B),B.addTo(this._map.pm._getContainingLayer()),B.pm&&B.pm._updateHiddenPolyCircle(),this._fireCreate(B),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var r=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return r;var l=this._centerMarker.getLatLng(),d=this._map.project(l).distanceTo(this._map.project(r));this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?r=Vt(this._map,l,r,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker&&(r=Vt(this._map,l,r,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return r},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(l));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(r){var l=this._centerMarker.getLatLng(),d=this._map.project(l),y=L.point(d.x+r,d.y);return this._map.unproject(y).distanceTo(l)},setStyle:function(){var r,l,d={};L.extend(d,this.options.templineStyle),this.options.editable&&(d.radius=0),(r=this._layer)===null||r===void 0||r.setStyle(d),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}});const nn=function(r){if(!r)throw new Error("geojson is required");var l=[];return Ti(r,function(d){(function(y,x){var B=[],V=y.geometry;if(V!==null){switch(V.type){case"Polygon":B=Fe(V);break;case"LineString":B=[Fe(V)]}B.forEach(function(U){var $=function(Z,tt){var mt=[];return Z.reduce(function(pt,Mt){var Bt,Kt,se,xe,Zt,ke,Pe=Ot([pt,Mt],tt);return Pe.bbox=(Kt=Mt,se=(Bt=pt)[0],xe=Bt[1],Zt=Kt[0],ke=Kt[1],[se<Zt?se:Zt,xe<ke?xe:ke,se>Zt?se:Zt,xe>ke?xe:ke]),mt.push(Pe),Mt}),mt}(U,y.properties);$.forEach(function(Z){Z.id=x.length,x.push(Z)})})}})(d,l)}),Nt(l)};var Ht=i(1787);function Oi(r,l){var d=Fe(r),y=Fe(l);if(d.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(y.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var x=d[0][0],B=d[0][1],V=d[1][0],U=d[1][1],$=y[0][0],Z=y[0][1],tt=y[1][0],mt=y[1][1],pt=(mt-Z)*(V-x)-(tt-$)*(U-B),Mt=(tt-$)*(B-Z)-(mt-Z)*(x-$),Bt=(V-x)*(B-Z)-(U-B)*(x-$);if(pt===0)return null;var Kt=Mt/pt,se=Bt/pt;return Kt>=0&&Kt<=1&&se>=0&&se<=1?vt([x+Kt*(V-x),B+Kt*(U-B)]):null}const Bn=function(r,l){var d={},y=[];if(r.type==="LineString"&&(r=st(r)),l.type==="LineString"&&(l=st(l)),r.type==="Feature"&&l.type==="Feature"&&r.geometry!==null&&l.geometry!==null&&r.geometry.type==="LineString"&&l.geometry.type==="LineString"&&r.geometry.coordinates.length===2&&l.geometry.coordinates.length===2){var x=Oi(r,l);return x&&y.push(x),Nt(y)}var B=Ht();return B.load(nn(l)),Cr(nn(r),function(V){Cr(B.search(V),function(U){var $=Oi(V,U);if($){var Z=Fe($).join(",");d[Z]||(d[Z]=!0,y.push($))}})}),Nt(y)},In=function(r,l,d){d===void 0&&(d={});var y=Ye(r),x=Ye(l),B=te(x[1]-y[1]),V=te(x[0]-y[0]),U=te(y[1]),$=te(x[1]),Z=Math.pow(Math.sin(B/2),2)+Math.pow(Math.sin(V/2),2)*Math.cos(U)*Math.cos($);return Xt(2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z)),d.units)},Lo=function(r){var l=r[0],d=r[1],y=r[2],x=r[3];if(In(r.slice(0,2),[y,d])>=In(r.slice(0,2),[l,x])){var B=(d+x)/2;return[l,B-(y-l)/2,y,B+(y-l)/2]}var V=(l+y)/2;return[V-(x-d)/2,d,V+(x-d)/2,x]};function Pr(r){var l=[1/0,1/0,-1/0,-1/0];return Ei(r,function(d){l[0]>d[0]&&(l[0]=d[0]),l[1]>d[1]&&(l[1]=d[1]),l[2]<d[0]&&(l[2]=d[0]),l[3]<d[1]&&(l[3]=d[1])}),l}Pr.default=Pr;const or=Pr,sr=function(r,l){l===void 0&&(l={});var d=l.precision,y=l.coordinates,x=l.mutate;if(d=d==null||isNaN(d)?6:d,y=y==null||isNaN(y)?3:y,!r)throw new Error("<geojson> is required");if(typeof d!="number")throw new Error("<precision> must be a number");if(typeof y!="number")throw new Error("<coordinates> must be a number");x!==!1&&x!==void 0||(r=JSON.parse(JSON.stringify(r)));var B=Math.pow(10,d);return Ei(r,function(V){(function(U,$,Z){U.length>Z&&U.splice(Z,U.length);for(var tt=0;tt<U.length;tt++)U[tt]=Math.round(U[tt]*$)/$})(V,B,y)}),r};function Ai(r,l,d){if(d===void 0&&(d={}),d.final===!0)return function(mt,pt){var Mt=Ai(pt,mt);return Mt=(Mt+180)%360}(r,l);var y=Ye(r),x=Ye(l),B=te(y[0]),V=te(x[0]),U=te(y[1]),$=te(x[1]),Z=Math.sin(V-B)*Math.cos($),tt=Math.cos(U)*Math.sin($)-Math.sin(U)*Math.cos($)*Math.cos(V-B);return be(Math.atan2(Z,tt))}function Mo(r,l,d,y){y===void 0&&(y={});var x=Ye(r),B=te(x[0]),V=te(x[1]),U=te(d),$=ne(l,y.units),Z=Math.asin(Math.sin(V)*Math.cos($)+Math.cos(V)*Math.sin($)*Math.cos(U));return vt([be(B+Math.atan2(Math.sin(U)*Math.sin($)*Math.cos(V),Math.cos($)-Math.sin(V)*Math.sin(Z))),be(Z)],y.properties)}const Hs=function(r,l,d){d===void 0&&(d={});var y=vt([1/0,1/0],{dist:1/0}),x=0;return Ti(r,function(B){for(var V=Fe(B),U=0;U<V.length-1;U++){var $=vt(V[U]);$.properties.dist=In(l,$,d);var Z=vt(V[U+1]);Z.properties.dist=In(l,Z,d);var tt=In($,Z,d),mt=Math.max($.properties.dist,Z.properties.dist),pt=Ai($,Z),Mt=Mo(l,mt,pt+90,d),Bt=Mo(l,mt,pt-90,d),Kt=Bn(Ot([Mt.geometry.coordinates,Bt.geometry.coordinates]),Ot([$.geometry.coordinates,Z.geometry.coordinates])),se=null;Kt.features.length>0&&((se=Kt.features[0]).properties.dist=In(l,se,d),se.properties.location=x+In($,se,d)),$.properties.dist<y.properties.dist&&((y=$).properties.index=U,y.properties.location=x),Z.properties.dist<y.properties.dist&&((y=Z).properties.index=U+1,y.properties.location=x+tt),se&&se.properties.dist<y.properties.dist&&((y=se).properties.index=U),x+=tt}}),y};function Co(r,l){var d=[],y=Ht();return Ti(l,function(x){if(d.forEach(function(U,$){U.id=$}),d.length){var B=y.search(x);if(B.features.length){var V=Bi(x,B);d=d.filter(function(U){return U.id!==V.id}),y.remove(V),Cr(Ri(V,x),function(U){d.push(U),y.insert(U)})}}else(d=Ri(r,x).features).forEach(function(U){U.bbox||(U.bbox=Lo(or(U)))}),y.load(Nt(d))}),Nt(d)}function Ri(r,l){var d=[],y=Fe(r)[0],x=Fe(r)[r.geometry.coordinates.length-1];if(Ii(y,Ye(l))||Ii(x,Ye(l)))return Nt([r]);var B=Ht(),V=nn(r);B.load(V);var U=B.search(l);if(!U.features.length)return Nt([r]);var $=Bi(l,U),Z=function(tt,mt,pt){var Mt=pt;return Cr(tt,function(Bt,Kt){Mt=Kt===0&&pt===void 0?Bt:mt(Mt,Bt,Kt)}),Mt}(V,function(tt,mt,pt){var Mt=Fe(mt)[1],Bt=Ye(l);return pt===$.id?(tt.push(Bt),d.push(Ot(tt)),Ii(Bt,Mt)?[Bt]:[Bt,Mt]):(tt.push(Mt),tt)},[y]);return Z.length>1&&d.push(Ot(Z)),Nt(d)}function Bi(r,l){if(!l.features.length)throw new Error("lines must contain features");if(l.features.length===1)return l.features[0];var d,y=1/0;return Cr(l,function(x){var B=Hs(x,r).properties.dist;B<y&&(d=x,y=B)}),d}function Ii(r,l){return r[0]===l[0]&&r[1]===l[1]}const Wr=function(r,l){if(!r)throw new Error("line is required");if(!l)throw new Error("splitter is required");var d=Kr(r),y=Kr(l);if(d!=="LineString")throw new Error("line must be LineString");if(y==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(y==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var x=sr(l,{precision:7});switch(y){case"Point":return Ri(r,x);case"MultiPoint":return Co(r,x);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Co(r,Bn(r,x))}};function Jr(r,l,d){if(d===void 0&&(d={}),!r)throw new Error("point is required");if(!l)throw new Error("polygon is required");var y=Ye(r),x=Rn(l),B=x.type,V=l.bbox,U=x.coordinates;if(V&&function(pt,Mt){return Mt[0]<=pt[0]&&Mt[1]<=pt[1]&&Mt[2]>=pt[0]&&Mt[3]>=pt[1]}(y,V)===!1)return!1;B==="Polygon"&&(U=[U]);for(var $=!1,Z=0;Z<U.length&&!$;Z++)if(Po(y,U[Z][0],d.ignoreBoundary)){for(var tt=!1,mt=1;mt<U[Z].length&&!tt;)Po(y,U[Z][mt],!d.ignoreBoundary)&&(tt=!0),mt++;tt||($=!0)}return $}function Po(r,l,d){var y=!1;l[0][0]===l[l.length-1][0]&&l[0][1]===l[l.length-1][1]&&(l=l.slice(0,l.length-1));for(var x=0,B=l.length-1;x<l.length;B=x++){var V=l[x][0],U=l[x][1],$=l[B][0],Z=l[B][1];if(r[1]*(V-$)+U*($-r[0])+Z*(r[0]-V)==0&&(V-r[0])*($-r[0])<=0&&(U-r[1])*(Z-r[1])<=0)return!d;U>r[1]!=Z>r[1]&&r[0]<($-V)*(r[1]-U)/(Z-U)+V&&(y=!y)}return y}function $s(r,l,d,y,x){var B=d[0],V=d[1],U=r[0],$=r[1],Z=l[0],tt=l[1],mt=Z-U,pt=tt-$,Mt=(d[0]-U)*pt-(d[1]-$)*mt;if(x!==null){if(Math.abs(Mt)>x)return!1}else if(Mt!==0)return!1;return y?y==="start"?Math.abs(mt)>=Math.abs(pt)?mt>0?U<B&&B<=Z:Z<=B&&B<U:pt>0?$<V&&V<=tt:tt<=V&&V<$:y==="end"?Math.abs(mt)>=Math.abs(pt)?mt>0?U<=B&&B<Z:Z<B&&B<=U:pt>0?$<=V&&V<tt:tt<V&&V<=$:y==="both"&&(Math.abs(mt)>=Math.abs(pt)?mt>0?U<B&&B<Z:Z<B&&B<U:pt>0?$<V&&V<tt:tt<V&&V<$):Math.abs(mt)>=Math.abs(pt)?mt>0?U<=B&&B<=Z:Z<=B&&B<=U:pt>0?$<=V&&V<=tt:tt<=V&&V<=$}const Sr=function(r,l,d){d===void 0&&(d={});for(var y=Ye(r),x=Fe(l),B=0;B<x.length-1;B++){var V=!1;if(d.ignoreEndVertices&&(B===0&&(V="start"),B===x.length-2&&(V="end"),B===0&&B+1===x.length-1&&(V="both")),$s(x[B],x[B+1],y,V,typeof d.epsilon>"u"?null:d.epsilon))return!0}return!1};function Us(r,l){var d=Rn(r),y=Rn(l),x=d.type,B=y.type,V=d.coordinates,U=y.coordinates;switch(x){case"Point":if(B==="Point")return Un(V,U);throw new Error("feature2 "+B+" geometry not supported");case"MultiPoint":switch(B){case"Point":return function($,Z){var tt,mt=!1;for(tt=0;tt<$.coordinates.length;tt++)if(Un($.coordinates[tt],Z.coordinates)){mt=!0;break}return mt}(d,y);case"MultiPoint":return function($,Z){for(var tt=0,mt=Z.coordinates;tt<mt.length;tt++){for(var pt=mt[tt],Mt=!1,Bt=0,Kt=$.coordinates;Bt<Kt.length;Bt++)if(Un(pt,Kt[Bt])){Mt=!0;break}if(!Mt)return!1}return!0}(d,y);default:throw new Error("feature2 "+B+" geometry not supported")}case"LineString":switch(B){case"Point":return Sr(y,d,{ignoreEndVertices:!0});case"LineString":return function($,Z){for(var tt=!1,mt=0,pt=Z.coordinates;mt<pt.length;mt++){var Mt=pt[mt];if(Sr({type:"Point",coordinates:Mt},$,{ignoreEndVertices:!0})&&(tt=!0),!Sr({type:"Point",coordinates:Mt},$,{ignoreEndVertices:!1}))return!1}return tt}(d,y);case"MultiPoint":return function($,Z){for(var tt=!1,mt=0,pt=Z.coordinates;mt<pt.length;mt++){var Mt=pt[mt];if(Sr(Mt,$,{ignoreEndVertices:!0})&&(tt=!0),!Sr(Mt,$))return!1}return!!tt}(d,y);default:throw new Error("feature2 "+B+" geometry not supported")}case"Polygon":switch(B){case"Point":return Jr(y,d,{ignoreBoundary:!0});case"LineString":return function($,Z){var tt=!1,mt=0,pt=or($),Mt=or(Z);if(!Yr(pt,Mt))return!1;for(;mt<Z.coordinates.length-1;mt++)if(Jr({type:"Point",coordinates:So(Z.coordinates[mt],Z.coordinates[mt+1])},$,{ignoreBoundary:!0})){tt=!0;break}return tt}(d,y);case"Polygon":return function($,Z){if($.type==="Feature"&&$.geometry===null||Z.type==="Feature"&&Z.geometry===null)return!1;var tt=or($),mt=or(Z);if(!Yr(tt,mt))return!1;for(var pt=Rn(Z).coordinates,Mt=0,Bt=pt;Mt<Bt.length;Mt++)for(var Kt=0,se=Bt[Mt];Kt<se.length;Kt++)if(!Jr(se[Kt],$))return!1;return!0}(d,y);case"MultiPoint":return function($,Z){for(var tt=0,mt=Z.coordinates;tt<mt.length;tt++)if(!Jr(mt[tt],$,{ignoreBoundary:!0}))return!1;return!0}(d,y);default:throw new Error("feature2 "+B+" geometry not supported")}default:throw new Error("feature1 "+x+" geometry not supported")}}function Yr(r,l){return!(r[0]>l[0])&&!(r[2]<l[2])&&!(r[1]>l[1])&&!(r[3]<l[3])}function Un(r,l){return r[0]===l[0]&&r[1]===l[1]}function So(r,l){return[(r[0]+l[0])/2,(r[1]+l[1])/2]}var Eo=i(2676),ar=i.n(Eo);function pe(r){var l={type:"Feature"};return l.geometry=r,l}function Ce(r){return r.type==="Feature"?r.geometry:r}function Er(r){return r&&r.geometry&&r.geometry.coordinates?r.geometry.coordinates:r}function Zn(r){return pe({type:"Polygon",coordinates:r})}function qn(r){return pe({type:"MultiPolygon",coordinates:r})}function Xr(r){return Array.isArray(r)?1+Xr(r[0]):-1}function oe(r){r instanceof L.Polyline&&(r=r.toGeoJSON(15));var l=Er(r),d=Xr(l),y=[];return d>1?l.forEach(function(x){y.push(function(B){return pe({type:"LineString",coordinates:B})}(x))}):y.push(r),y}function Re(r){var l=[];return r.eachLayer(function(d){l.push(Er(d.toGeoJSON(15)))}),function(d){return pe({type:"MultiLineString",coordinates:d})}(l)}function Di(r,l){return function(d){if(Array.isArray(d))return d}(r)||function(d,y){var x=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(x!=null){var B,V,U=[],$=!0,Z=!1;try{for(x=x.call(d);!($=(B=x.next()).done)&&(U.push(B.value),!y||U.length!==y);$=!0);}catch(tt){Z=!0,V=tt}finally{try{$||x.return==null||x.return()}finally{if(Z)throw V}}return U}}(r,l)||function(d,y){if(d){if(typeof d=="string")return Tr(d,y);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Tr(d,y)}}(r,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tr(r,l){(l==null||l>r.length)&&(l=r.length);for(var d=0,y=new Array(l);d<l;d++)y[d]=r[d];return y}function rn(r){return function(l){if(Array.isArray(l))return zi(l)}(r)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(r)||function(l,d){if(l){if(typeof l=="string")return zi(l,d);var y=Object.prototype.toString.call(l).slice(8,-1);if(y==="Object"&&l.constructor&&(y=l.constructor.name),y==="Map"||y==="Set")return Array.from(l);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return zi(l,d)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zi(r,l){(l==null||l>r.length)&&(l=r.length);for(var d=0,y=new Array(l);d<l;d++)y[d]=r[d];return y}z.Cut=z.Polygon.extend({initialize:function(r){this._map=r,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var r=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var l=this._layer.getLatLngs();if(!(l.length<=2)){var d=L.polygon(l,this.options.pathOptions);d._latlngInfos=this._layer._latlngInfo,this.cut(d),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(y){var x=y.layer,B=y.originalLayer;r._fireCut(B,x,B),r._fireCut(r._map,x,B),B.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(r){var l=this,d=this._map._layers,y=r._latlngInfos||[];Object.keys(d).map(function(x){return d[x]}).filter(function(x){return x.pm}).filter(function(x){return!x._pmTempLayer}).filter(function(x){return!L.PM.optIn&&!x.options.pmIgnore||L.PM.optIn&&x.options.pmIgnore===!1}).filter(function(x){return x instanceof L.Polyline}).filter(function(x){return x!==r}).filter(function(x){return x.pm.options.allowCutting}).filter(function(x){return!(l.options.layersToCut&&L.Util.isArray(l.options.layersToCut)&&l.options.layersToCut.length>0)||l.options.layersToCut.indexOf(x)>-1}).filter(function(x){return!l._layerGroup.hasLayer(x)}).filter(function(x){try{var B=!!Bn(r.toGeoJSON(15),x.toGeoJSON(15)).features.length>0;return B||x instanceof L.Polyline&&!(x instanceof L.Polygon)?B:(V=r.toGeoJSON(15),U=x.toGeoJSON(15),$=Ce(V),Z=Ce(U),!((tt=ar().intersection($.coordinates,Z.coordinates)).length===0||!(tt.length===1?Zn(tt[0]):qn(tt))))}catch{return x instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var V,U,$,Z,tt}).forEach(function(x){var B;if(x instanceof L.Polygon){var V=(B=L.polygon(x.getLatLngs())).getLatLngs();y.forEach(function(pt){if(pt&&pt.snapInfo){var Mt=pt.latlng,Bt=l._calcClosestLayer(Mt,[B]);if(Bt&&Bt.segment&&Bt.distance<l.options.snapDistance){var Kt=Bt.segment;if(Kt&&Kt.length===2){var se=L.PM.Utils._getIndexFromSegment(V,Kt),xe=se.indexPath,Zt=se.parentPath,ke=se.newIndex;(xe.length>1?wt()(V,Zt):V).splice(ke,0,Mt)}}}})}else B=x;var U=l._cutLayer(r,B),$=L.geoJSON(U,x.options);if($.getLayers().length===1){var Z=$.getLayers();$=Di(Z,1)[0]}l._setPane($,"layerPane");var tt=$.addTo(l._map.pm._getContainingLayer());if(tt.pm.enable(x.pm.options),tt.pm.disable(),x._pmTempLayer=!0,r._pmTempLayer=!0,x.remove(),x.removeFrom(l._map.pm._getContainingLayer()),r.remove(),r.removeFrom(l._map.pm._getContainingLayer()),tt.getLayers&&tt.getLayers().length===0&&l._map.pm.removeLayer({target:tt}),tt instanceof L.LayerGroup&&tt.eachLayer(function(pt){l._addDrawnLayerProp(pt)}),l._addDrawnLayerProp(tt),l.options.layersToCut&&L.Util.isArray(l.options.layersToCut)&&l.options.layersToCut.length>0){var mt=l.options.layersToCut.indexOf(x);mt>-1&&l.options.layersToCut.splice(mt,1)}l._editedLayers.push({layer:tt,originalLayer:x})})},_cutLayer:function(r,l){var d,y,x,B,V,U,$=L.geoJSON();if(l instanceof L.Polygon)y=l.toGeoJSON(15),x=r.toGeoJSON(15),B=Ce(y),V=Ce(x),d=(U=ar().difference(B.coordinates,V.coordinates)).length===0?null:U.length===1?Zn(U[0]):qn(U);else{var Z=oe(l);Z.forEach(function(tt){var mt=Wr(tt,r.toGeoJSON(15));(mt&&mt.features.length>0?L.geoJSON(mt):L.geoJSON(tt)).getLayers().forEach(function(pt){Us(r.toGeoJSON(15),pt.toGeoJSON(15))||pt.addTo($)})}),d=Z.length>1?Re($):$.toGeoJSON(15)}return d},_change:L.Util.falseFn}),z.Text=z.extend({initialize:function(r){this._map=r,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(r){L.Util.setOptions(this,r),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(It("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(r){this.enabled()?this.disable():this.enable(r)},_syncHintMarker:function(r){if(this._hintMarker.setLatLng(r.latlng),this.options.snappable){var l=r;l.target=this._hintMarker,this._handleSnapping(l)}},_createMarker:function(r){var l;if(r.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(r.latlng);var d=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(l=this.options.textOptions)!==null&&l!==void 0&&l.className){var y,x=this.options.textOptions.className.split(" ");(y=this.textArea.classList).add.apply(y,rn(x))}var B=this._createTextIcon(this.textArea),V=new L.Marker(d,{textMarker:!0,_textMarkerOverPM:!0,icon:B});if(this._setPane(V,"markerPane"),this._finishLayer(V),V.pm||(V.options.draggable=!1),V.addTo(this._map.pm._getContainingLayer()),V.pm){var U,$,Z,tt,mt;V.pm.textArea=this.textArea,L.setOptions(V.pm,{removeIfEmpty:(U=($=this.options.textOptions)===null||$===void 0?void 0:$.removeIfEmpty)===null||U===void 0||U});var pt=(Z=(tt=this.options.textOptions)===null||tt===void 0?void 0:tt.focusAfterDraw)===null||Z===void 0||Z;V.pm._createTextMarker(pt),(mt=this.options.textOptions)!==null&&mt!==void 0&&mt.text&&V.pm.setText(this.options.textOptions.text)}this._fireCreate(V),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var r=document.createElement("textarea");return r.autofocus=!0,r.readOnly=!0,r.classList.add("pm-textarea","pm-disabled"),r},_createTextIcon:function(r){return L.divIcon({className:"pm-text-marker",html:r})}});const Qr={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,jt(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var r=this._getDOMElem();r&&(jt(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(r)):L.DomEvent.on(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,jt(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var r=this._getDOMElem();r&&(jt(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(r)):L.DomEvent.off(r,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(r){var l=r.touches?r.touches[0]:r,d={originalEvent:l,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(l),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseDown(d),!1},_simulateMouseMoveEvent:function(r){var l=r.touches?r.touches[0]:r,d={originalEvent:l,target:this._layer};return d.containerPoint=this._map.mouseEventToContainerPoint(l),d.latlng=this._map.containerPointToLatLng(d.containerPoint),this._dragMixinOnMouseMove(d),!1},_simulateMouseUpEvent:function(r){var l={originalEvent:r.touches?r.touches[0]:r,target:this._layer};return r.type.indexOf("touch")===-1&&(l.containerPoint=this._map.mouseEventToContainerPoint(r),l.latlng=this._map.containerPointToLatLng(l.containerPoint)),this._dragMixinOnMouseUp(l),!1},_dragMixinOnMouseDown:function(r){if(!(r.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(r);var l=r._fromLayerSync,d=this._syncLayers("_dragMixinOnMouseDown",r);this._layer instanceof L.Marker&&(!this.options.snappable||l||d?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||l||d?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=r.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(r){this._overwriteEventIfItComesFromMarker(r);var l=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",r),this._dragging||(this._dragging=!0,L.DomUtil.addClass(l,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=r.latlng),this._onLayerDrag(r),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(r){var l=this,d=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",r),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){l._dragging=!1,d&&L.DomUtil.removeClass(d,"leaflet-pm-dragging"),l._fireDragEnd(),l._fireEdit(),l._layerEdited=!0},10),!0)},_onLayerDrag:function(r){var l=r.latlng,d=l.lat-this._tempDragCoord.lat,y=l.lng-this._tempDragCoord.lng,x=function tt(mt){return mt.map(function(pt){if(Array.isArray(pt))return tt(pt);var Mt={lat:pt.lat+d,lng:pt.lng+y};return(pt.alt||pt.alt===0)&&(Mt.alt=pt.alt),Mt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var B=x([this._layer.getLatLng()]);this._layer.setLatLng(B[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var V=this._layer.getLatLng();this._layer._snapped&&(V=this._layer._orgLatLng);var U=x([V]);this._layer.setLatLng(U[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var $=x([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds($),this._fireChange(this._layer.getBounds(),"Edit")}else{var Z=x(this._layer.getLatLngs());this._layer.setLatLngs(Z),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=l,r.layer=this._layer,this._fireDrag(r)},addDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.addClass(r,"leaflet-pm-draggable")},removeDraggingClass:function(){var r=this._getDOMElem();r&&L.DomUtil.removeClass(r,"leaflet-pm-draggable")},_getDOMElem:function(){var r=null;return this._layer._path?r=this._layer._path:this._layer._renderer&&this._layer._renderer._container?r=this._layer._renderer._container:this._layer._image?r=this._layer._image:this._layer._icon&&(r=this._layer._icon),r},_overwriteEventIfItComesFromMarker:function(r){r.target.getLatLng&&(!r.target._radius||r.target._radius<=10)&&(r.containerPoint=this._map.mouseEventToContainerPoint(r.originalEvent),r.latlng=this._map.containerPointToLatLng(r.containerPoint))},_syncLayers:function(r,l){var d=this;if(this.enabled())return!1;if(!l._fromLayerSync&&this._layer===l.target&&this.options.syncLayersOnDrag){l._fromLayerSync=!0;var y=[];if(L.Util.isArray(this.options.syncLayersOnDrag))y=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(V){V instanceof L.LayerGroup&&(y=y.concat(V.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var x in this._parentLayerGroup){var B=this._parentLayerGroup[x];B.pm&&(y=B.pm.getLayers(!0))}return L.Util.isArray(y)&&y.length>0&&(y=y.filter(function(V){return!!V.pm}).filter(function(V){return!!V.pm.options.draggable})).forEach(function(V){V!==d._layer&&V.pm[r]&&(V._snapped=!1,V.pm[r](l))}),y.length>0}return!1},_stopDOMImageDrag:function(r){return r.preventDefault(),!1}};function Dn(r,l,d){var y=d.getMaxZoom();if(y===1/0&&(y=d.getZoom()),L.Util.isArray(r)){var x=[];return r.forEach(function(B){x.push(Dn(B,l,d))}),x}return r instanceof L.LatLng?function(B,V,U,$){return U.unproject(V.transform(U.project(B,$)),$)}(r,l,d,y):null}function Ee(r,l){l instanceof L.Layer&&(l=l.getLatLng());var d=r.getMaxZoom();return d===1/0&&(d=r.getZoom()),r.project(l,d)}function mn(r,l){var d=r.getMaxZoom();return d===1/0&&(d=r.getZoom()),r.unproject(l,d)}var Or={_onRotateStart:function(r){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Ee(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Ee(this._map,r.target.getLatLng()),this._initialRotateLatLng=St(this._layer),this._startAngle=this.getAngle();var l=St(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,l),this._fireRotationStart(this._map,l)},_onRotate:function(r){var l=Ee(this._map,r.target.getLatLng()),d=this._rotationStartPoint,y=this._rotationOriginPoint,x=Math.atan2(l.y-y.y,l.x-y.x)-Math.atan2(d.y-y.y,d.x-y.x);this._layer.setLatLngs(this._rotateLayer(x,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var B=this;(function Z(tt){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(pt>-1&&mt.push(pt),L.Util.isArray(tt[0]))tt.forEach(function(Bt,Kt){return Z(Bt,mt.slice(),Kt)});else{var Mt=wt()(B._markers,mt);tt.forEach(function(Bt,Kt){Mt[Kt].setLatLng(Bt)})}})(this._layer.getLatLngs());var V=St(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(x,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var U=180*x/Math.PI,$=(U=U<0?U+360:U)+this._startAngle;this._setAngle($),this._rotationLayer.pm._setAngle($),this._fireRotation(this._rotationLayer,U,V),this._fireRotation(this._map,U,V),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var r=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var l=St(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=St(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,r,l),this._fireRotationEnd(this._map,r,l),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(r,l,d,y,x){var B=Ee(x,d);return this._matrix=y.clone().rotate(r,B).flip(),Dn(l,this._matrix,x)},_setAngle:function(r){r=r<0?r+360:r,this._angle=r%360},_getRotationCenter:function(){var r=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),l=r.getCenter();return r.removeFrom(this._layer._map),l},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=St(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(r){var l=this.getAngle(),d=this._layer.getLatLngs(),y=r*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(y,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+r),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(y,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var x=this.getAngle()-l;x=x<0?x+360:x,this._startAngle=l,this._fireRotation(this._layer,x,d,this._layer),this._fireRotation(this._map||this._layer._map,x,d,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(r){var l=r-this.getAngle();this.rotateLayer(l)},getAngle:function(){return this._angle||0},setInitAngle:function(r){this._setAngle(r)}};const Ar=Or,Be=L.Class.extend({includes:[Qr,R,Ar,Tt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(r){L.Util.setOptions(this,r)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(r,l){l==="layerPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(r.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(r,l){var d=l.target,y={layer:this._layer,marker:d,event:l},x="";return r==="move"?x="moveVertexValidation":r==="add"?x="addVertexValidation":r==="remove"&&(x="removeVertexValidation"),this.options[x]&&typeof this.options[x]=="function"&&!this.options[x](y)?(r==="move"&&(d._cancelDragEventChain=d.getLatLng()),!1):(d._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(r){return!r._cancelDragEventChain||(r._latlng=r._cancelDragEventChain,r.update(),!1)},_vertexValidationDragEnd:function(r){return!r._cancelDragEventChain||(r._cancelDragEventChain=null,!1)}});function zn(r){return function(l){if(Array.isArray(l))return Rr(l)}(r)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(r)||function(l,d){if(l){if(typeof l=="string")return Rr(l,d);var y=Object.prototype.toString.call(l).slice(8,-1);if(y==="Object"&&l.constructor&&(y=l.constructor.name),y==="Map"||y==="Set")return Array.from(l);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Rr(l,d)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rr(r,l){(l==null||l>r.length)&&(l=r.length);for(var d=0,y=new Array(l);d<l;d++)y[d]=r[d];return y}Be.LayerGroup=L.Class.extend({initialize:function(r){var l=this;this._layerGroup=r,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(d){return l._initLayer(d)}),this._layerGroup.on("layeradd",L.Util.throttle(function(d){if(!d.layer._pmTempLayer){l._layers=l.getLayers();var y=l._layers.filter(function(x){return!x.pm._parentLayerGroup||!(l._layerGroup._leaflet_id in x.pm._parentLayerGroup)});y.forEach(function(x){l._initLayer(x)}),y.length>0&&l._getMap()&&l._getMap().pm.globalEditModeEnabled()&&l.enabled()&&l.enable(l.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(d){l._removeLayerFromGroup(d.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(d){d.target._pmTempLayer||(l._layers=l.getLayers())},100,this),this)},enable:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(d){d instanceof L.LayerGroup?l.indexOf(d._leaflet_id)===-1&&(l.push(d._leaflet_id),d.pm.enable(r,l)):d.pm.enable(r)})},disable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(l){l instanceof L.LayerGroup?r.indexOf(l._leaflet_id)===-1&&(r.push(l._leaflet_id),l.pm.disable(r)):l.pm.disable()})},enabled:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];r.length===0&&(this._layers=this.getLayers());var l=this._layers.find(function(d){return d instanceof L.LayerGroup?r.indexOf(d._leaflet_id)===-1&&(r.push(d._leaflet_id),d.pm.enabled(r)):d.pm.enabled()});return!!l},toggleEdit:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this._options=r,this._layers.forEach(function(d){d instanceof L.LayerGroup?l.indexOf(d._leaflet_id)===-1&&(l.push(d._leaflet_id),d.pm.toggleEdit(r,l)):d.pm.toggleEdit(r)})},_initLayer:function(r){var l=L.Util.stamp(this._layerGroup);r.pm._parentLayerGroup||(r.pm._parentLayerGroup={}),r.pm._parentLayerGroup[l]=this._layerGroup},_removeLayerFromGroup:function(r){if(r.pm&&r.pm._layerGroup){var l=L.Util.stamp(this._layerGroup);delete r.pm._layerGroup[l]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var r=this._layers.find(function(l){return l.pm.dragging()});return!!r}return!1},getOptions:function(){return this.options},_getMap:function(){var r;return this._map||((r=this._layers.find(function(l){return!!l._map}))===null||r===void 0?void 0:r._map)||null},getLayers:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],x=[];return r?this._layerGroup.getLayers().forEach(function(B){x.push(B),B instanceof L.LayerGroup&&y.indexOf(B._leaflet_id)===-1&&(y.push(B._leaflet_id),x=x.concat(B.pm.getLayers(!0,!0,!0,y)))}):x=this._layerGroup.getLayers(),d&&(x=x.filter(function(B){return!(B instanceof L.LayerGroup)})),l&&(x=(x=(x=x.filter(function(B){return!!B.pm})).filter(function(B){return!B._pmTempLayer})).filter(function(B){return!L.PM.optIn&&!B.options.pmIgnore||L.PM.optIn&&B.options.pmIgnore===!1})),x},setOptions:function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this.options=r,this._layers.forEach(function(d){d.pm&&(d instanceof L.LayerGroup?l.indexOf(d._leaflet_id)===-1&&(l.push(d._leaflet_id),d.pm.setOptions(r,l)):d.pm.setOptions(r))})}}),Be.Marker=Be.extend({_shape:"Marker",initialize:function(r){this._layer=r,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(r){var l=r.target;l.remove(),this._fireRemove(l),this._fireRemove(this._map,l)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)}});const ji={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var r=[].concat(zn(this._markerGroup.getLayers()),zn(this.markerCache));this.markerCache=r.filter(function(l,d,y){return y.indexOf(l)===d})},renderLimits:function(r){var l=this;this.markerCache.forEach(function(d){r.includes(d)?l._markerGroup.addLayer(d):l._markerGroup.removeLayer(d)})},applyLimitFilters:function(r){var l=r.latlng,d=l===void 0?{lat:0,lng:0}:l;if(!this._preventRenderMarkers){var y=zn(this._filterClosestMarkers(d));this.renderLimits(y)}},_filterClosestMarkers:function(r){var l=zn(this.markerCache),d=this.options.limitMarkersToCount;return d===-1?l:(l.sort(function(y,x){return y._latlng.distanceTo(r)-x._latlng.distanceTo(r)}),l.filter(function(y,x){return!(d>-1)||x<d}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(r){this._preventRenderMarkers=!!r}};function ti(r,l){return function(d){if(Array.isArray(d))return d}(r)||function(d,y){var x=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(x!=null){var B,V,U=[],$=!0,Z=!1;try{for(x=x.call(d);!($=(B=x.next()).done)&&(U.push(B.value),!y||U.length!==y);$=!0);}catch(tt){Z=!0,V=tt}finally{try{$||x.return==null||x.return()}finally{if(Z)throw V}}return U}}(r,l)||function(d,y){if(d){if(typeof d=="string")return ei(d,y);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return ei(d,y)}}(r,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ei(r,l){(l==null||l>r.length)&&(l=r.length);for(var d=0,y=new Array(l);d<l;d++)y[d]=r[d];return y}function Ni(r){return function(l){if(Array.isArray(l))return lr(l)}(r)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(r)||function(l,d){if(l){if(typeof l=="string")return lr(l,d);var y=Object.prototype.toString.call(l).slice(8,-1);if(y==="Object"&&l.constructor&&(y=l.constructor.name),y==="Map"||y==="Set")return Array.from(l);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return lr(l,d)}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lr(r,l){(l==null||l>r.length)&&(l=r.length);for(var d=0,y=new Array(l);d<l;d++)y[d]=r[d];return y}Be.Line=Be.extend({includes:[ji],_shape:"Line",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(r,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){return this.enabled()?this.disable():this.enable(r),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var r=this,l=this._map,d=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function y(x){if(Array.isArray(x[0]))return x.map(y,r);var B=x.map(r._createMarker,r);return r.options.hideMiddleMarkers!==!0&&x.map(function(V,U){var $=r.isPolygon()?(U+1)%x.length:U+1;return r._createMiddleMarker(B[U],B[$])}),B}(d),this.filterMarkerGroup(),l.addLayer(this._markerGroup)},_createMarker:function(r){var l=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this.options.rotate?(l.on("dragstart",this._onRotateStart,this),l.on("drag",this._onRotate,this),l.on("dragend",this._onRotateEnd,this)):(l.on("click",this._onVertexClick,this),l.on("dragstart",this._onMarkerDragStart,this),l.on("move",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||l.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(l),l},_createMiddleMarker:function(r,l){if(!r||!l)return!1;var d=L.PM.Utils.calcMiddleLatLng(this._map,r.getLatLng(),l.getLatLng()),y=this._createMarker(d),x=L.divIcon({className:"marker-icon marker-icon-middle"});return y.setIcon(x),y.leftM=r,y.rightM=l,r._middleMarkerNext=y,l._middleMarkerPrev=y,y.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),y.on("movestart",this._onMiddleMarkerMoveStart,this),y},_onMiddleMarkerClick:function(r){var l=r.target;if(this._vertexValidation("add",r)){var d=L.divIcon({className:"marker-icon"});l.setIcon(d),this._addMarker(l,l.leftM,l.rightM)}},_onMiddleMarkerMoveStart:function(r){var l=r.target;l.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",r)?(l._dragging=!0,this._addMarker(l,l.leftM,l.rightM)):l.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(r){var l=r.target;this._vertexValidationDrag(l)},_onMiddleMarkerMoveEnd:function(r){var l=r.target;if(l.off("move",this._onMiddleMarkerMovePrevent,this),l.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(l)){var d=L.divIcon({className:"marker-icon"});l.setIcon(d),setTimeout(function(){delete l._dragging},100)}},_addMarker:function(r,l,d){r.off("movestart",this._onMiddleMarkerMoveStart,this),r.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var y=r.getLatLng(),x=this._layer._latlngs;delete r.leftM,delete r.rightM;var B=L.PM.Utils.findDeepMarkerIndex(this._markers,l),V=B.indexPath,U=B.index,$=B.parentPath,Z=V.length>1?wt()(x,$):x,tt=V.length>1?wt()(this._markers,$):this._markers;Z.splice(U+1,0,y),tt.splice(U+1,0,r),this._layer.setLatLngs(x),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(l,r),this._createMiddleMarker(r,d)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(r,L.PM.Utils.findDeepMarkerIndex(this._markers,r).indexPath,y),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return he(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(r){var l=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;r?this._flashLayer():(l.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(he(this._layer.toGeoJSON(15)))}else l.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var r=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){r._layer.setStyle({color:r.cachedColor}),r.isRed=!1},200)},_updateDisabledMarkerStyle:function(r,l){var d=this;r.forEach(function(y){Array.isArray(y)?d._updateDisabledMarkerStyle(y,l):y._icon&&(l&&!d._checkMarkerAllowedToDrag(y)?L.DomUtil.addClass(y._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(y._icon,"vertexmarker-disabled"))})},_removeMarker:function(r){var l=r.target;if(this._vertexValidation("remove",r)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=St(this._layer,this._layer.getLatLngs()));var d=this._layer.getLatLngs(),y=L.PM.Utils.findDeepMarkerIndex(this._markers,l),x=y.indexPath,B=y.index,V=y.parentPath;if(x){var U=x.length>1?wt()(d,V):d,$=x.length>1?wt()(this._markers,V):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(U.length<=2||this.isPolygon()&&U.length<=3)){U.splice(B,1),this._layer.setLatLngs(d),this.isPolygon()&&U.length<=2&&U.splice(0,U.length);var Z=!1;if(U.length<=1&&(U.splice(0,U.length),V.length>1&&x.length>1&&(d=Me(d)),this._layer.setLatLngs(d),this._initMarkers(),Z=!0),Ut(d)||this._layer.remove(),d=Me(d),this._layer.setLatLngs(d),this._markers=Me(this._markers),!Z&&($=x.length>1?wt()(this._markers,V):this._markers,l._middleMarkerPrev&&this._markerGroup.removeLayer(l._middleMarkerPrev),l._middleMarkerNext&&this._markerGroup.removeLayer(l._middleMarkerNext),this._markerGroup.removeLayer(l),$)){var tt,mt;if(this.isPolygon()?(tt=(B+1)%$.length,mt=(B+($.length-1))%$.length):(mt=B-1<0?void 0:B-1,tt=B+1>=$.length?void 0:B+1),tt!==mt){var pt=$[mt],Mt=$[tt];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(pt,Mt)}$.splice(B,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(l,x),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(r){var l=this._layer.getLatLngs(),d=r.getLatLng(),y=L.PM.Utils.findDeepMarkerIndex(this._markers,r),x=y.indexPath,B=y.index,V=y.parentPath;(x.length>1?wt()(l,V):l).splice(B,1,d),this._layer.setLatLngs(l)},_getNeighborMarkers:function(r){var l=L.PM.Utils.findDeepMarkerIndex(this._markers,r),d=l.indexPath,y=l.index,x=l.parentPath,B=d.length>1?wt()(this._markers,x):this._markers,V=(y+1)%B.length;return{prevMarker:B[(y+(B.length-1))%B.length],nextMarker:B[V]}},_checkMarkerAllowedToDrag:function(r){var l=this._getNeighborMarkers(r),d=l.prevMarker,y=l.nextMarker,x=L.polyline([d.getLatLng(),r.getLatLng()]),B=L.polyline([r.getLatLng(),y.getLatLng()]),V=Bn(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,U=Bn(this._layer.toGeoJSON(15),B.toGeoJSON(15)).features.length;return r.getLatLng()===this._markers[0][0].getLatLng()?U+=1:r.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(V+=1),!(V<=2&&U<=2)},_onMarkerDragStart:function(r){var l=r.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",r)){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath;this._fireMarkerDragStart(r,d),this.options.allowSelfIntersection||(this._coordsBeforeEdit=St(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(l):this._markerAllowedToDrag=null}},_onMarkerDrag:function(r){var l=r.target;if(this._vertexValidationDrag(l)){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,l),y=d.indexPath,x=d.index,B=d.parentPath;if(y){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(l);var V=y.length>1?wt()(this._markers,B):this._markers,U=(x+1)%V.length,$=(x+(V.length-1))%V.length,Z=l.getLatLng(),tt=V[$].getLatLng(),mt=V[U].getLatLng();if(l._middleMarkerNext){var pt=L.PM.Utils.calcMiddleLatLng(this._map,Z,mt);l._middleMarkerNext.setLatLng(pt)}if(l._middleMarkerPrev){var Mt=L.PM.Utils.calcMiddleLatLng(this._map,Z,tt);l._middleMarkerPrev.setLatLng(Mt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(r,y),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(r){var l=r.target;if(this._vertexValidationDragEnd(l)){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath,y=this.hasSelfIntersection();y&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(y=!1);var x=!this.options.allowSelfIntersection&&y;if(this._fireMarkerDragEnd(r,d,x),x)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(r,d);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(r){var l=r.target;if(!l._dragging){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath;this._fireVertexClick(r,d)}}}),Be.Polygon=Be.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(r){var l=this._getNeighborMarkers(r),d=l.prevMarker,y=l.nextMarker,x=L.polyline([d.getLatLng(),r.getLatLng()]),B=L.polyline([r.getLatLng(),y.getLatLng()]),V=Bn(this._layer.toGeoJSON(15),x.toGeoJSON(15)).features.length,U=Bn(this._layer.toGeoJSON(15),B.toGeoJSON(15)).features.length;return!(V<=2&&U<=2)}}),Be.Rectangle=Be.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var r=this,l=this._map,d=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,l.addLayer(this._markerGroup),this._markers=[],this._markers[0]=d.map(this._createMarker,this);var y=ti(this._markers,1);this._cornerMarkers=y[0],this._layer.getLatLngs()[0].forEach(function(x,B){var V=r._cornerMarkers.find(function(U){return U._index===B});V&&V.setLatLng(x)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(r,l){var d=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=r,d._index=l,d._pmTempLayer=!0,this._markerGroup.addLayer(d),d},_addMarkerEvents:function(){var r=this;this._markers[0].forEach(function(l){l.on("dragstart",r._onMarkerDragStart,r),l.on("drag",r._onMarkerDrag,r),l.on("dragend",r._onMarkerDragEnd,r),r.options.preventMarkerRemoval||l.on("contextmenu",r._removeMarker,r)})},_removeMarker:function(){return null},_onMarkerDragStart:function(r){if(this._vertexValidation("move",r)){var l=r.target,d=this._cornerMarkers;l._oppositeCornerLatLng=d.find(function(y){return y._index===(l._index+2)%4}).getLatLng(),l._snapped=!1,this._fireMarkerDragStart(r)}},_onMarkerDrag:function(r){var l=r.target;this._vertexValidationDrag(l)&&l._index!==void 0&&(this._adjustRectangleForMarkerMove(l),this._fireMarkerDrag(r),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(r){var l=r.target;this._vertexValidationDragEnd(l)&&(this._cornerMarkers.forEach(function(d){delete d._oppositeCornerLatLng}),this._fireMarkerDragEnd(r),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(r){L.extend(r._origLatLng,r._latlng);var l=L.PM.Utils._getRotatedRectangle(r.getLatLng(),r._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(l),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var r=this,l=this._layer.getLatLngs()[0];l&&l.length!==4&&l.length>0?(l.forEach(function(d,y){r._cornerMarkers[y].setLatLng(d)}),this._cornerMarkers.slice(l.length).forEach(function(d){d.setLatLng(l[0])})):l&&l.length?this._cornerMarkers.forEach(function(d){d.setLatLng(l[d._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var r=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(r[0],r[2],this._angle||0,this._map)}}),Be.Circle=Be.extend({_shape:"Circle",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(r){L.Util.setOptions(this,r),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var r=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(r,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var l=this._layer.getLatLng(),d=this._layer._radius,y=this._getLatLngOnCircle(l,d);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(y),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(r,l){var d=r.getLatLng(),y=l.getLatLng();this._hintline=L.polyline([d,y],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var l=this._createMarker(r);return L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"),l.on("drag",this._moveCircle,this),l.on("dragstart",this._onCircleDragStart,this),l.on("drag",this._onCircleDrag,this),l.on("dragend",this._onCircleDragEnd,this),l},_createOuterMarker:function(r){var l=this._createMarker(r);return l.on("drag",this._resizeCircle,this),l},_createMarker:function(r){var l=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=r,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(l),l},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(r){if(!r.target._cancelDragEventChain){var l=r.latlng;this._layer.setLatLng(l);var d=this._layer._radius,y=this._getLatLngOnCircle(l,d);this._outerMarker._latlng=y,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._map.distance(r,l);this.options.minRadiusCircle&&d<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(d),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,l])},_disableSnapping:function(){var r=this;this._markers.forEach(function(l){l.off("move",r._syncHintLine,r),l.off("move",r._syncCircleRadius,r),l.off("drag",r._handleSnapping,r),l.off("dragend",r._cleanupSnapping,r)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var l=r.target;this._vertexValidationDrag(l)&&this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){var l=r.target;this._vertexValidationDragEnd(l)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(r))},_onCircleDragStart:function(r){this._vertexValidationDrag(r.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(r){this._vertexValidationReset||this._fireDrag(r)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var r=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!r).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!r),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(r,l){var d=this._map.project(r),y=L.point(d.x+l,d.y);return this._map.unproject(y)},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._map.distance(r,l);return this.options.minRadiusCircle&&d<this.options.minRadiusCircle?l=Vt(this._map,r,l,this.options.minRadiusCircle):this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle&&(l=Vt(this._map,r,l,this.options.maxRadiusCircle)),l},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._map.distance(r,l);(this.options.minRadiusCircle&&d<this.options.minRadiusCircle||this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Be.CircleMarker=Be.extend({_shape:"CircleMarker",initialize:function(r){this._layer=r,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var r=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(r);var l=this._layer.getLatLng(),d=this._layer._radius,y=this._getLatLngOnCircle(l,d);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(y),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(r,l){var d=this._map.project(r),y=L.point(d.x+l,d.y);return this._map.unproject(y)},_createHintLine:function(r,l){var d=r.getLatLng(),y=l.getLatLng();this._hintline=L.polyline([d,y],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(r){var l=this._createMarker(r);return this.options.draggable?L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"):l.dragging.disable(),l},_createOuterMarker:function(r){var l=this._createMarker(r);return l.on("drag",this._resizeCircle,this),l},_createMarker:function(r){var l=new L.Marker(r,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=r,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(l),l},_moveCircle:function(){var r=this._centerMarker.getLatLng();this._layer.setLatLng(r);var l=this._layer._radius,d=this._getLatLngOnCircle(r,l);this._outerMarker._latlng=d,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var r=this._layer.getLatLng(),l=this._layer._radius,d=this._getLatLngOnCircle(r,l);this._outerMarker.setLatLng(d),this._centerMarker.setLatLng(r),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(l));this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(d),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([r,l])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(r){this._vertexValidation("move",r)&&this._fireMarkerDragStart(r)},_onMarkerDrag:function(r){var l=r.target;l instanceof L.Marker&&!this._vertexValidationDrag(l)||this._fireMarkerDrag(r)},_onMarkerDragEnd:function(r){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var l=r.target;this._vertexValidationDragEnd(l)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(r))},_initSnappableMarkersDrag:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var r=this._layer._map||this._map;if(r){var l=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),r,this._layer.getLatLng()),d=L.circle(this._layer.getLatLng(),this._layer.options);d.setRadius(l);var y=r&&r.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(d,200,!y).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(d,200,!y),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(l));return this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker?l=Vt(this._map,r,l,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,r)):this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker&&(l=Vt(this._map,r,l,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,r))),l},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var r=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),d=this._map.project(r).distanceTo(this._map.project(l));(this.options.minRadiusCircleMarker&&d<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&d>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Be.ImageOverlay=Be.extend({_shape:"ImageOverlay",initialize:function(r){this._layer=r,this._enabled=!1},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},enabled:function(){return this._enabled},enable:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,r),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var r=this._layer.getBounds();return[r.getNorthWest(),r.getNorthEast(),r.getSouthEast(),r.getSouthWest()]}}),Be.Text=Be.extend({_shape:"Text",initialize:function(r){this._layer=r,this._enabled=!1},enable:function(r){L.Util.setOptions(this,r),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var r=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),r.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(r){this.enabled()?this.disable():this.enable(r)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var r=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,r.off("pm:drag",this._handleSnapping,this),r.on("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.on("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this),r.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var r=this._layer;r.off("pm:drag",this._handleSnapping,this),r.off("pm:dragend",this._cleanupSnapping,this),r.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var r=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,l=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(r,"px"),this.textArea.style.width="".concat(l,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var r=this;this._disableOnBlurActive=!0,setTimeout(function(){r.enabled()&&L.DomEvent.on(document,"click",r._documentClick,r)},100)},_documentClick:function(r){r.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=this._hasFocus;this._hasFocus=r.type==="focus",!l!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(r){this.textArea.value=r,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var r,l=this.options.className.split(" ");(r=this.textArea.classList).add.apply(r,Ni(l))}var d=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(d),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),r===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(r){r.preventDefault()}});var ni=function(r,l,d,y,x,B){this._matrix=[r,l,d,y,x,B]};ni.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ni.prototype={transform:function(r){return this._transform(r.clone())},_transform:function(r){var l=this._matrix,d=r.x,y=r.y;return r.x=l[0]*d+l[1]*y+l[4],r.y=l[2]*d+l[3]*y+l[5],r},untransform:function(r){var l=this._matrix;return new L.Point((r.x/l[0]-l[4])/l[0],(r.y/l[2]-l[5])/l[2])},clone:function(){var r=this._matrix;return new L.PM.Matrix(r[0],r[1],r[2],r[3],r[4],r[5])},translate:function(r){return r===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof r=="number"?(l=r,d=r):(l=r.x,d=r.y),this._add(1,0,0,1,l,d));var l,d},scale:function(r,l){return r===void 0?new L.Point(this._matrix[0],this._matrix[3]):(l=l||L.point(0,0),typeof r=="number"?(d=r,y=r):(d=r.x,y=r.y),this._add(d,0,0,y,l.x,l.y)._add(1,0,0,1,-l.x,-l.y));var d,y},rotate:function(r,l){var d=Math.cos(r),y=Math.sin(r);return l=l||new L.Point(0,0),this._add(d,y,-y,d,l.x,l.y)._add(1,0,0,1,-l.x,-l.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(r,l,d,y,x,B){var V,U=[[],[],[]],$=this._matrix,Z=[[$[0],$[2],$[4]],[$[1],$[3],$[5]],[0,0,1]],tt=[[r,d,x],[l,y,B],[0,0,1]];r&&r instanceof L.PM.Matrix&&(tt=[[($=r._matrix)[0],$[2],$[4]],[$[1],$[3],$[5]],[0,0,1]]);for(var mt=0;mt<3;mt+=1)for(var pt=0;pt<3;pt+=1){V=0;for(var Mt=0;Mt<3;Mt+=1)V+=Z[mt][Mt]*tt[Mt][pt];U[mt][pt]=V}return this._matrix=[U[0][0],U[1][0],U[0][1],U[1][1],U[0][2],U[1][2]],this}};const Gi=ni;var Zs={calcMiddleLatLng:function(r,l,d){var y=r.project(l),x=r.project(d);return r.unproject(y._add(x)._divideBy(2))},findLayers:function(r){var l=[];return r.eachLayer(function(d){(d instanceof L.Polyline||d instanceof L.Marker||d instanceof L.Circle||d instanceof L.CircleMarker||d instanceof L.ImageOverlay)&&l.push(d)}),l=(l=(l=l.filter(function(d){return!!d.pm})).filter(function(d){return!d._pmTempLayer})).filter(function(d){return!L.PM.optIn&&!d.options.pmIgnore||L.PM.optIn&&d.options.pmIgnore===!1})},circleToPolygon:function(r){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,d=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],y=r.getLatLng(),x=r.getRadius(),B=le(y,x,l,0,d),V=[],U=0;U<B.length;U+=1){var $=[B[U].lat,B[U].lng];V.push($)}return L.polygon(V,r.options)},disablePopup:function(r){r.getPopup()&&(r._tempPopupCopy=r.getPopup(),r.unbindPopup())},enablePopup:function(r){r._tempPopupCopy&&(r.bindPopup(r._tempPopupCopy),delete r._tempPopupCopy)},_fireEvent:function(r,l,d){var y=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.fire(l,d,y);var x=this.getAllParentGroups(r),B=x.groups;B.forEach(function(V){V.fire(l,d,y)})},getAllParentGroups:function(r){var l=[],d=[];return!r._pmLastGroupFetch||!r._pmLastGroupFetch.time||new Date().getTime()-r._pmLastGroupFetch.time>1e3?(function y(x){for(var B in x._eventParents)if(l.indexOf(B)===-1){l.push(B);var V=x._eventParents[B];d.push(V),y(V)}}(r),r._pmLastGroupFetch={time:new Date().getTime(),groups:d,groupIds:l},{groupIds:l,groups:d}):{groups:r._pmLastGroupFetch.groups,groupIds:r._pmLastGroupFetch.groupIds}},createGeodesicPolygon:le,getTranslation:It,findDeepCoordIndex:function(r,l){var d,y=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],x=function V(U){return function($,Z){var tt=U.concat(Z);if(y){if($.lat&&$.lat===l.lat&&$.lng===l.lng)return d=tt,!0}else if($.lat&&L.latLng($).equals(l))return d=tt,!0;return Array.isArray($)&&$.some(V(tt))}};r.some(x([]));var B={};return d&&(B={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),B},findDeepMarkerIndex:function(r,l){var d;r.some(function x(B){return function(V,U){var $=B.concat(U);return V._leaflet_id===l._leaflet_id?(d=$,!0):Array.isArray(V)&&V.some(x($))}}([]));var y={};return d&&(y={indexPath:d,index:d[d.length-1],parentPath:d.slice(0,d.length-1)}),y},_getIndexFromSegment:function(r,l){if(l&&l.length===2){var d=this.findDeepCoordIndex(r,l[0]),y=this.findDeepCoordIndex(r,l[1]),x=Math.max(d.index,y.index);return d.index!==0&&y.index!==0||x===1||(x+=1),{indexA:d,indexB:y,newIndex:x,indexPath:d.indexPath,parentPath:d.parentPath}}return null},_getRotatedRectangle:function(r,l,d,y){var x=Ee(y,r),B=Ee(y,l),V=d*Math.PI/180,U=Math.cos(V),$=Math.sin(V),Z=(B.x-x.x)*U+(B.y-x.y)*$,tt=(B.y-x.y)*U-(B.x-x.x)*$,mt=Z*U+x.x,pt=Z*$+x.y,Mt=-tt*$+x.x,Bt=tt*U+x.y;return[mn(y,x),mn(y,{x:mt,y:pt}),mn(y,B),mn(y,{x:Mt,y:Bt})]},pxRadiusToMeterRadius:function(r,l,d){var y=l.project(d),x=L.point(y.x+r,y.y);return l.distance(l.unproject(x),d)}};const re=Zs;L.PM=L.PM||{version:"2.14.2",Map:ue,Toolbar:xt,Draw:z,Edit:Be,Utils:re,Matrix:Gi,activeLang:"en",optIn:!1,initialize:function(r){this.addInitHooks(r)},setOptIn:function(r){this.optIn=!!r},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(r){var l=this;r instanceof L.LayerGroup&&r.eachLayer(function(d){l.reInitLayer(d)}),r.pm||L.PM.optIn&&r.options.pmIgnore!==!1||r.options.pmIgnore||(r instanceof L.Map?r.pm=new L.PM.Map(r):r instanceof L.Marker?r.options.textMarker?(r.pm=new L.PM.Edit.Text(r),r.pm._initTextMarker(),r.pm._createTextMarker(!1)):r.pm=new L.PM.Edit.Marker(r):r instanceof L.Circle?r.pm=new L.PM.Edit.Circle(r):r instanceof L.CircleMarker?r.pm=new L.PM.Edit.CircleMarker(r):r instanceof L.Rectangle?r.pm=new L.PM.Edit.Rectangle(r):r instanceof L.Polygon?r.pm=new L.PM.Edit.Polygon(r):r instanceof L.Polyline?r.pm=new L.PM.Edit.Line(r):r instanceof L.LayerGroup?r.pm=new L.PM.Edit.LayerGroup(r):r instanceof L.ImageOverlay&&(r.pm=new L.PM.Edit.ImageOverlay(r)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(r){for(var l,d,y=this._map.mouseEventToLayerPoint(r),x=this._drawFirst;x;x=x.next)(l=x.layer).options.interactive&&l._containsPoint(y)&&(r.type!=="click"&&r.type!=="preclick"||!this._map._draggableMoved(l))&&(d=l);d&&(L.DomEvent.fakeStop(r),this._fireEvent([d],r))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(a){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof a!="function")throw new TypeError("callback must be a function");for(var c=Object(this),i=c.length>>>0,u=arguments[1],h=0;h<i;h++)if(a.call(u,c[h],h,c))return h;return-1},Array.prototype.find=Array.prototype.find||function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("callback must be a function");for(var c=Object(this),i=c.length>>>0,u=arguments[1],h=0;h<i;h++){var f=c[h];if(a.call(u,f,h,c))return f}},typeof Object.assign!="function"&&(Object.assign=function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var c=1;c<arguments.length;c++){var i=arguments[c];if(i!=null)for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(a[u]=i[u])}return a}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,c){if(this==null)throw new TypeError('"this" is null or not defined');var i=Object(this),u=i.length>>>0;if(u===0)return!1;for(var h,f,m=0|c,g=Math.max(m>=0?m:u-Math.abs(m),0);g<u;){if((h=i[g])===(f=a)||typeof h=="number"&&typeof f=="number"&&isNaN(h)&&isNaN(f))return!0;g++}return!1}})},1787:(a,c,i)=>{var u=i(2582),h=i(4102),f=i(1540),m=i(9705).Z,g=f.featureEach,v=(f.coordEach,h.polygon,h.featureCollection);function M(A){var S=new u(A);return S.insert=function(E){if(E.type!=="Feature")throw new Error("invalid feature");return E.bbox=E.bbox?E.bbox:m(E),u.prototype.insert.call(this,E)},S.load=function(E){var G=[];return Array.isArray(E)?E.forEach(function(C){if(C.type!=="Feature")throw new Error("invalid features");C.bbox=C.bbox?C.bbox:m(C),G.push(C)}):g(E,function(C){if(C.type!=="Feature")throw new Error("invalid features");C.bbox=C.bbox?C.bbox:m(C),G.push(C)}),u.prototype.load.call(this,G)},S.remove=function(E,G){if(E.type!=="Feature")throw new Error("invalid feature");return E.bbox=E.bbox?E.bbox:m(E),u.prototype.remove.call(this,E,G)},S.clear=function(){return u.prototype.clear.call(this)},S.search=function(E){var G=u.prototype.search.call(this,this.toBBox(E));return v(G)},S.collides=function(E){return u.prototype.collides.call(this,this.toBBox(E))},S.all=function(){var E=u.prototype.all.call(this);return v(E)},S.toJSON=function(){return u.prototype.toJSON.call(this)},S.fromJSON=function(E){return u.prototype.fromJSON.call(this,E)},S.toBBox=function(E){var G;if(E.bbox)G=E.bbox;else if(Array.isArray(E)&&E.length===4)G=E;else if(Array.isArray(E)&&E.length===6)G=[E[0],E[1],E[3],E[4]];else if(E.type==="Feature")G=m(E);else{if(E.type!=="FeatureCollection")throw new Error("invalid geojson");G=m(E)}return{minX:G[0],minY:G[1],maxX:G[2],maxY:G[3]}},S}a.exports=M,a.exports.default=M},1989:(a,c,i)=>{var u=i(1789),h=i(401),f=i(7667),m=i(1327),g=i(1866);function v(M){var A=-1,S=M==null?0:M.length;for(this.clear();++A<S;){var E=M[A];this.set(E[0],E[1])}}v.prototype.clear=u,v.prototype.delete=h,v.prototype.get=f,v.prototype.has=m,v.prototype.set=g,a.exports=v},8407:(a,c,i)=>{var u=i(7040),h=i(4125),f=i(2117),m=i(7518),g=i(4705);function v(M){var A=-1,S=M==null?0:M.length;for(this.clear();++A<S;){var E=M[A];this.set(E[0],E[1])}}v.prototype.clear=u,v.prototype.delete=h,v.prototype.get=f,v.prototype.has=m,v.prototype.set=g,a.exports=v},7071:(a,c,i)=>{var u=i(852)(i(5639),"Map");a.exports=u},3369:(a,c,i)=>{var u=i(4785),h=i(1285),f=i(6e3),m=i(9916),g=i(5265);function v(M){var A=-1,S=M==null?0:M.length;for(this.clear();++A<S;){var E=M[A];this.set(E[0],E[1])}}v.prototype.clear=u,v.prototype.delete=h,v.prototype.get=f,v.prototype.has=m,v.prototype.set=g,a.exports=v},6384:(a,c,i)=>{var u=i(8407),h=i(7465),f=i(3779),m=i(7599),g=i(4758),v=i(4309);function M(A){var S=this.__data__=new u(A);this.size=S.size}M.prototype.clear=h,M.prototype.delete=f,M.prototype.get=m,M.prototype.has=g,M.prototype.set=v,a.exports=M},2705:(a,c,i)=>{var u=i(5639).Symbol;a.exports=u},1149:(a,c,i)=>{var u=i(5639).Uint8Array;a.exports=u},6874:a=>{a.exports=function(c,i,u){switch(u.length){case 0:return c.call(i);case 1:return c.call(i,u[0]);case 2:return c.call(i,u[0],u[1]);case 3:return c.call(i,u[0],u[1],u[2])}return c.apply(i,u)}},4636:(a,c,i)=>{var u=i(2545),h=i(5694),f=i(1469),m=i(4144),g=i(5776),v=i(6719),M=Object.prototype.hasOwnProperty;a.exports=function(A,S){var E=f(A),G=!E&&h(A),C=!E&&!G&&m(A),P=!E&&!G&&!C&&v(A),j=E||G||C||P,O=j?u(A.length,String):[],D=O.length;for(var W in A)!S&&!M.call(A,W)||j&&(W=="length"||C&&(W=="offset"||W=="parent")||P&&(W=="buffer"||W=="byteLength"||W=="byteOffset")||g(W,D))||O.push(W);return O}},9932:a=>{a.exports=function(c,i){for(var u=-1,h=c==null?0:c.length,f=Array(h);++u<h;)f[u]=i(c[u],u,c);return f}},6556:(a,c,i)=>{var u=i(9465),h=i(7813);a.exports=function(f,m,g){(g!==void 0&&!h(f[m],g)||g===void 0&&!(m in f))&&u(f,m,g)}},4865:(a,c,i)=>{var u=i(9465),h=i(7813),f=Object.prototype.hasOwnProperty;a.exports=function(m,g,v){var M=m[g];f.call(m,g)&&h(M,v)&&(v!==void 0||g in m)||u(m,g,v)}},8470:(a,c,i)=>{var u=i(7813);a.exports=function(h,f){for(var m=h.length;m--;)if(u(h[m][0],f))return m;return-1}},9465:(a,c,i)=>{var u=i(8777);a.exports=function(h,f,m){f=="__proto__"&&u?u(h,f,{configurable:!0,enumerable:!0,value:m,writable:!0}):h[f]=m}},3118:(a,c,i)=>{var u=i(3218),h=Object.create,f=function(){function m(){}return function(g){if(!u(g))return{};if(h)return h(g);m.prototype=g;var v=new m;return m.prototype=void 0,v}}();a.exports=f},8483:(a,c,i)=>{var u=i(5063)();a.exports=u},7786:(a,c,i)=>{var u=i(1811),h=i(327);a.exports=function(f,m){for(var g=0,v=(m=u(m,f)).length;f!=null&&g<v;)f=f[h(m[g++])];return g&&g==v?f:void 0}},4239:(a,c,i)=>{var u=i(2705),h=i(9607),f=i(2333),m=u?u.toStringTag:void 0;a.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":m&&m in Object(g)?h(g):f(g)}},8565:a=>{var c=Object.prototype.hasOwnProperty;a.exports=function(i,u){return i!=null&&c.call(i,u)}},9454:(a,c,i)=>{var u=i(4239),h=i(7005);a.exports=function(f){return h(f)&&u(f)=="[object Arguments]"}},8458:(a,c,i)=>{var u=i(3560),h=i(5346),f=i(3218),m=i(346),g=/^\[object .+?Constructor\]$/,v=Function.prototype,M=Object.prototype,A=v.toString,S=M.hasOwnProperty,E=RegExp("^"+A.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(G){return!(!f(G)||h(G))&&(u(G)?E:g).test(m(G))}},8749:(a,c,i)=>{var u=i(4239),h=i(1780),f=i(7005),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,a.exports=function(g){return f(g)&&h(g.length)&&!!m[u(g)]}},313:(a,c,i)=>{var u=i(3218),h=i(5726),f=i(3498),m=Object.prototype.hasOwnProperty;a.exports=function(g){if(!u(g))return f(g);var v=h(g),M=[];for(var A in g)(A!="constructor"||!v&&m.call(g,A))&&M.push(A);return M}},2980:(a,c,i)=>{var u=i(6384),h=i(6556),f=i(8483),m=i(9783),g=i(3218),v=i(1704),M=i(6390);a.exports=function A(S,E,G,C,P){S!==E&&f(E,function(j,O){if(P||(P=new u),g(j))m(S,E,O,G,A,C,P);else{var D=C?C(M(S,O),j,O+"",S,E,P):void 0;D===void 0&&(D=j),h(S,O,D)}},v)}},9783:(a,c,i)=>{var u=i(6556),h=i(4626),f=i(7133),m=i(278),g=i(8517),v=i(5694),M=i(1469),A=i(9246),S=i(4144),E=i(3560),G=i(3218),C=i(8630),P=i(6719),j=i(6390),O=i(9881);a.exports=function(D,W,ot,J,it,ht,_t){var at=j(D,ot),bt=j(W,ot),Lt=_t.get(bt);if(Lt)u(D,ot,Lt);else{var Tt=ht?ht(at,bt,ot+"",D,W,_t):void 0,Ct=Tt===void 0;if(Ct){var $t=M(bt),wt=!$t&&S(bt),fe=!$t&&!wt&&P(bt);Tt=bt,$t||wt||fe?M(at)?Tt=at:A(at)?Tt=m(at):wt?(Ct=!1,Tt=h(bt,!0)):fe?(Ct=!1,Tt=f(bt,!0)):Tt=[]:C(bt)||v(bt)?(Tt=at,v(at)?Tt=O(at):G(at)&&!E(at)||(Tt=g(bt))):Ct=!1}Ct&&(_t.set(bt,Tt),it(Tt,bt,J,ht,_t),_t.delete(bt)),u(D,ot,Tt)}}},5976:(a,c,i)=>{var u=i(6557),h=i(5357),f=i(61);a.exports=function(m,g){return f(h(m,g,u),m+"")}},6560:(a,c,i)=>{var u=i(5703),h=i(8777),f=i(6557),m=h?function(g,v){return h(g,"toString",{configurable:!0,enumerable:!1,value:u(v),writable:!0})}:f;a.exports=m},2545:a=>{a.exports=function(c,i){for(var u=-1,h=Array(c);++u<c;)h[u]=i(u);return h}},531:(a,c,i)=>{var u=i(2705),h=i(9932),f=i(1469),m=i(3448),g=u?u.prototype:void 0,v=g?g.toString:void 0;a.exports=function M(A){if(typeof A=="string")return A;if(f(A))return h(A,M)+"";if(m(A))return v?v.call(A):"";var S=A+"";return S=="0"&&1/A==-1/0?"-0":S}},1717:a=>{a.exports=function(c){return function(i){return c(i)}}},1811:(a,c,i)=>{var u=i(1469),h=i(5403),f=i(5514),m=i(9833);a.exports=function(g,v){return u(g)?g:h(g,v)?[g]:f(m(g))}},4318:(a,c,i)=>{var u=i(1149);a.exports=function(h){var f=new h.constructor(h.byteLength);return new u(f).set(new u(h)),f}},4626:(a,c,i)=>{a=i.nmd(a);var u=i(5639),h=c&&!c.nodeType&&c,f=h&&a&&!a.nodeType&&a,m=f&&f.exports===h?u.Buffer:void 0,g=m?m.allocUnsafe:void 0;a.exports=function(v,M){if(M)return v.slice();var A=v.length,S=g?g(A):new v.constructor(A);return v.copy(S),S}},7133:(a,c,i)=>{var u=i(4318);a.exports=function(h,f){var m=f?u(h.buffer):h.buffer;return new h.constructor(m,h.byteOffset,h.length)}},278:a=>{a.exports=function(c,i){var u=-1,h=c.length;for(i||(i=Array(h));++u<h;)i[u]=c[u];return i}},8363:(a,c,i)=>{var u=i(4865),h=i(9465);a.exports=function(f,m,g,v){var M=!g;g||(g={});for(var A=-1,S=m.length;++A<S;){var E=m[A],G=v?v(g[E],f[E],E,g,f):void 0;G===void 0&&(G=f[E]),M?h(g,E,G):u(g,E,G)}return g}},4429:(a,c,i)=>{var u=i(5639)["__core-js_shared__"];a.exports=u},1463:(a,c,i)=>{var u=i(5976),h=i(6612);a.exports=function(f){return u(function(m,g){var v=-1,M=g.length,A=M>1?g[M-1]:void 0,S=M>2?g[2]:void 0;for(A=f.length>3&&typeof A=="function"?(M--,A):void 0,S&&h(g[0],g[1],S)&&(A=M<3?void 0:A,M=1),m=Object(m);++v<M;){var E=g[v];E&&f(m,E,v,A)}return m})}},5063:a=>{a.exports=function(c){return function(i,u,h){for(var f=-1,m=Object(i),g=h(i),v=g.length;v--;){var M=g[c?v:++f];if(u(m[M],M,m)===!1)break}return i}}},8777:(a,c,i)=>{var u=i(852),h=function(){try{var f=u(Object,"defineProperty");return f({},"",{}),f}catch{}}();a.exports=h},1957:(a,c,i)=>{var u=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g;a.exports=u},5050:(a,c,i)=>{var u=i(7019);a.exports=function(h,f){var m=h.__data__;return u(f)?m[typeof f=="string"?"string":"hash"]:m.map}},852:(a,c,i)=>{var u=i(8458),h=i(7801);a.exports=function(f,m){var g=h(f,m);return u(g)?g:void 0}},5924:(a,c,i)=>{var u=i(5569)(Object.getPrototypeOf,Object);a.exports=u},9607:(a,c,i)=>{var u=i(2705),h=Object.prototype,f=h.hasOwnProperty,m=h.toString,g=u?u.toStringTag:void 0;a.exports=function(v){var M=f.call(v,g),A=v[g];try{v[g]=void 0;var S=!0}catch{}var E=m.call(v);return S&&(M?v[g]=A:delete v[g]),E}},7801:a=>{a.exports=function(c,i){return c==null?void 0:c[i]}},222:(a,c,i)=>{var u=i(1811),h=i(5694),f=i(1469),m=i(5776),g=i(1780),v=i(327);a.exports=function(M,A,S){for(var E=-1,G=(A=u(A,M)).length,C=!1;++E<G;){var P=v(A[E]);if(!(C=M!=null&&S(M,P)))break;M=M[P]}return C||++E!=G?C:!!(G=M==null?0:M.length)&&g(G)&&m(P,G)&&(f(M)||h(M))}},1789:(a,c,i)=>{var u=i(4536);a.exports=function(){this.__data__=u?u(null):{},this.size=0}},401:a=>{a.exports=function(c){var i=this.has(c)&&delete this.__data__[c];return this.size-=i?1:0,i}},7667:(a,c,i)=>{var u=i(4536),h=Object.prototype.hasOwnProperty;a.exports=function(f){var m=this.__data__;if(u){var g=m[f];return g==="__lodash_hash_undefined__"?void 0:g}return h.call(m,f)?m[f]:void 0}},1327:(a,c,i)=>{var u=i(4536),h=Object.prototype.hasOwnProperty;a.exports=function(f){var m=this.__data__;return u?m[f]!==void 0:h.call(m,f)}},1866:(a,c,i)=>{var u=i(4536);a.exports=function(h,f){var m=this.__data__;return this.size+=this.has(h)?0:1,m[h]=u&&f===void 0?"__lodash_hash_undefined__":f,this}},8517:(a,c,i)=>{var u=i(3118),h=i(5924),f=i(5726);a.exports=function(m){return typeof m.constructor!="function"||f(m)?{}:u(h(m))}},5776:a=>{var c=/^(?:0|[1-9]\d*)$/;a.exports=function(i,u){var h=typeof i;return!!(u=u??9007199254740991)&&(h=="number"||h!="symbol"&&c.test(i))&&i>-1&&i%1==0&&i<u}},6612:(a,c,i)=>{var u=i(7813),h=i(8612),f=i(5776),m=i(3218);a.exports=function(g,v,M){if(!m(M))return!1;var A=typeof v;return!!(A=="number"?h(M)&&f(v,M.length):A=="string"&&v in M)&&u(M[v],g)}},5403:(a,c,i)=>{var u=i(1469),h=i(3448),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;a.exports=function(g,v){if(u(g))return!1;var M=typeof g;return!(M!="number"&&M!="symbol"&&M!="boolean"&&g!=null&&!h(g))||m.test(g)||!f.test(g)||v!=null&&g in Object(v)}},7019:a=>{a.exports=function(c){var i=typeof c;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?c!=="__proto__":c===null}},5346:(a,c,i)=>{var u,h=i(4429),f=(u=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";a.exports=function(m){return!!f&&f in m}},5726:a=>{var c=Object.prototype;a.exports=function(i){var u=i&&i.constructor;return i===(typeof u=="function"&&u.prototype||c)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,c,i)=>{var u=i(8470),h=Array.prototype.splice;a.exports=function(f){var m=this.__data__,g=u(m,f);return!(g<0)&&(g==m.length-1?m.pop():h.call(m,g,1),--this.size,!0)}},2117:(a,c,i)=>{var u=i(8470);a.exports=function(h){var f=this.__data__,m=u(f,h);return m<0?void 0:f[m][1]}},7518:(a,c,i)=>{var u=i(8470);a.exports=function(h){return u(this.__data__,h)>-1}},4705:(a,c,i)=>{var u=i(8470);a.exports=function(h,f){var m=this.__data__,g=u(m,h);return g<0?(++this.size,m.push([h,f])):m[g][1]=f,this}},4785:(a,c,i)=>{var u=i(1989),h=i(8407),f=i(7071);a.exports=function(){this.size=0,this.__data__={hash:new u,map:new(f||h),string:new u}}},1285:(a,c,i)=>{var u=i(5050);a.exports=function(h){var f=u(this,h).delete(h);return this.size-=f?1:0,f}},6e3:(a,c,i)=>{var u=i(5050);a.exports=function(h){return u(this,h).get(h)}},9916:(a,c,i)=>{var u=i(5050);a.exports=function(h){return u(this,h).has(h)}},5265:(a,c,i)=>{var u=i(5050);a.exports=function(h,f){var m=u(this,h),g=m.size;return m.set(h,f),this.size+=m.size==g?0:1,this}},4523:(a,c,i)=>{var u=i(8306);a.exports=function(h){var f=u(h,function(g){return m.size===500&&m.clear(),g}),m=f.cache;return f}},4536:(a,c,i)=>{var u=i(852)(Object,"create");a.exports=u},3498:a=>{a.exports=function(c){var i=[];if(c!=null)for(var u in Object(c))i.push(u);return i}},1167:(a,c,i)=>{a=i.nmd(a);var u=i(1957),h=c&&!c.nodeType&&c,f=h&&a&&!a.nodeType&&a,m=f&&f.exports===h&&u.process,g=function(){try{var v=f&&f.require&&f.require("util").types;return v||m&&m.binding&&m.binding("util")}catch{}}();a.exports=g},2333:a=>{var c=Object.prototype.toString;a.exports=function(i){return c.call(i)}},5569:a=>{a.exports=function(c,i){return function(u){return c(i(u))}}},5357:(a,c,i)=>{var u=i(6874),h=Math.max;a.exports=function(f,m,g){return m=h(m===void 0?f.length-1:m,0),function(){for(var v=arguments,M=-1,A=h(v.length-m,0),S=Array(A);++M<A;)S[M]=v[m+M];M=-1;for(var E=Array(m+1);++M<m;)E[M]=v[M];return E[m]=g(S),u(f,this,E)}}},5639:(a,c,i)=>{var u=i(1957),h=typeof self=="object"&&self&&self.Object===Object&&self,f=u||h||Function("return this")();a.exports=f},6390:a=>{a.exports=function(c,i){if((i!=="constructor"||typeof c[i]!="function")&&i!="__proto__")return c[i]}},61:(a,c,i)=>{var u=i(6560),h=i(1275)(u);a.exports=h},1275:a=>{var c=Date.now;a.exports=function(i){var u=0,h=0;return function(){var f=c(),m=16-(f-h);if(h=f,m>0){if(++u>=800)return arguments[0]}else u=0;return i.apply(void 0,arguments)}}},7465:(a,c,i)=>{var u=i(8407);a.exports=function(){this.__data__=new u,this.size=0}},3779:a=>{a.exports=function(c){var i=this.__data__,u=i.delete(c);return this.size=i.size,u}},7599:a=>{a.exports=function(c){return this.__data__.get(c)}},4758:a=>{a.exports=function(c){return this.__data__.has(c)}},4309:(a,c,i)=>{var u=i(8407),h=i(7071),f=i(3369);a.exports=function(m,g){var v=this.__data__;if(v instanceof u){var M=v.__data__;if(!h||M.length<199)return M.push([m,g]),this.size=++v.size,this;v=this.__data__=new f(M)}return v.set(m,g),this.size=v.size,this}},5514:(a,c,i)=>{var u=i(4523),h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,m=u(function(g){var v=[];return g.charCodeAt(0)===46&&v.push(""),g.replace(h,function(M,A,S,E){v.push(S?E.replace(f,"$1"):A||M)}),v});a.exports=m},327:(a,c,i)=>{var u=i(3448);a.exports=function(h){if(typeof h=="string"||u(h))return h;var f=h+"";return f=="0"&&1/h==-1/0?"-0":f}},346:a=>{var c=Function.prototype.toString;a.exports=function(i){if(i!=null){try{return c.call(i)}catch{}try{return i+""}catch{}}return""}},5703:a=>{a.exports=function(c){return function(){return c}}},7813:a=>{a.exports=function(c,i){return c===i||c!=c&&i!=i}},7361:(a,c,i)=>{var u=i(7786);a.exports=function(h,f,m){var g=h==null?void 0:u(h,f);return g===void 0?m:g}},8721:(a,c,i)=>{var u=i(8565),h=i(222);a.exports=function(f,m){return f!=null&&h(f,m,u)}},6557:a=>{a.exports=function(c){return c}},5694:(a,c,i)=>{var u=i(9454),h=i(7005),f=Object.prototype,m=f.hasOwnProperty,g=f.propertyIsEnumerable,v=u(function(){return arguments}())?u:function(M){return h(M)&&m.call(M,"callee")&&!g.call(M,"callee")};a.exports=v},1469:a=>{var c=Array.isArray;a.exports=c},8612:(a,c,i)=>{var u=i(3560),h=i(1780);a.exports=function(f){return f!=null&&h(f.length)&&!u(f)}},9246:(a,c,i)=>{var u=i(8612),h=i(7005);a.exports=function(f){return h(f)&&u(f)}},4144:(a,c,i)=>{a=i.nmd(a);var u=i(5639),h=i(5062),f=c&&!c.nodeType&&c,m=f&&a&&!a.nodeType&&a,g=m&&m.exports===f?u.Buffer:void 0,v=(g?g.isBuffer:void 0)||h;a.exports=v},3560:(a,c,i)=>{var u=i(4239),h=i(3218);a.exports=function(f){if(!h(f))return!1;var m=u(f);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},1780:a=>{a.exports=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991}},3218:a=>{a.exports=function(c){var i=typeof c;return c!=null&&(i=="object"||i=="function")}},7005:a=>{a.exports=function(c){return c!=null&&typeof c=="object"}},8630:(a,c,i)=>{var u=i(4239),h=i(5924),f=i(7005),m=Function.prototype,g=Object.prototype,v=m.toString,M=g.hasOwnProperty,A=v.call(Object);a.exports=function(S){if(!f(S)||u(S)!="[object Object]")return!1;var E=h(S);if(E===null)return!0;var G=M.call(E,"constructor")&&E.constructor;return typeof G=="function"&&G instanceof G&&v.call(G)==A}},3448:(a,c,i)=>{var u=i(4239),h=i(7005);a.exports=function(f){return typeof f=="symbol"||h(f)&&u(f)=="[object Symbol]"}},6719:(a,c,i)=>{var u=i(8749),h=i(1717),f=i(1167),m=f&&f.isTypedArray,g=m?h(m):u;a.exports=g},1704:(a,c,i)=>{var u=i(4636),h=i(313),f=i(8612);a.exports=function(m){return f(m)?u(m,!0):h(m)}},8306:(a,c,i)=>{var u=i(3369);function h(f,m){if(typeof f!="function"||m!=null&&typeof m!="function")throw new TypeError("Expected a function");var g=function(){var v=arguments,M=m?m.apply(this,v):v[0],A=g.cache;if(A.has(M))return A.get(M);var S=f.apply(this,v);return g.cache=A.set(M,S)||A,S};return g.cache=new(h.Cache||u),g}h.Cache=u,a.exports=h},2492:(a,c,i)=>{var u=i(2980),h=i(1463)(function(f,m,g){u(f,m,g)});a.exports=h},5062:a=>{a.exports=function(){return!1}},9881:(a,c,i)=>{var u=i(8363),h=i(1704);a.exports=function(f){return u(f,h(f))}},9833:(a,c,i)=>{var u=i(531);a.exports=function(h){return h==null?"":u(h)}},2676:function(a){a.exports=function(){function c(I,w){if(!(I instanceof w))throw new TypeError("Cannot call a class as a function")}function i(I,w){for(var k=0;k<w.length;k++){var R=w[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}function u(I,w,k){return w&&i(I.prototype,w),k&&i(I,k),I}var h=function(){function I(w,k){this.next=null,this.key=w,this.data=k,this.left=null,this.right=null}return I}();function f(I,w){return I>w?1:I<w?-1:0}function m(I,w,k){for(var R=new h(null,null),z=R,F=R;;){var et=k(I,w.key);if(et<0){if(w.left===null)break;if(k(I,w.left.key)<0){var st=w.left;if(w.left=st.right,st.right=w,(w=st).left===null)break}F.left=w,F=w,w=w.left}else{if(!(et>0)||w.right===null||k(I,w.right.key)>0&&(st=w.right,w.right=st.left,st.left=w,(w=st).right===null))break;z.right=w,z=w,w=w.right}}return z.right=w.left,F.left=w.right,w.left=R.right,w.right=R.left,w}function g(I,w,k,R){var z=new h(I,w);if(k===null)return z.left=z.right=null,z;var F=R(I,(k=m(I,k,R)).key);return F<0?(z.left=k.left,z.right=k,k.left=null):F>=0&&(z.right=k.right,z.left=k,k.right=null),z}function v(I,w,k){var R=null,z=null;if(w){var F=k((w=m(I,w,k)).key,I);F===0?(R=w.left,z=w.right):F<0?(z=w.right,w.right=null,R=w):(R=w.left,w.left=null,z=w)}return{left:R,right:z}}function M(I,w,k){return w===null?I:(I===null||((w=m(I.key,w,k)).left=I),w)}function A(I,w,k,R,z){if(I){R(w+(k?"└── ":"├── ")+z(I)+`
`);var F=w+(k?"    ":"│   ");I.left&&A(I.left,F,!1,R,z),I.right&&A(I.right,F,!0,R,z)}}var S=function(){function I(w){w===void 0&&(w=f),this._root=null,this._size=0,this._comparator=w}return I.prototype.insert=function(w,k){return this._size++,this._root=g(w,k,this._root,this._comparator)},I.prototype.add=function(w,k){var R=new h(w,k);this._root===null&&(R.left=R.right=null,this._size++,this._root=R);var z=this._comparator,F=m(w,this._root,z),et=z(w,F.key);return et===0?this._root=F:(et<0?(R.left=F.left,R.right=F,F.left=null):et>0&&(R.right=F.right,R.left=F,F.right=null),this._size++,this._root=R),this._root},I.prototype.remove=function(w){this._root=this._remove(w,this._root,this._comparator)},I.prototype._remove=function(w,k,R){var z;return k===null?null:R(w,(k=m(w,k,R)).key)===0?(k.left===null?z=k.right:(z=m(w,k.left,R)).right=k.right,this._size--,z):k},I.prototype.pop=function(){var w=this._root;if(w){for(;w.left;)w=w.left;return this._root=m(w.key,this._root,this._comparator),this._root=this._remove(w.key,this._root,this._comparator),{key:w.key,data:w.data}}return null},I.prototype.findStatic=function(w){for(var k=this._root,R=this._comparator;k;){var z=R(w,k.key);if(z===0)return k;k=z<0?k.left:k.right}return null},I.prototype.find=function(w){return this._root&&(this._root=m(w,this._root,this._comparator),this._comparator(w,this._root.key)!==0)?null:this._root},I.prototype.contains=function(w){for(var k=this._root,R=this._comparator;k;){var z=R(w,k.key);if(z===0)return!0;k=z<0?k.left:k.right}return!1},I.prototype.forEach=function(w,k){for(var R=this._root,z=[],F=!1;!F;)R!==null?(z.push(R),R=R.left):z.length!==0?(R=z.pop(),w.call(k,R),R=R.right):F=!0;return this},I.prototype.range=function(w,k,R,z){for(var F=[],et=this._comparator,st=this._root;F.length!==0||st;)if(st)F.push(st),st=st.left;else{if(et((st=F.pop()).key,k)>0)break;if(et(st.key,w)>=0&&R.call(z,st))return this;st=st.right}return this},I.prototype.keys=function(){var w=[];return this.forEach(function(k){var R=k.key;return w.push(R)}),w},I.prototype.values=function(){var w=[];return this.forEach(function(k){var R=k.data;return w.push(R)}),w},I.prototype.min=function(){return this._root?this.minNode(this._root).key:null},I.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},I.prototype.minNode=function(w){if(w===void 0&&(w=this._root),w)for(;w.left;)w=w.left;return w},I.prototype.maxNode=function(w){if(w===void 0&&(w=this._root),w)for(;w.right;)w=w.right;return w},I.prototype.at=function(w){for(var k=this._root,R=!1,z=0,F=[];!R;)if(k)F.push(k),k=k.left;else if(F.length>0){if(k=F.pop(),z===w)return k;z++,k=k.right}else R=!0;return null},I.prototype.next=function(w){var k=this._root,R=null;if(w.right){for(R=w.right;R.left;)R=R.left;return R}for(var z=this._comparator;k;){var F=z(w.key,k.key);if(F===0)break;F<0?(R=k,k=k.left):k=k.right}return R},I.prototype.prev=function(w){var k=this._root,R=null;if(w.left!==null){for(R=w.left;R.right;)R=R.right;return R}for(var z=this._comparator;k;){var F=z(w.key,k.key);if(F===0)break;F<0?k=k.left:(R=k,k=k.right)}return R},I.prototype.clear=function(){return this._root=null,this._size=0,this},I.prototype.toList=function(){return C(this._root)},I.prototype.load=function(w,k,R){k===void 0&&(k=[]),R===void 0&&(R=!1);var z=w.length,F=this._comparator;if(R&&O(w,k,0,z-1,F),this._root===null)this._root=E(w,k,0,z),this._size=z;else{var et=j(this.toList(),G(w,k),F);z=this._size+z,this._root=P({head:et},0,z)}return this},I.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(I.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),I.prototype.toString=function(w){w===void 0&&(w=function(R){return String(R.key)});var k=[];return A(this._root,"",!0,function(R){return k.push(R)},w),k.join("")},I.prototype.update=function(w,k,R){var z=this._comparator,F=v(w,this._root,z),et=F.left,st=F.right;z(w,k)<0?st=g(k,R,st,z):et=g(k,R,et,z),this._root=M(et,st,z)},I.prototype.split=function(w){return v(w,this._root,this._comparator)},I}();function E(I,w,k,R){var z=R-k;if(z>0){var F=k+Math.floor(z/2),et=I[F],st=w[F],vt=new h(et,st);return vt.left=E(I,w,k,F),vt.right=E(I,w,F+1,R),vt}return null}function G(I,w){for(var k=new h(null,null),R=k,z=0;z<I.length;z++)R=R.next=new h(I[z],w[z]);return R.next=null,k.next}function C(I){for(var w=I,k=[],R=!1,z=new h(null,null),F=z;!R;)w?(k.push(w),w=w.left):k.length>0?w=(w=F=F.next=k.pop()).right:R=!0;return F.next=null,z.next}function P(I,w,k){var R=k-w;if(R>0){var z=w+Math.floor(R/2),F=P(I,w,z),et=I.head;return et.left=F,I.head=I.head.next,et.right=P(I,z+1,k),et}return null}function j(I,w,k){for(var R=new h(null,null),z=R,F=I,et=w;F!==null&&et!==null;)k(F.key,et.key)<0?(z.next=F,F=F.next):(z.next=et,et=et.next),z=z.next;return F!==null?z.next=F:et!==null&&(z.next=et),R.next}function O(I,w,k,R,z){if(!(k>=R)){for(var F=I[k+R>>1],et=k-1,st=R+1;;){do et++;while(z(I[et],F)<0);do st--;while(z(I[st],F)>0);if(et>=st)break;var vt=I[et];I[et]=I[st],I[st]=vt,vt=w[et],w[et]=w[st],w[st]=vt}O(I,w,k,st,z),O(I,w,st+1,R,z)}}var D=function(I,w){return I.ll.x<=w.x&&w.x<=I.ur.x&&I.ll.y<=w.y&&w.y<=I.ur.y},W=function(I,w){if(w.ur.x<I.ll.x||I.ur.x<w.ll.x||w.ur.y<I.ll.y||I.ur.y<w.ll.y)return null;var k=I.ll.x<w.ll.x?w.ll.x:I.ll.x,R=I.ur.x<w.ur.x?I.ur.x:w.ur.x;return{ll:{x:k,y:I.ll.y<w.ll.y?w.ll.y:I.ll.y},ur:{x:R,y:I.ur.y<w.ur.y?I.ur.y:w.ur.y}}},ot=Number.EPSILON;ot===void 0&&(ot=Math.pow(2,-52));var J=ot*ot,it=function(I,w){if(-ot<I&&I<ot&&-ot<w&&w<ot)return 0;var k=I-w;return k*k<J*I*w?0:I<w?-1:1},ht=function(){function I(){c(this,I),this.reset()}return u(I,[{key:"reset",value:function(){this.xRounder=new _t,this.yRounder=new _t}},{key:"round",value:function(w,k){return{x:this.xRounder.round(w),y:this.yRounder.round(k)}}}]),I}(),_t=function(){function I(){c(this,I),this.tree=new S,this.round(0)}return u(I,[{key:"round",value:function(w){var k=this.tree.add(w),R=this.tree.prev(k);if(R!==null&&it(k.key,R.key)===0)return this.tree.remove(w),R.key;var z=this.tree.next(k);return z!==null&&it(k.key,z.key)===0?(this.tree.remove(w),z.key):w}}]),I}(),at=new ht,bt=function(I,w){return I.x*w.y-I.y*w.x},Lt=function(I,w){return I.x*w.x+I.y*w.y},Tt=function(I,w,k){var R={x:w.x-I.x,y:w.y-I.y},z={x:k.x-I.x,y:k.y-I.y},F=bt(R,z);return it(F,0)},Ct=function(I){return Math.sqrt(Lt(I,I))},$t=function(I,w,k){var R={x:w.x-I.x,y:w.y-I.y},z={x:k.x-I.x,y:k.y-I.y};return bt(z,R)/Ct(z)/Ct(R)},wt=function(I,w,k){var R={x:w.x-I.x,y:w.y-I.y},z={x:k.x-I.x,y:k.y-I.y};return Lt(z,R)/Ct(z)/Ct(R)},fe=function(I,w,k){return w.y===0?null:{x:I.x+w.x/w.y*(k-I.y),y:k}},zt=function(I,w,k){return w.x===0?null:{x:k,y:I.y+w.y/w.x*(k-I.x)}},It=function(I,w,k,R){if(w.x===0)return zt(k,R,I.x);if(R.x===0)return zt(I,w,k.x);if(w.y===0)return fe(k,R,I.y);if(R.y===0)return fe(I,w,k.y);var z=bt(w,R);if(z==0)return null;var F={x:k.x-I.x,y:k.y-I.y},et=bt(F,w)/z,st=bt(F,R)/z;return{x:(I.x+st*w.x+(k.x+et*R.x))/2,y:(I.y+st*w.y+(k.y+et*R.y))/2}},Ut=function(){function I(w,k){c(this,I),w.events===void 0?w.events=[this]:w.events.push(this),this.point=w,this.isLeft=k}return u(I,null,[{key:"compare",value:function(w,k){var R=I.comparePoints(w.point,k.point);return R!==0?R:(w.point!==k.point&&w.link(k),w.isLeft!==k.isLeft?w.isLeft?1:-1:me.compare(w.segment,k.segment))}},{key:"comparePoints",value:function(w,k){return w.x<k.x?-1:w.x>k.x?1:w.y<k.y?-1:w.y>k.y?1:0}}]),u(I,[{key:"link",value:function(w){if(w.point===this.point)throw new Error("Tried to link already linked events");for(var k=w.point.events,R=0,z=k.length;R<z;R++){var F=k[R];this.point.events.push(F),F.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var w=this.point.events.length,k=0;k<w;k++){var R=this.point.events[k];if(R.segment.consumedBy===void 0)for(var z=k+1;z<w;z++){var F=this.point.events[z];F.consumedBy===void 0&&R.otherSE.point.events===F.otherSE.point.events&&R.segment.consume(F.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var w=[],k=0,R=this.point.events.length;k<R;k++){var z=this.point.events[k];z!==this&&!z.segment.ringOut&&z.segment.isInResult()&&w.push(z)}return w}},{key:"getLeftmostComparator",value:function(w){var k=this,R=new Map,z=function(F){var et=F.otherSE;R.set(F,{sine:$t(k.point,w.point,et.point),cosine:wt(k.point,w.point,et.point)})};return function(F,et){R.has(F)||z(F),R.has(et)||z(et);var st=R.get(F),vt=st.sine,Ot=st.cosine,Nt=R.get(et),Xt=Nt.sine,ne=Nt.cosine;return vt>=0&&Xt>=0?Ot<ne?1:Ot>ne?-1:0:vt<0&&Xt<0?Ot<ne?-1:Ot>ne?1:0:Xt<vt?-1:Xt>vt?1:0}}}]),I}(),Me=0,me=function(){function I(w,k,R,z){c(this,I),this.id=++Me,this.leftSE=w,w.segment=this,w.otherSE=k,this.rightSE=k,k.segment=this,k.otherSE=w,this.rings=R,this.windings=z}return u(I,null,[{key:"compare",value:function(w,k){var R=w.leftSE.point.x,z=k.leftSE.point.x,F=w.rightSE.point.x,et=k.rightSE.point.x;if(et<R)return 1;if(F<z)return-1;var st=w.leftSE.point.y,vt=k.leftSE.point.y,Ot=w.rightSE.point.y,Nt=k.rightSE.point.y;if(R<z){if(vt<st&&vt<Ot)return 1;if(vt>st&&vt>Ot)return-1;var Xt=w.comparePoint(k.leftSE.point);if(Xt<0)return 1;if(Xt>0)return-1;var ne=k.comparePoint(w.rightSE.point);return ne!==0?ne:-1}if(R>z){if(st<vt&&st<Nt)return-1;if(st>vt&&st>Nt)return 1;var be=k.comparePoint(w.leftSE.point);if(be!==0)return be;var te=w.comparePoint(k.rightSE.point);return te<0?1:te>0?-1:1}if(st<vt)return-1;if(st>vt)return 1;if(F<et){var ve=k.comparePoint(w.rightSE.point);if(ve!==0)return ve}if(F>et){var he=w.comparePoint(k.rightSE.point);if(he<0)return 1;if(he>0)return-1}if(F!==et){var we=Ot-st,Ae=F-R,We=Nt-vt,Je=et-z;if(we>Ae&&We<Je)return 1;if(we<Ae&&We>Je)return-1}return F>et?1:F<et||Ot<Nt?-1:Ot>Nt?1:w.id<k.id?-1:w.id>k.id?1:0}}]),u(I,[{key:"replaceRightSE",value:function(w){this.rightSE=w,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var w=this.leftSE.point.y,k=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:w<k?w:k},ur:{x:this.rightSE.point.x,y:w>k?w:k}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(w){return w.x===this.leftSE.point.x&&w.y===this.leftSE.point.y||w.x===this.rightSE.point.x&&w.y===this.rightSE.point.y}},{key:"comparePoint",value:function(w){if(this.isAnEndpoint(w))return 0;var k=this.leftSE.point,R=this.rightSE.point,z=this.vector();if(k.x===R.x)return w.x===k.x?0:w.x<k.x?1:-1;var F=(w.y-k.y)/z.y,et=k.x+F*z.x;if(w.x===et)return 0;var st=(w.x-k.x)/z.x,vt=k.y+st*z.y;return w.y===vt?0:w.y<vt?-1:1}},{key:"getIntersection",value:function(w){var k=this.bbox(),R=w.bbox(),z=W(k,R);if(z===null)return null;var F=this.leftSE.point,et=this.rightSE.point,st=w.leftSE.point,vt=w.rightSE.point,Ot=D(k,st)&&this.comparePoint(st)===0,Nt=D(R,F)&&w.comparePoint(F)===0,Xt=D(k,vt)&&this.comparePoint(vt)===0,ne=D(R,et)&&w.comparePoint(et)===0;if(Nt&&Ot)return ne&&!Xt?et:!ne&&Xt?vt:null;if(Nt)return Xt&&F.x===vt.x&&F.y===vt.y?null:F;if(Ot)return ne&&et.x===st.x&&et.y===st.y?null:st;if(ne&&Xt)return null;if(ne)return et;if(Xt)return vt;var be=It(F,this.vector(),st,w.vector());return be===null?null:D(z,be)?at.round(be.x,be.y):null}},{key:"split",value:function(w){var k=[],R=w.events!==void 0,z=new Ut(w,!0),F=new Ut(w,!1),et=this.rightSE;this.replaceRightSE(F),k.push(F),k.push(z);var st=new I(z,et,this.rings.slice(),this.windings.slice());return Ut.comparePoints(st.leftSE.point,st.rightSE.point)>0&&st.swapEvents(),Ut.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),R&&(z.checkForConsuming(),F.checkForConsuming()),k}},{key:"swapEvents",value:function(){var w=this.rightSE;this.rightSE=this.leftSE,this.leftSE=w,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var k=0,R=this.windings.length;k<R;k++)this.windings[k]*=-1}},{key:"consume",value:function(w){for(var k=this,R=w;k.consumedBy;)k=k.consumedBy;for(;R.consumedBy;)R=R.consumedBy;var z=I.compare(k,R);if(z!==0){if(z>0){var F=k;k=R,R=F}if(k.prev===R){var et=k;k=R,R=et}for(var st=0,vt=R.rings.length;st<vt;st++){var Ot=R.rings[st],Nt=R.windings[st],Xt=k.rings.indexOf(Ot);Xt===-1?(k.rings.push(Ot),k.windings.push(Nt)):k.windings[Xt]+=Nt}R.rings=null,R.windings=null,R.consumedBy=k,R.leftSE.consumedBy=k.leftSE,R.rightSE.consumedBy=k.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var w=this.prev.consumedBy||this.prev;this._beforeState=w.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var w=this.beforeState();this._afterState={rings:w.rings.slice(0),windings:w.windings.slice(0),multiPolys:[]};for(var k=this._afterState.rings,R=this._afterState.windings,z=this._afterState.multiPolys,F=0,et=this.rings.length;F<et;F++){var st=this.rings[F],vt=this.windings[F],Ot=k.indexOf(st);Ot===-1?(k.push(st),R.push(vt)):R[Ot]+=vt}for(var Nt=[],Xt=[],ne=0,be=k.length;ne<be;ne++)if(R[ne]!==0){var te=k[ne],ve=te.poly;if(Xt.indexOf(ve)===-1)if(te.isExterior)Nt.push(ve);else{Xt.indexOf(ve)===-1&&Xt.push(ve);var he=Nt.indexOf(te.poly);he!==-1&&Nt.splice(he,1)}}for(var we=0,Ae=Nt.length;we<Ae;we++){var We=Nt[we].multiPoly;z.indexOf(We)===-1&&z.push(We)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var w=this.beforeState().multiPolys,k=this.afterState().multiPolys;switch(Q.type){case"union":var R=w.length===0,z=k.length===0;this._isInResult=R!==z;break;case"intersection":var F,et;w.length<k.length?(F=w.length,et=k.length):(F=k.length,et=w.length),this._isInResult=et===Q.numMultiPolys&&F<et;break;case"xor":var st=Math.abs(w.length-k.length);this._isInResult=st%2==1;break;case"difference":var vt=function(Ot){return Ot.length===1&&Ot[0].isSubject};this._isInResult=vt(w)!==vt(k);break;default:throw new Error("Unrecognized operation type found ".concat(Q.type))}return this._isInResult}}],[{key:"fromRing",value:function(w,k,R){var z,F,et,st=Ut.comparePoints(w,k);if(st<0)z=w,F=k,et=1;else{if(!(st>0))throw new Error("Tried to create degenerate segment at [".concat(w.x,", ").concat(w.y,"]"));z=k,F=w,et=-1}return new I(new Ut(z,!0),new Ut(F,!1),[R],[et])}}]),I}(),le=function(){function I(w,k,R){if(c(this,I),!Array.isArray(w)||w.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=k,this.isExterior=R,this.segments=[],typeof w[0][0]!="number"||typeof w[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var z=at.round(w[0][0],w[0][1]);this.bbox={ll:{x:z.x,y:z.y},ur:{x:z.x,y:z.y}};for(var F=z,et=1,st=w.length;et<st;et++){if(typeof w[et][0]!="number"||typeof w[et][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var vt=at.round(w[et][0],w[et][1]);vt.x===F.x&&vt.y===F.y||(this.segments.push(me.fromRing(F,vt,this)),vt.x<this.bbox.ll.x&&(this.bbox.ll.x=vt.x),vt.y<this.bbox.ll.y&&(this.bbox.ll.y=vt.y),vt.x>this.bbox.ur.x&&(this.bbox.ur.x=vt.x),vt.y>this.bbox.ur.y&&(this.bbox.ur.y=vt.y),F=vt)}z.x===F.x&&z.y===F.y||this.segments.push(me.fromRing(F,z,this))}return u(I,[{key:"getSweepEvents",value:function(){for(var w=[],k=0,R=this.segments.length;k<R;k++){var z=this.segments[k];w.push(z.leftSE),w.push(z.rightSE)}return w}}]),I}(),Vt=function(){function I(w,k){if(c(this,I),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new le(w[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var R=1,z=w.length;R<z;R++){var F=new le(w[R],this,!1);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.interiorRings.push(F)}this.multiPoly=k}return u(I,[{key:"getSweepEvents",value:function(){for(var w=this.exteriorRing.getSweepEvents(),k=0,R=this.interiorRings.length;k<R;k++)for(var z=this.interiorRings[k].getSweepEvents(),F=0,et=z.length;F<et;F++)w.push(z[F]);return w}}]),I}(),ft=function(){function I(w,k){if(c(this,I),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof w[0][0][0]=="number"&&(w=[w])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var R=0,z=w.length;R<z;R++){var F=new Vt(w[R],this);F.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=F.bbox.ll.x),F.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=F.bbox.ll.y),F.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=F.bbox.ur.x),F.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=F.bbox.ur.y),this.polys.push(F)}this.isSubject=k}return u(I,[{key:"getSweepEvents",value:function(){for(var w=[],k=0,R=this.polys.length;k<R;k++)for(var z=this.polys[k].getSweepEvents(),F=0,et=z.length;F<et;F++)w.push(z[F]);return w}}]),I}(),St=function(){function I(w){c(this,I),this.events=w;for(var k=0,R=w.length;k<R;k++)w[k].segment.ringOut=this;this.poly=null}return u(I,null,[{key:"factory",value:function(w){for(var k=[],R=0,z=w.length;R<z;R++){var F=w[R];if(F.isInResult()&&!F.ringOut){for(var et=null,st=F.leftSE,vt=F.rightSE,Ot=[st],Nt=st.point,Xt=[];et=st,st=vt,Ot.push(st),st.point!==Nt;)for(;;){var ne=st.getAvailableLinkedEvents();if(ne.length===0){var be=Ot[0].point,te=Ot[Ot.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(be.x,",")+" ".concat(be.y,"]. Last matching segment found ends at")+" [".concat(te.x,", ").concat(te.y,"]."))}if(ne.length===1){vt=ne[0].otherSE;break}for(var ve=null,he=0,we=Xt.length;he<we;he++)if(Xt[he].point===st.point){ve=he;break}if(ve===null){Xt.push({index:Ot.length,point:st.point});var Ae=st.getLeftmostComparator(et);vt=ne.sort(Ae)[0].otherSE;break}var We=Xt.splice(ve)[0],Je=Ot.splice(We.index);Je.unshift(Je[0].otherSE),k.push(new I(Je.reverse()))}k.push(new I(Ot))}}return k}}]),u(I,[{key:"getGeom",value:function(){for(var w=this.events[0].point,k=[w],R=1,z=this.events.length-1;R<z;R++){var F=this.events[R].point,et=this.events[R+1].point;Tt(F,w,et)!==0&&(k.push(F),w=F)}if(k.length===1)return null;var st=k[0],vt=k[1];Tt(st,w,vt)===0&&k.shift(),k.push(k[0]);for(var Ot=this.isExteriorRing()?1:-1,Nt=this.isExteriorRing()?0:k.length-1,Xt=this.isExteriorRing()?k.length:-1,ne=[],be=Nt;be!=Xt;be+=Ot)ne.push([k[be].x,k[be].y]);return ne}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var w=this.enclosingRing();this._isExteriorRing=!w||!w.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var w=this.events[0],k=1,R=this.events.length;k<R;k++){var z=this.events[k];Ut.compare(w,z)>0&&(w=z)}for(var F=w.segment.prevInResult(),et=F?F.prevInResult():null;;){if(!F)return null;if(!et)return F.ringOut;if(et.ringOut!==F.ringOut)return et.ringOut.enclosingRing()!==F.ringOut?F.ringOut:F.ringOut.enclosingRing();F=et.prevInResult(),et=F?F.prevInResult():null}}}]),I}(),Et=function(){function I(w){c(this,I),this.exteriorRing=w,w.poly=this,this.interiorRings=[]}return u(I,[{key:"addInterior",value:function(w){this.interiorRings.push(w),w.poly=this}},{key:"getGeom",value:function(){var w=[this.exteriorRing.getGeom()];if(w[0]===null)return null;for(var k=0,R=this.interiorRings.length;k<R;k++){var z=this.interiorRings[k].getGeom();z!==null&&w.push(z)}return w}}]),I}(),jt=function(){function I(w){c(this,I),this.rings=w,this.polys=this._composePolys(w)}return u(I,[{key:"getGeom",value:function(){for(var w=[],k=0,R=this.polys.length;k<R;k++){var z=this.polys[k].getGeom();z!==null&&w.push(z)}return w}},{key:"_composePolys",value:function(w){for(var k=[],R=0,z=w.length;R<z;R++){var F=w[R];if(!F.poly)if(F.isExteriorRing())k.push(new Et(F));else{var et=F.enclosingRing();et.poly||k.push(new Et(et)),et.poly.addInterior(F)}}return k}}]),I}(),ue=function(){function I(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:me.compare;c(this,I),this.queue=w,this.tree=new S(k),this.segments=[]}return u(I,[{key:"process",value:function(w){var k=w.segment,R=[];if(w.consumedBy)return w.isLeft?this.queue.remove(w.otherSE):this.tree.remove(k),R;var z=w.isLeft?this.tree.insert(k):this.tree.find(k);if(!z)throw new Error("Unable to find segment #".concat(k.id," ")+"[".concat(k.leftSE.point.x,", ").concat(k.leftSE.point.y,"] -> ")+"[".concat(k.rightSE.point.x,", ").concat(k.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var F=z,et=z,st=void 0,vt=void 0;st===void 0;)(F=this.tree.prev(F))===null?st=null:F.key.consumedBy===void 0&&(st=F.key);for(;vt===void 0;)(et=this.tree.next(et))===null?vt=null:et.key.consumedBy===void 0&&(vt=et.key);if(w.isLeft){var Ot=null;if(st){var Nt=st.getIntersection(k);if(Nt!==null&&(k.isAnEndpoint(Nt)||(Ot=Nt),!st.isAnEndpoint(Nt)))for(var Xt=this._splitSafely(st,Nt),ne=0,be=Xt.length;ne<be;ne++)R.push(Xt[ne])}var te=null;if(vt){var ve=vt.getIntersection(k);if(ve!==null&&(k.isAnEndpoint(ve)||(te=ve),!vt.isAnEndpoint(ve)))for(var he=this._splitSafely(vt,ve),we=0,Ae=he.length;we<Ae;we++)R.push(he[we])}if(Ot!==null||te!==null){var We=null;We=Ot===null?te:te===null||Ut.comparePoints(Ot,te)<=0?Ot:te,this.queue.remove(k.rightSE),R.push(k.rightSE);for(var Je=k.split(We),fn=0,cn=Je.length;fn<cn;fn++)R.push(Je[fn])}R.length>0?(this.tree.remove(k),R.push(w)):(this.segments.push(k),k.prev=st)}else{if(st&&vt){var Xe=st.getIntersection(vt);if(Xe!==null){if(!st.isAnEndpoint(Xe))for(var hn=this._splitSafely(st,Xe),Ln=0,$n=hn.length;Ln<$n;Ln++)R.push(hn[Ln]);if(!vt.isAnEndpoint(Xe))for(var Ye=this._splitSafely(vt,Xe),Fe=0,Rn=Ye.length;Fe<Rn;Fe++)R.push(Ye[Fe])}}this.tree.remove(k)}return R}},{key:"_splitSafely",value:function(w,k){this.tree.remove(w);var R=w.rightSE;this.queue.remove(R);var z=w.split(k);return z.push(R),w.consumedBy===void 0&&this.tree.insert(w),z}}]),I}(),H=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,K=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Q=new(function(){function I(){c(this,I)}return u(I,[{key:"run",value:function(w,k,R){Q.type=w,at.reset();for(var z=[new ft(k,!0)],F=0,et=R.length;F<et;F++)z.push(new ft(R[F],!1));if(Q.numMultiPolys=z.length,Q.type==="difference")for(var st=z[0],vt=1;vt<z.length;)W(z[vt].bbox,st.bbox)!==null?vt++:z.splice(vt,1);if(Q.type==="intersection"){for(var Ot=0,Nt=z.length;Ot<Nt;Ot++)for(var Xt=z[Ot],ne=Ot+1,be=z.length;ne<be;ne++)if(W(Xt.bbox,z[ne].bbox)===null)return[]}for(var te=new S(Ut.compare),ve=0,he=z.length;ve<he;ve++)for(var we=z[ve].getSweepEvents(),Ae=0,We=we.length;Ae<We;Ae++)if(te.insert(we[Ae]),te.size>H)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Je=new ue(te),fn=te.size,cn=te.pop();cn;){var Xe=cn.key;if(te.size===fn){var hn=Xe.segment;throw new Error("Unable to pop() ".concat(Xe.isLeft?"left":"right"," SweepEvent ")+"[".concat(Xe.point.x,", ").concat(Xe.point.y,"] from segment #").concat(hn.id," ")+"[".concat(hn.leftSE.point.x,", ").concat(hn.leftSE.point.y,"] -> ")+"[".concat(hn.rightSE.point.x,", ").concat(hn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(te.size>H)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Je.segments.length>K)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Ln=Je.process(Xe),$n=0,Ye=Ln.length;$n<Ye;$n++){var Fe=Ln[$n];Fe.consumedBy===void 0&&te.insert(Fe)}fn=te.size,cn=te.pop()}at.reset();var Rn=St.factory(Je.segments);return new jt(Rn).getGeom()}}]),I}()),dt=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),R=1;R<w;R++)k[R-1]=arguments[R];return Q.run("union",I,k)},gt=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),R=1;R<w;R++)k[R-1]=arguments[R];return Q.run("intersection",I,k)},xt=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),R=1;R<w;R++)k[R-1]=arguments[R];return Q.run("xor",I,k)},At=function(I){for(var w=arguments.length,k=new Array(w>1?w-1:0),R=1;R<w;R++)k[R-1]=arguments[R];return Q.run("difference",I,k)};return{union:dt,intersection:gt,xor:xt,difference:At}}()},2582:function(a){a.exports=function(){function c(O,D,W,ot,J){(function it(ht,_t,at,bt,Lt){for(;bt>at;){if(bt-at>600){var Tt=bt-at+1,Ct=_t-at+1,$t=Math.log(Tt),wt=.5*Math.exp(2*$t/3),fe=.5*Math.sqrt($t*wt*(Tt-wt)/Tt)*(Ct-Tt/2<0?-1:1);it(ht,_t,Math.max(at,Math.floor(_t-Ct*wt/Tt+fe)),Math.min(bt,Math.floor(_t+(Tt-Ct)*wt/Tt+fe)),Lt)}var zt=ht[_t],It=at,Ut=bt;for(i(ht,at,_t),Lt(ht[bt],zt)>0&&i(ht,at,bt);It<Ut;){for(i(ht,It,Ut),It++,Ut--;Lt(ht[It],zt)<0;)It++;for(;Lt(ht[Ut],zt)>0;)Ut--}Lt(ht[at],zt)===0?i(ht,at,Ut):i(ht,++Ut,bt),Ut<=_t&&(at=Ut+1),_t<=Ut&&(bt=Ut-1)}})(O,D,W||0,ot||O.length-1,J||u)}function i(O,D,W){var ot=O[D];O[D]=O[W],O[W]=ot}function u(O,D){return O<D?-1:O>D?1:0}var h=function(O){O===void 0&&(O=9),this._maxEntries=Math.max(4,O),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function f(O,D,W){if(!W)return D.indexOf(O);for(var ot=0;ot<D.length;ot++)if(W(O,D[ot]))return ot;return-1}function m(O,D){g(O,0,O.children.length,D,O)}function g(O,D,W,ot,J){J||(J=P(null)),J.minX=1/0,J.minY=1/0,J.maxX=-1/0,J.maxY=-1/0;for(var it=D;it<W;it++){var ht=O.children[it];v(J,O.leaf?ot(ht):ht)}return J}function v(O,D){return O.minX=Math.min(O.minX,D.minX),O.minY=Math.min(O.minY,D.minY),O.maxX=Math.max(O.maxX,D.maxX),O.maxY=Math.max(O.maxY,D.maxY),O}function M(O,D){return O.minX-D.minX}function A(O,D){return O.minY-D.minY}function S(O){return(O.maxX-O.minX)*(O.maxY-O.minY)}function E(O){return O.maxX-O.minX+(O.maxY-O.minY)}function G(O,D){return O.minX<=D.minX&&O.minY<=D.minY&&D.maxX<=O.maxX&&D.maxY<=O.maxY}function C(O,D){return D.minX<=O.maxX&&D.minY<=O.maxY&&D.maxX>=O.minX&&D.maxY>=O.minY}function P(O){return{children:O,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(O,D,W,ot,J){for(var it=[D,W];it.length;)if(!((W=it.pop())-(D=it.pop())<=ot)){var ht=D+Math.ceil((W-D)/ot/2)*ot;c(O,ht,D,W,J),it.push(D,ht,ht,W)}}return h.prototype.all=function(){return this._all(this.data,[])},h.prototype.search=function(O){var D=this.data,W=[];if(!C(O,D))return W;for(var ot=this.toBBox,J=[];D;){for(var it=0;it<D.children.length;it++){var ht=D.children[it],_t=D.leaf?ot(ht):ht;C(O,_t)&&(D.leaf?W.push(ht):G(O,_t)?this._all(ht,W):J.push(ht))}D=J.pop()}return W},h.prototype.collides=function(O){var D=this.data;if(!C(O,D))return!1;for(var W=[];D;){for(var ot=0;ot<D.children.length;ot++){var J=D.children[ot],it=D.leaf?this.toBBox(J):J;if(C(O,it)){if(D.leaf||G(O,it))return!0;W.push(J)}}D=W.pop()}return!1},h.prototype.load=function(O){if(!O||!O.length)return this;if(O.length<this._minEntries){for(var D=0;D<O.length;D++)this.insert(O[D]);return this}var W=this._build(O.slice(),0,O.length-1,0);if(this.data.children.length)if(this.data.height===W.height)this._splitRoot(this.data,W);else{if(this.data.height<W.height){var ot=this.data;this.data=W,W=ot}this._insert(W,this.data.height-W.height-1,!0)}else this.data=W;return this},h.prototype.insert=function(O){return O&&this._insert(O,this.data.height-1),this},h.prototype.clear=function(){return this.data=P([]),this},h.prototype.remove=function(O,D){if(!O)return this;for(var W,ot,J,it=this.data,ht=this.toBBox(O),_t=[],at=[];it||_t.length;){if(it||(it=_t.pop(),ot=_t[_t.length-1],W=at.pop(),J=!0),it.leaf){var bt=f(O,it.children,D);if(bt!==-1)return it.children.splice(bt,1),_t.push(it),this._condense(_t),this}J||it.leaf||!G(it,ht)?ot?(W++,it=ot.children[W],J=!1):it=null:(_t.push(it),at.push(W),W=0,ot=it,it=it.children[0])}return this},h.prototype.toBBox=function(O){return O},h.prototype.compareMinX=function(O,D){return O.minX-D.minX},h.prototype.compareMinY=function(O,D){return O.minY-D.minY},h.prototype.toJSON=function(){return this.data},h.prototype.fromJSON=function(O){return this.data=O,this},h.prototype._all=function(O,D){for(var W=[];O;)O.leaf?D.push.apply(D,O.children):W.push.apply(W,O.children),O=W.pop();return D},h.prototype._build=function(O,D,W,ot){var J,it=W-D+1,ht=this._maxEntries;if(it<=ht)return m(J=P(O.slice(D,W+1)),this.toBBox),J;ot||(ot=Math.ceil(Math.log(it)/Math.log(ht)),ht=Math.ceil(it/Math.pow(ht,ot-1))),(J=P([])).leaf=!1,J.height=ot;var _t=Math.ceil(it/ht),at=_t*Math.ceil(Math.sqrt(ht));j(O,D,W,at,this.compareMinX);for(var bt=D;bt<=W;bt+=at){var Lt=Math.min(bt+at-1,W);j(O,bt,Lt,_t,this.compareMinY);for(var Tt=bt;Tt<=Lt;Tt+=_t){var Ct=Math.min(Tt+_t-1,Lt);J.children.push(this._build(O,Tt,Ct,ot-1))}}return m(J,this.toBBox),J},h.prototype._chooseSubtree=function(O,D,W,ot){for(;ot.push(D),!D.leaf&&ot.length-1!==W;){for(var J=1/0,it=1/0,ht=void 0,_t=0;_t<D.children.length;_t++){var at=D.children[_t],bt=S(at),Lt=(Tt=O,Ct=at,(Math.max(Ct.maxX,Tt.maxX)-Math.min(Ct.minX,Tt.minX))*(Math.max(Ct.maxY,Tt.maxY)-Math.min(Ct.minY,Tt.minY))-bt);Lt<it?(it=Lt,J=bt<J?bt:J,ht=at):Lt===it&&bt<J&&(J=bt,ht=at)}D=ht||D.children[0]}var Tt,Ct;return D},h.prototype._insert=function(O,D,W){var ot=W?O:this.toBBox(O),J=[],it=this._chooseSubtree(ot,this.data,D,J);for(it.children.push(O),v(it,ot);D>=0&&J[D].children.length>this._maxEntries;)this._split(J,D),D--;this._adjustParentBBoxes(ot,J,D)},h.prototype._split=function(O,D){var W=O[D],ot=W.children.length,J=this._minEntries;this._chooseSplitAxis(W,J,ot);var it=this._chooseSplitIndex(W,J,ot),ht=P(W.children.splice(it,W.children.length-it));ht.height=W.height,ht.leaf=W.leaf,m(W,this.toBBox),m(ht,this.toBBox),D?O[D-1].children.push(ht):this._splitRoot(W,ht)},h.prototype._splitRoot=function(O,D){this.data=P([O,D]),this.data.height=O.height+1,this.data.leaf=!1,m(this.data,this.toBBox)},h.prototype._chooseSplitIndex=function(O,D,W){for(var ot,J,it,ht,_t,at,bt,Lt=1/0,Tt=1/0,Ct=D;Ct<=W-D;Ct++){var $t=g(O,0,Ct,this.toBBox),wt=g(O,Ct,W,this.toBBox),fe=(J=$t,it=wt,ht=void 0,_t=void 0,at=void 0,bt=void 0,ht=Math.max(J.minX,it.minX),_t=Math.max(J.minY,it.minY),at=Math.min(J.maxX,it.maxX),bt=Math.min(J.maxY,it.maxY),Math.max(0,at-ht)*Math.max(0,bt-_t)),zt=S($t)+S(wt);fe<Lt?(Lt=fe,ot=Ct,Tt=zt<Tt?zt:Tt):fe===Lt&&zt<Tt&&(Tt=zt,ot=Ct)}return ot||W-D},h.prototype._chooseSplitAxis=function(O,D,W){var ot=O.leaf?this.compareMinX:M,J=O.leaf?this.compareMinY:A;this._allDistMargin(O,D,W,ot)<this._allDistMargin(O,D,W,J)&&O.children.sort(ot)},h.prototype._allDistMargin=function(O,D,W,ot){O.children.sort(ot);for(var J=this.toBBox,it=g(O,0,D,J),ht=g(O,W-D,W,J),_t=E(it)+E(ht),at=D;at<W-D;at++){var bt=O.children[at];v(it,O.leaf?J(bt):bt),_t+=E(it)}for(var Lt=W-D-1;Lt>=D;Lt--){var Tt=O.children[Lt];v(ht,O.leaf?J(Tt):Tt),_t+=E(ht)}return _t},h.prototype._adjustParentBBoxes=function(O,D,W){for(var ot=W;ot>=0;ot--)v(D[ot],O)},h.prototype._condense=function(O){for(var D=O.length-1,W=void 0;D>=0;D--)O[D].children.length===0?D>0?(W=O[D-1].children).splice(W.indexOf(O[D]),1):this.clear():m(O[D],this.toBBox)},h}()}},n={};function s(a){var c=n[a];if(c!==void 0)return c.exports;var i=n[a]={id:a,loaded:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.n=a=>{var c=a&&a.__esModule?()=>a.default:()=>a;return s.d(c,{a:c}),c},s.d=(a,c)=>{for(var i in c)s.o(c,i)&&!s.o(a,i)&&Object.defineProperty(a,i,{enumerable:!0,get:c[i]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a),s(5975)})();var xc={exports:{}};(function(t,n){(function(s,a){a(n)})(vp,function(s){var a=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=i,h=this._zoom;if(i.__parent)for(;u.__parent._zoom>=h;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,u):this._animationAddLayerNonAnimated(i,u)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):(i.getLatLng?this._map?i.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())):(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i})):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i})),this)},addLayers:function(i,u){if(!L.Util.isArray(i))return this.addLayer(i);var h,f=this._featureGroup,m=this._nonPointGroup,g=this.options.chunkedLoading,v=this.options.chunkInterval,M=this.options.chunkProgress,A=i.length,S=0,E=!0;if(this._map){var G=new Date().getTime(),C=L.bind(function(){var j=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();S<A;S++){if(g&&S%200==0){var O=new Date().getTime()-j;if(v<O)break}if((h=i[S])instanceof L.LayerGroup)E&&(i=i.slice(),E=!1),this._extractNonGroupLayers(h,i),A=i.length;else if(h.getLatLng){if(!this.hasLayer(h)&&(this._addLayer(h,this._maxZoom),u||this.fire("layeradd",{layer:h}),h.__parent&&h.__parent.getChildCount()===2)){var D=h.__parent.getAllChildMarkers(),W=D[0]===h?D[1]:D[0];f.removeLayer(W)}}else m.addLayer(h),u||this.fire("layeradd",{layer:h})}M&&M(S,A,new Date().getTime()-G),S===A?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(C,this.options.chunkDelay)},this);C()}else for(var P=this._needsClustering;S<A;S++)(h=i[S])instanceof L.LayerGroup?(E&&(i=i.slice(),E=!1),this._extractNonGroupLayers(h,i),A=i.length):h.getLatLng?this.hasLayer(h)||P.push(h):m.addLayer(h);return this},removeLayers:function(i){var u,h,f=i.length,m=this._featureGroup,g=this._nonPointGroup,v=!0;if(!this._map){for(u=0;u<f;u++)(h=i[u])instanceof L.LayerGroup?(v&&(i=i.slice(),v=!1),this._extractNonGroupLayers(h,i),f=i.length):(this._arraySplice(this._needsClustering,h),g.removeLayer(h),this.hasLayer(h)&&this._needsRemoving.push({layer:h,latlng:h._latlng}),this.fire("layerremove",{layer:h}));return this}if(this._unspiderfy){this._unspiderfy();var M=i.slice(),A=f;for(u=0;u<A;u++)(h=M[u])instanceof L.LayerGroup?(this._extractNonGroupLayers(h,M),A=M.length):this._unspiderfyLayer(h)}for(u=0;u<f;u++)(h=i[u])instanceof L.LayerGroup?(v&&(i=i.slice(),v=!1),this._extractNonGroupLayers(h,i),f=i.length):h.__parent?(this._removeLayer(h,!0,!0),this.fire("layerremove",{layer:h}),m.hasLayer(h)&&(m.removeLayer(h),h.clusterShow&&h.clusterShow())):(g.removeLayer(h),this.fire("layerremove",{layer:h}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;0<=u;u--)i.extend(this._needsClustering[u].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,u){var h,f,m,g=this._needsClustering.slice(),v=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(g),f=g.length-1;0<=f;f--){for(h=!0,m=v.length-1;0<=m;m--)if(v[m].layer===g[f]){h=!1;break}h&&i.call(u,g[f])}this._nonPointGroup.eachLayer(i,u)},getLayers:function(){var i=[];return this.eachLayer(function(u){i.push(u)}),i},getLayer:function(i){var u=null;return i=parseInt(i,10),this.eachLayer(function(h){L.stamp(h)===i&&(u=h)}),u},hasLayer:function(i){if(!i)return!1;var u,h=this._needsClustering;for(u=h.length-1;0<=u;u--)if(h[u]===i)return!0;for(u=(h=this._needsRemoving).length-1;0<=u;u--)if(h[u].layer===i)return!1;return!(!i.__parent||i.__parent._group!==this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,u){var h=this._map;typeof u!="function"&&(u=function(){});var f=function(){!h.hasLayer(i)&&!h.hasLayer(i.__parent)||this._inZoomAnimation||(this._map.off("moveend",f,this),this.off("animationend",f,this),h.hasLayer(i)?u():i.__parent._icon&&(this.once("spiderfied",u,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?u():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",f,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",f,this),this.on("animationend",f,this),i.__parent.zoomToBounds())},onAdd:function(i){var u,h,f;if(this._map=i,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,u=0,h=this._needsRemoving.length;u<h;u++)(f=this._needsRemoving[u]).newlatlng=f.layer._latlng,f.layer._latlng=f.latlng;for(u=0,h=this._needsRemoving.length;u<h;u++)f=this._needsRemoving[u],this._removeLayer(f.layer,!0),f.layer._latlng=f.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),h=this._needsClustering,this._needsClustering=[],this.addLayers(h,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var u=i;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(i,u){for(var h=i.length-1;0<=h;h--)if(i[h]===u)return i.splice(h,1),!0},_removeFromGridUnclustered:function(i,u){for(var h=this._map,f=this._gridUnclustered,m=Math.floor(this._map.getMinZoom());m<=u&&f[u].removeObject(i,h.project(i.getLatLng(),u));u--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var u=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),u&&i.target.openPopup()}},_moveChild:function(i,u,h){i._latlng=u,this.removeLayer(i),i._latlng=h,this.addLayer(i)},_childMarkerDragEnd:function(i){var u=i.target.__dragStart;delete i.target.__dragStart,u&&this._moveChild(i.target,u,i.target._latlng)},_removeLayer:function(i,u,h){var f=this._gridClusters,m=this._gridUnclustered,g=this._featureGroup,v=this._map,M=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(i,this._maxZoom);var A,S=i.__parent,E=S._markers;for(this._arraySplice(E,i);S&&(S._childCount--,S._boundsNeedUpdate=!0,!(S._zoom<M));)u&&S._childCount<=1?(A=S._markers[0]===i?S._markers[1]:S._markers[0],f[S._zoom].removeObject(S,v.project(S._cLatLng,S._zoom)),m[S._zoom].addObject(A,v.project(A.getLatLng(),S._zoom)),this._arraySplice(S.__parent._childClusters,S),S.__parent._markers.push(A),A.__parent=S.__parent,S._icon&&(g.removeLayer(S),h||g.addLayer(A))):S._iconNeedsUpdate=!0,S=S.__parent;delete i.__parent},_isOrIsParent:function(i,u){for(;u;){if(i===u)return!0;u=u.parentNode}return!1},fire:function(i,u,h){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,u,h)},listens:function(i,u){return L.FeatureGroup.prototype.listens.call(this,i,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,u)},_defaultIconCreateFunction:function(i){var u=i.getChildCount(),h=" marker-cluster-";return h+=u<10?"small":u<100?"medium":"large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+h,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,u=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,f=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom;(u||f||m)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var u=i.layer,h=u;if(i.type!=="clusterkeypress"||!i.originalEvent||i.originalEvent.keyCode===13){for(;h._childClusters.length===1;)h=h._childClusters[0];h._zoom===this._maxZoom&&h._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),2<i.layer.getChildCount()&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom,m=this._map;(i||h||f)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),m.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),h=this.options.maxClusterRadius,f=h;typeof h!="function"&&(f=function(){return h}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var m=i;u<=m;m--)this._gridClusters[m]=new L.DistanceGrid(f(m)),this._gridUnclustered[m]=new L.DistanceGrid(f(m));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(i,u){var h,f,m=this._gridClusters,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);v<=u;u--){h=this._map.project(i.getLatLng(),u);var M=m[u].getNearObject(h);if(M)return M._addChild(i),void(i.__parent=M);if(M=g[u].getNearObject(h)){var A=M.__parent;A&&this._removeLayer(M,!1);var S=new this._markerCluster(this,u,M,i);m[u].addObject(S,this._map.project(S._cLatLng,u)),M.__parent=S;var E=i.__parent=S;for(f=u-1;f>A._zoom;f--)E=new this._markerCluster(this,f,E),m[f].addObject(E,this._map.project(M.getLatLng(),f));return A._addChild(E),void this._removeFromGridUnclustered(M,u)}g[u].addObject(i,h)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(i){var u=this._maxLat;return u!==void 0&&(i.getNorth()>=u&&(i._northEast.lat=1/0),i.getSouth()<=-u&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,u){if(u===i)this._featureGroup.addLayer(i);else if(u._childCount===2){u._addToMap();var h=u.getAllChildMarkers();this._featureGroup.removeLayer(h[0]),this._featureGroup.removeLayer(h[1])}else u._updateIcon()},_extractNonGroupLayers:function(i,u){var h,f=i.getLayers(),m=0;for(u=u||[];m<f.length;m++)(h=f[m])instanceof L.LayerGroup?this._extractNonGroupLayers(h,u):u.push(h);return u},_overrideMarkerIcon:function(i){return i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,u){this._animationAddLayerNonAnimated(i,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,u){var h,f=this._getExpandedVisibleBounds(),m=this._featureGroup,g=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(f,i,g,function(v){var M,A=v._latlng,S=v._markers;for(f.contains(A)||(A=null),v._isSingleParent()&&i+1===u?(m.removeLayer(v),v._recursivelyAddChildrenToMap(null,u,f)):(v.clusterHide(),v._recursivelyAddChildrenToMap(A,u,f)),h=S.length-1;0<=h;h--)M=S[h],f.contains(M._latlng)||m.removeLayer(M)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(f,u),m.eachLayer(function(v){v instanceof L.MarkerCluster||!v._icon||v.clusterShow()}),this._topClusterLevel._recursively(f,i,u,function(v){v._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(f,i,g,function(v){m.removeLayer(v),v.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,u){this._animationZoomOutSingle(this._topClusterLevel,i-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,u){var h=this,f=this._featureGroup;f.addLayer(i),u!==i&&(2<u._childCount?(u._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(u.getLatLng())),i.clusterHide(),this._enqueue(function(){f.removeLayer(i),i.clusterShow(),h._animationEnd()})):(this._forceLayout(),h._animationStart(),h._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,u,h){var f=this._getExpandedVisibleBounds(),m=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(f,m,u+1,h);var g=this;this._forceLayout(),i._recursivelyBecomeVisible(f,h),this._enqueue(function(){if(i._childCount===1){var v=i._markers[0];this._ignoreMove=!0,v.setLatLng(v.getLatLng()),this._ignoreMove=!1,v.clusterShow&&v.clusterShow()}else i._recursively(f,h,m,function(M){M._recursivelyRemoveChildrenFromMap(f,m,u+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var c=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,u,h,f){L.Marker.prototype.initialize.call(this,h?h._cLatLng||h.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,h&&this._addChild(h),f&&this._addChild(f)},getAllChildMarkers:function(i,u){i=i||[];for(var h=this._childClusters.length-1;0<=h;h--)this._childClusters[h].getAllChildMarkers(i,u);for(var f=this._markers.length-1;0<=f;f--)u&&this._markers[f].__dragStart||i.push(this._markers[f]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var u,h=this._childClusters.slice(),f=this._group._map,m=f.getBoundsZoom(this._bounds),g=this._zoom+1,v=f.getZoom();0<h.length&&g<m;){g++;var M=[];for(u=0;u<h.length;u++)M=M.concat(h[u]._childClusters);h=M}g<m?this._group._map.setView(this._latlng,g):m<=v?this._group._map.setView(this._latlng,v+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(u||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(u||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i,u,h,f,m=this._markers,g=this._childClusters,v=0,M=0,A=this._childCount;if(A!==0){for(this._resetBounds(),i=0;i<m.length;i++)h=m[i]._latlng,this._bounds.extend(h),v+=h.lat,M+=h.lng;for(i=0;i<g.length;i++)(u=g[i])._boundsNeedUpdate&&u._recalculateBounds(),this._bounds.extend(u._bounds),h=u._wLatLng,f=u._childCount,v+=h.lat*f,M+=h.lng*f;this._latlng=this._wLatLng=new L.LatLng(v/A,M/A),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,u,h){this._recursively(i,this._group._map.getMinZoom(),h-1,function(f){var m,g,v=f._markers;for(m=v.length-1;0<=m;m--)(g=v[m])._icon&&(g._setPos(u),g.clusterHide())},function(f){var m,g,v=f._childClusters;for(m=v.length-1;0<=m;m--)(g=v[m])._icon&&(g._setPos(u),g.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,u,h,f){this._recursively(i,f,u,function(m){m._recursivelyAnimateChildrenIn(i,m._group._map.latLngToLayerPoint(m.getLatLng()).round(),h),m._isSingleParent()&&h-1===f?(m.clusterShow(),m._recursivelyRemoveChildrenFromMap(i,u,h)):m.clusterHide(),m._addToMap()})},_recursivelyBecomeVisible:function(i,u){this._recursively(i,this._group._map.getMinZoom(),u,null,function(h){h.clusterShow()})},_recursivelyAddChildrenToMap:function(i,u,h){this._recursively(h,this._group._map.getMinZoom()-1,u,function(f){if(u!==f._zoom)for(var m=f._markers.length-1;0<=m;m--){var g=f._markers[m];h.contains(g._latlng)&&(i&&(g._backupLatlng=g.getLatLng(),g.setLatLng(i),g.clusterHide&&g.clusterHide()),f._group._featureGroup.addLayer(g))}},function(f){f._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var u=this._markers.length-1;0<=u;u--){var h=this._markers[u];h._backupLatlng&&(h.setLatLng(h._backupLatlng),delete h._backupLatlng)}if(i-1===this._zoom)for(var f=this._childClusters.length-1;0<=f;f--)this._childClusters[f]._restorePosition();else for(var m=this._childClusters.length-1;0<=m;m--)this._childClusters[m]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,u,h,f){var m,g;this._recursively(i,u-1,h-1,function(v){for(g=v._markers.length-1;0<=g;g--)m=v._markers[g],f&&f.contains(m._latlng)||(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())},function(v){for(g=v._childClusters.length-1;0<=g;g--)m=v._childClusters[g],f&&f.contains(m._latlng)||(v._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())})},_recursively:function(i,u,h,f,m){var g,v,M=this._childClusters,A=this._zoom;if(u<=A&&(f&&f(this),m&&A===h&&m(this)),A<u||A<h)for(g=M.length-1;0<=g;g--)(v=M[g])._boundsNeedUpdate&&v._recalculateBounds(),i.intersects(v._bounds)&&v._recursively(i,u,h,f,m)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,u){var h=this._getCoord(u.x),f=this._getCoord(u.y),m=this._grid,g=m[f]=m[f]||{},v=g[h]=g[h]||[],M=L.Util.stamp(i);this._objectPoint[M]=u,v.push(i)},updateObject:function(i,u){this.removeObject(i),this.addObject(i,u)},removeObject:function(i,u){var h,f,m=this._getCoord(u.x),g=this._getCoord(u.y),v=this._grid,M=v[g]=v[g]||{},A=M[m]=M[m]||[];for(delete this._objectPoint[L.Util.stamp(i)],h=0,f=A.length;h<f;h++)if(A[h]===i)return A.splice(h,1),f===1&&delete M[m],!0},eachObject:function(i,u){var h,f,m,g,v,M,A=this._grid;for(h in A)for(f in v=A[h])for(m=0,g=(M=v[f]).length;m<g;m++)i.call(u,M[m])&&(m--,g--)},getNearObject:function(i){var u,h,f,m,g,v,M,A,S=this._getCoord(i.x),E=this._getCoord(i.y),G=this._objectPoint,C=this._sqCellSize,P=null;for(u=E-1;u<=E+1;u++)if(m=this._grid[u]){for(h=S-1;h<=S+1;h++)if(g=m[h])for(f=0,v=g.length;f<v;f++)M=g[f],((A=this._sqDist(G[L.Util.stamp(M)],i))<C||A<=C&&P===null)&&(C=A,P=M)}return P},_getCoord:function(i){var u=Math.floor(i/this._cellSize);return isFinite(u)?u:i},_sqDist:function(i,u){var h=u.x-i.x,f=u.y-i.y;return h*h+f*f}},L.QuickHull={getDistant:function(i,u){var h=u[1].lat-u[0].lat;return(u[0].lng-u[1].lng)*(i.lat-u[0].lat)+h*(i.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(i,u){var h,f,m,g=0,v=null,M=[];for(h=u.length-1;0<=h;h--)f=u[h],0<(m=this.getDistant(f,i))&&(M.push(f),g<m&&(g=m,v=f));return{maxPoint:v,newPoints:M}},buildConvexHull:function(i,u){var h=[],f=this.findMostDistantPointFromBaseLine(i,u);return f.maxPoint?h=(h=h.concat(this.buildConvexHull([i[0],f.maxPoint],f.newPoints))).concat(this.buildConvexHull([f.maxPoint,i[1]],f.newPoints)):[i[0]]},getConvexHull:function(i){var u,h=!1,f=!1,m=!1,g=!1,v=null,M=null,A=null,S=null,E=null,G=null;for(u=i.length-1;0<=u;u--){var C=i[u];(h===!1||C.lat>h)&&(h=(v=C).lat),(f===!1||C.lat<f)&&(f=(M=C).lat),(m===!1||C.lng>m)&&(m=(A=C).lng),(g===!1||C.lng<g)&&(g=(S=C).lng)}return E=f!==h?(G=M,v):(G=S,A),[].concat(this.buildConvexHull([G,E],i),this.buildConvexHull([E,G],i))}},L.MarkerCluster.include({getConvexHull:function(){var i,u,h=this.getAllChildMarkers(),f=[];for(u=h.length-1;0<=u;u--)i=h[u].getLatLng(),f.push(i);return L.QuickHull.getConvexHull(f)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var i,u=this.getAllChildMarkers(null,!0),h=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),i=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(u.length,h):u.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(u.length,h):(h.y+=10,this._generatePointsCircle(u.length,h)),this._animationSpiderfy(u,i)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,u){var h,f,m=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i)/this._2PI,g=this._2PI/i,v=[];for(m=Math.max(m,35),v.length=i,h=0;h<i;h++)f=this._circleStartAngle+h*g,v[h]=new L.Point(u.x+m*Math.cos(f),u.y+m*Math.sin(f))._round();return v},_generatePointsSpiral:function(i,u){var h,f=this._group.options.spiderfyDistanceMultiplier,m=f*this._spiralLengthStart,g=f*this._spiralFootSeparation,v=f*this._spiralLengthFactor*this._2PI,M=0,A=[];for(h=A.length=i;0<=h;h--)h<i&&(A[h]=new L.Point(u.x+m*Math.cos(M),u.y+m*Math.sin(M))._round()),m+=v/(M+=g/m+5e-4*h);return A},_noanimationUnspiderfy:function(){var i,u,h=this._group,f=h._map,m=h._featureGroup,g=this.getAllChildMarkers(null,!0);for(h._ignoreMove=!0,this.setOpacity(1),u=g.length-1;0<=u;u--)i=g[u],m.removeLayer(i),i._preSpiderfyLatlng&&(i.setLatLng(i._preSpiderfyLatlng),delete i._preSpiderfyLatlng),i.setZIndexOffset&&i.setZIndexOffset(0),i._spiderLeg&&(f.removeLayer(i._spiderLeg),delete i._spiderLeg);h.fire("unspiderfied",{cluster:this,markers:g}),h._ignoreMove=!1,h._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,u){var h,f,m,g,v=this._group,M=v._map,A=v._featureGroup,S=this._group.options.spiderLegPolylineOptions;for(v._ignoreMove=!0,h=0;h<i.length;h++)g=M.layerPointToLatLng(u[h]),f=i[h],m=new L.Polyline([this._latlng,g],S),M.addLayer(m),f._spiderLeg=m,f._preSpiderfyLatlng=f._latlng,f.setLatLng(g),f.setZIndexOffset&&f.setZIndexOffset(1e6),A.addLayer(f);this.setOpacity(.3),v._ignoreMove=!1,v.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,u){var h,f,m,g,v,M,A=this,S=this._group,E=S._map,G=S._featureGroup,C=this._latlng,P=E.latLngToLayerPoint(C),j=L.Path.SVG,O=L.extend({},this._group.options.spiderLegPolylineOptions),D=O.opacity;for(D===void 0&&(D=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),j?(O.opacity=0,O.className=(O.className||"")+" leaflet-cluster-spider-leg"):O.opacity=D,S._ignoreMove=!0,h=0;h<i.length;h++)f=i[h],M=E.layerPointToLatLng(u[h]),m=new L.Polyline([C,M],O),E.addLayer(m),f._spiderLeg=m,j&&(v=(g=m._path).getTotalLength()+.1,g.style.strokeDasharray=v,g.style.strokeDashoffset=v),f.setZIndexOffset&&f.setZIndexOffset(1e6),f.clusterHide&&f.clusterHide(),G.addLayer(f),f._setPos&&f._setPos(P);for(S._forceLayout(),S._animationStart(),h=i.length-1;0<=h;h--)M=E.layerPointToLatLng(u[h]),(f=i[h])._preSpiderfyLatlng=f._latlng,f.setLatLng(M),f.clusterShow&&f.clusterShow(),j&&((g=(m=f._spiderLeg)._path).style.strokeDashoffset=0,m.setStyle({opacity:D}));this.setOpacity(.3),S._ignoreMove=!1,setTimeout(function(){S._animationEnd(),S.fire("spiderfied",{cluster:A,markers:i})},200)},_animationUnspiderfy:function(i){var u,h,f,m,g,v,M=this,A=this._group,S=A._map,E=A._featureGroup,G=i?S._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):S.latLngToLayerPoint(this._latlng),C=this.getAllChildMarkers(null,!0),P=L.Path.SVG;for(A._ignoreMove=!0,A._animationStart(),this.setOpacity(1),h=C.length-1;0<=h;h--)(u=C[h])._preSpiderfyLatlng&&(u.closePopup(),u.setLatLng(u._preSpiderfyLatlng),delete u._preSpiderfyLatlng,v=!0,u._setPos&&(u._setPos(G),v=!1),u.clusterHide&&(u.clusterHide(),v=!1),v&&E.removeLayer(u),P&&(g=(m=(f=u._spiderLeg)._path).getTotalLength()+.1,m.style.strokeDashoffset=g,f.setStyle({opacity:0})));A._ignoreMove=!1,setTimeout(function(){var j=0;for(h=C.length-1;0<=h;h--)(u=C[h])._spiderLeg&&j++;for(h=C.length-1;0<=h;h--)(u=C[h])._spiderLeg&&(u.clusterShow&&u.clusterShow(),u.setZIndexOffset&&u.setZIndexOffset(0),1<j&&E.removeLayer(u),S.removeLayer(u._spiderLeg),delete u._spiderLeg);A._animationEnd(),A.fire("unspiderfied",{cluster:M,markers:C})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var u,h;for(u in i)for(h=i[u].__parent;h;)h._iconNeedsUpdate=!0,h=h.__parent},_refreshSingleMarkerModeMarkers:function(i){var u,h;for(u in i)h=i[u],this.hasLayer(h)&&h.setIcon(this._overrideMarkerIcon(h))}}),L.Marker.include({refreshIconOptions:function(i,u){var h=this.options.icon;return L.setOptions(h,i),this.setIcon(h),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),s.MarkerClusterGroup=a,s.MarkerCluster=c,Object.defineProperty(s,"__esModule",{value:!0})})})(xc,xc.exports);const ex={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Object,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["geojson:ready","geojson","add:layer","draw:start","edit:layer","drag:layer","zoom:change","zoom:start"],setup(t,{expose:n,emit:s}){const a=t;delete sn.Icon.Default.prototype._getIconUrl,sn.Icon.Default.mergeOptions({iconRetinaUrl:Nw,iconUrl:Gw,shadowUrl:Vw});let c,i,u,h;const f=Ft(null),m=Jt(()=>({maxZoom:a.zoomBounds,zoom:{animate:a.zoomAnimate}}));qe(()=>a.geojson,P=>{h.clearLayers(),G(P)},{deep:!0}),qe(()=>a.dragging,P=>{P?c.dragging.enable():c.dragging.disable()});function g(){const P={maxClusterRadius:a.maxClusterRadius};return a.clusterIconCreateFunction&&Object.assign(P,{iconCreateFunction:j=>a.clusterIconCreateFunction({L:sn,cluster:j})}),P}Ke(()=>{const P=tx(sn,{maxZoom:a.maxZoom,minZoom:a.minZoom,className:"map-tiles"}),[j]=Object.values(P),O={center:a.center,zoom:a.zoom,worldCopyJump:!0,dragging:a.dragging,maxZoom:a.maxZoom};a.disableZoom&&Object.assign(O,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),u=new sn.FeatureGroup,h=a.cluster?new sn.markerClusterGroup(g()):new sn.FeatureGroup,c=sn.map(f.value,O),c.attributionControl.setPrefix(a.prefix),c.pm.setGlobalOptions({layerGroup:u}),h.addTo(c),c.addLayer(u),c.addLayer(h),a.geojson&&G(a.geojson),a.controls&&(c.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),c.on("pm:create",D=>{s("geojson",v()),s("add:layer",A(D.layer))}),u.on("pm:edit",D=>{s("geojson",v()),s("edit:layer",A(D.layer))}),c.on("pm:drawstart",D=>{M(),s("draw:start",D)}),c.on("zoom",D=>s("zoom:change",D)),c.on("zoomstart",D=>s("zoom:start",D))),j.addTo(c),Object.keys(P).length>1&&sn.control.layers(P,{},{position:"topleft",collapsed:!1}).addTo(c),E()});function v(){const P=sn.featureGroup();return u.eachLayer(j=>{(j instanceof sn.Path||j instanceof sn.Marker)&&j.pm&&P.addLayer(j)}),P.toGeoJSON()}function M(){u.clearLayers()}function A(P){const j=P.toGeoJSON();return typeof P.getRadius=="function"&&(j.properties.radius=P.getRadius()),j}const S=()=>{if(!h)return;const P=h.getBounds();c.invalidateSize(),ks(()=>{Object.keys(P).length&&c.fitBounds(P,m.value)})},E=()=>{i=new ResizeObserver(P=>{P[0].contentRect,S()}),i.observe(f.value)};Zr(()=>{h.clearLayers(),i==null||i.disconnect()});function G(P){if(P){sn.geoJSON(P,{...Jw(sn),...a.geojsonOptions}).addTo(h);const j=h.getBounds();j.isValid()&&c.fitBounds(j,m.value)}s("geojson:ready",h)}function C(){return c}return n({clearDrawLayers:M,getMapObject:C,resizeMap:S}),(P,j)=>(N(),X("div",{ref_key:"leafletMap",ref:f,style:Vn({width:a.width,height:a.height})},null,4))}};function nx(t){rx(t,Object.assign({"/src/components/Map/VMap.client.vue":ex}))}function rx(t,n){Object.entries(n).forEach(([a,c])=>{const i=a.split("/").pop().replace(/\.client.\w+$/,"");t.component(i,c)})}const ix=["innerHTML"],ox={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},sx=Y("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1),ax=[sx],lx={key:1,class:"inline h-4 w-1"},ux=Y("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1),cx=[ux],hx=["innerHTML"],px={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(t){const n=t,s=Jt(()=>{const[c,...i]=n.items;return{username:c,host:i}});function a(){const[c,...i]=n.items;document.location.href=`mailto:${c}@${i.join(".")}`}return(c,i)=>(N(),X("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:a},[Y("span",{innerHTML:s.value.username},null,8,ix),(N(!0),X(Gt,null,de(s.value.host,(u,h)=>(N(),X(Gt,null,[h===0?(N(),X("svg",ox,ax)):(N(),X("svg",lx,cx)),Y("span",{innerHTML:u},null,8,hx)],64))),256))]))}},dx={};function fx(t,n){return N(),Pt(Ts,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:ct(()=>[Se(t.$slots,"default")]),_:3})}const mx=ie(dx,[["render",fx]]),_x={},gx={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"},yx=Xf('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),vx=[yx];function bx(t,n){return N(),X("svg",gx,vx)}const wx=ie(_x,[["render",bx]]);const xx={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},kx={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},Lx=["placeholder"],Mx={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},Cx=["onClick"],Px=["innerHTML"],Sx=500,Ex={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(t,{emit:n}){const s=t,a=Ft(""),c=Ft([]),i=Ft(!1),u=Ft(null);let h;qe(a,m=>{clearTimeout(h),m.length?h=setTimeout(()=>{i.value=!0,Ie.get(s.url,{params:{...s.params,[s.queryParam]:a.value}}).then(({data:g})=>{i.value=!1,c.value=g})},Sx):c.value=[]});const f=m=>{n("select",m),a.value=""};return Ke(()=>{s.autofocus&&u.value.focus()}),(m,g)=>{const v=ut("IconSearch");return N(),X("div",xx,[Y("div",kx,[rt(v,{class:"w-4 h-4 text-gray-500"})]),bo(Y("input",{"onUpdate:modelValue":g[0]||(g[0]=M=>a.value=M),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:t.placeholder,ref_key:"inputElement",ref:u},null,8,Lx),[[Am,a.value]]),i.value?(N(),Pt(wx,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Rt("",!0),c.value.length?(N(),X("ul",Mx,[(N(!0),X(Gt,null,de(c.value,M=>(N(),X("li",{key:M.id,class:"autocomplete__item px-3 py-2 border-b text-xs text-base-content cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:A=>f(M)},[Y("span",{innerHTML:M[t.label]},null,8,Px)],8,Cx))),128))])):Rt("",!0)])}}},wp=ie(Ex,[["__scopeId","data-v-bd0dac97"]]),Tx={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(t){const n=Bs(),s=({id:a,otu_valid_id:c})=>{n.push({name:"otus-id-overview",params:{id:c||a}})};return(a,c)=>(N(),Pt(wp,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:t.autofocus,params:{having_taxon_name_only:!0},onSelect:s},null,8,["autofocus"]))}},Ox=["title"],Ax={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:n}){const s=t,a=Jt({get(){return s.modelValue},set(c){n("update:modelValue",c)}});return(c,i)=>{const u=ut("IconMinusCircle"),h=ut("IconPlusCircle");return N(),X("button",{type:"button",title:a.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:i[0]||(i[0]=f=>a.value=!a.value)},[a.value?(N(),Pt(u,{key:0,class:"w-5 h-5"})):(N(),Pt(h,{key:1,class:"w-5 h-5"}))],8,Ox)}}},Rx={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(t){return(n,s)=>(N(),X("button",{type:"button",class:Ne(["px-3 py-1 hover:bg-opacity-80",{"bg-primary-color":t.primary,"bg-secondary-color":t.secondary,"text-primary-content":t.primary,"text-secondary-content":t.secondary}])},[Se(n.$slots,"default")],2))}};const Bx={},Ix={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function Dx(t,n){return N(),X("div",Ix,[Se(t.$slots,"default")])}const zx=ie(Bx,[["render",Dx]]),jx={},Nx={class:"p-4 pl-5 pr-5"};function Gx(t,n){return N(),X("div",Nx,[Se(t.$slots,"default")])}const Vx=ie(jx,[["render",Gx]]),Fx={},Hx={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function $x(t,n){return N(),X("div",Hx,[Se(t.$slots,"default")])}const Ux=ie(Fx,[["render",$x]]),Zx={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(t){const n=t,s=Ft(!1);let a;function c(){navigator.clipboard.writeText(n.text).then(()=>{s.value=!0,a=setTimeout(()=>{s.value=!1},n.delay)})}return ir(()=>{clearTimeout(a)}),(i,u)=>{const h=ut("IconCheck"),f=ut("IconClipboard"),m=ut("VButton");return N(),Pt(m,{class:"px-2 py-2 rounded-full",primary:"",onClick:c},{default:ct(()=>[s.value?(N(),Pt(h,{key:0,class:"w-4 h-4"})):(N(),Pt(f,{key:1,class:"w-4 h-4"}))]),_:1})}}},qx={class:"relative inline"},Kx=["onClick"],Wx={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(t){const n=Ft(null),s=Ft(!1),a=()=>{s.value=!s.value},c=u=>{s.value=!1,u.action()};function i(u){var h;(!u.target||!((h=n.value)!=null&&h.contains(u.target)))&&(s.value=!1)}return Ke(()=>{document.addEventListener("pointerdown",i,{passive:!0,capture:!0})}),ir(()=>{document.removeEventListener("pointerdown",i,{capture:!0})}),(u,h)=>(N(),X("div",qx,[Y("button",{title:"Menu",onClick:a},[Se(u.$slots,"button")]),s.value?(N(),X("ul",{key:0,ref_key:"element",ref:n,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(N(!0),X(Gt,null,de(t.items,f=>(N(),X("li",{key:f.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:m=>c(f)},qt(f.label),9,Kx))),128))],512)):Rt("",!0)]))}};function xp({props:t}){const n=Ft([]);function s(a){var c,i;return{id:a.id,objectId:a.depiction_object_id,objectType:a.depiction_object_type,objectLabel:a.depiction_object.label,label:a.label,imageOriginal:a.image.original,imageMedium:a.image.medium,attribution:((c=a.attribution)==null?void 0:c.label)||"",labelAttribution:[a.depiction_object.label,((i=a.attribution)==null?void 0:i.label)||""].join(" ")}}return qe(()=>t.depictionId,a=>{a.length&&Ie.get("/depictions/gallery",{params:{depiction_id:a}}).then(({data:c})=>{n.value=c.map(s).sort((i,u)=>t.depictionId.indexOf(i.id)-t.depictionId.indexOf(u.id))})},{immediate:!0}),{depictions:n}}const Jx=["src","alt"],Yx={class:"bg-black bg-opacity-25 absolute h-full w-full"},Xx={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-0 px-4"},Qx=["innerHTML"],t1={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(t){const n=t,{depictions:s}=xp({props:n}),a=Ft(0),c=Jt(()=>({height:n.height})),i=Jt(()=>s.value[a.value]||{}),u=Jt(()=>i.value.objectType==="Otu"),h=Jt(()=>[i.value.objectLabel,i.value.attribution].join(" "));let f=null;function m(){a.value=(a.value+1)%s.value.length}return qe(s,()=>{n.interval?(clearInterval(f),f=setInterval(m,n.interval)):a.value=Math.floor(Math.random()*data.length)}),ir(()=>{clearInterval(f)}),(g,v)=>{const M=ut("RouterLink");return N(),X("div",{class:"w-full relative",style:Vn(c.value)},[rt(Ts,{name:"fade"},{default:ct(()=>[i.value.imageOriginal?(N(),X("img",{class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",key:i.value.imageOriginal,src:i.value.imageOriginal,alt:i.value.label},null,8,Jx)):Rt("",!0)]),_:1}),Y("div",Yx,[Se(g.$slots,"default",{},void 0,!0)]),i.value.objectId?(N(),X("span",Xx,[u.value?(N(),Pt(M,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:i.value.objectId}},innerHTML:h.value},null,8,["to","innerHTML"])):(N(),X("span",{key:1,innerHTML:h.value},null,8,Qx))])):Rt("",!0)],4)}}},e1=ie(t1,[["__scopeId","data-v-a1b0f829"]]),n1={class:"h-80 max-h-80 flex items-center justify-center"},r1=["textContent"],i1=["src","alt"],o1={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(t,{emit:n}){const s=t,a=Ft(!1),c=Ft(null),i=Ft(null);qe(()=>s.image,f=>{f.original&&(i.value=null,a.value=!0)});function u(f){f.preventDefault(),a.value=!1,i.value="Image was not found or format is not supported"}function h(){a.value=!1}return Ke(()=>{c.value.addEventListener("load",h),c.value.addEventListener("error",u)}),(f,m)=>{var M;const g=ut("VSpinner"),v=ut("ClientOnly");return N(),X("div",n1,[rt(v,null,{default:ct(()=>[a.value?(N(),Pt(g,{key:0})):Rt("",!0)]),_:1}),i.value?(N(),X("span",{key:0,textContent:qt(i.value)},null,8,r1)):Rt("",!0),bo(Y("img",{ref_key:"imageElement",ref:c,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:t.image.original,alt:(M=t.image.depictions)==null?void 0:M.map(A=>A.label).join(";"),onClick:m[0]||(m[0]=A=>n("open:viewer"))},null,8,i1),[[Os,!i.value]])])}}},s1={class:"flex flex-col"},a1={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},l1={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(t){const n=t,s=Ft(!1),a=Ft(0),c=Jt(()=>n.images[a.value]||{}),i=()=>{a.value--},u=()=>{a.value++};return qe(()=>n.images,()=>{a.value=0},{immediate:!0}),(h,f)=>{const m=ut("ImageViewer");return N(),X(Gt,null,[Y("div",s1,[Y("div",a1,[rt(o1,{image:c.value,"onOpen:viewer":f[0]||(f[0]=()=>s.value=!0)},null,8,["image"])]),rt(_s,{class:"pt-2 pb-2",images:t.images,onSelectIndex:f[1]||(f[1]=g=>{a.value=g})},null,8,["images"])]),s.value?(N(),Pt(m,{key:0,index:a.value,images:t.images,next:a.value<n.images.length-1,previous:a.value>0,onSelectIndex:f[2]||(f[2]=g=>a.value=g),onNext:f[3]||(f[3]=g=>u()),onPrevious:f[4]||(f[4]=g=>i()),onClose:f[5]||(f[5]=g=>s.value=!1)},null,8,["index","images","next","previous"])):Rt("",!0)],64)}}},u1=["src"],c1=["innerHTML"],h1={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(t){const n=t,s=Jt(()=>({height:n.imageHeight}));function a(i){return i.objectType==="Otu"?"RouterLink":"div"}const{depictions:c}=xp({props:n});return(i,u)=>(N(),X("div",{class:Ne(["grid gap-2",!n.wrap&&"grid-flow-col"]),style:Vn(n.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${n.imageWidth}, 1fr))`)},[(N(!0),X(Gt,null,de(Wt(c),h=>(N(),Pt(Ci(a(h)),{key:h.id,to:{name:"otus-id",params:{id:h.objectId}}},{default:ct(()=>[Y("img",{src:h.imageMedium,style:Vn(s.value),class:"max-w-full my-0 object-cover w-full"},null,12,u1),t.label?(N(),X("span",{key:0,class:"text-sm",innerHTML:h.labelAttribution},null,8,c1)):Rt("",!0)]),_:2},1032,["to"]))),128))],6))}},p1={},d1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},f1=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),m1=[f1];function _1(t,n){return N(),X("svg",d1,m1)}const g1=ie(p1,[["render",_1]]),y1={},v1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},b1=Y("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1),w1=[b1];function x1(t,n){return N(),X("svg",v1,w1)}const k1=ie(y1,[["render",x1]]),L1={},M1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},C1=Y("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1),P1=[C1];function S1(t,n){return N(),X("svg",M1,P1)}const E1=ie(L1,[["render",S1]]),T1={},O1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},A1=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),R1=[A1];function B1(t,n){return N(),X("svg",O1,R1)}const I1=ie(T1,[["render",B1]]),D1={},z1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},j1=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1),N1=[j1];function G1(t,n){return N(),X("svg",z1,N1)}const V1=ie(D1,[["render",G1]]),F1={},H1={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},$1=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),U1=[$1];function Z1(t,n){return N(),X("svg",H1,U1)}const q1=ie(F1,[["render",Z1]]),K1={},W1={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},J1=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1),Y1=[J1];function X1(t,n){return N(),X("svg",W1,Y1)}const Q1=ie(K1,[["render",X1]]),tk={},ek={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},nk=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),rk=[nk];function ik(t,n){return N(),X("svg",ek,rk)}const ok=ie(tk,[["render",ik]]),sk={},ak={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"},lk=Y("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1),uk=[lk];function ck(t,n){return N(),X("svg",ak,uk)}const hk=ie(sk,[["render",ck]]),pk={},dk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},fk=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1),mk=[fk];function _k(t,n){return N(),X("svg",dk,mk)}const gk=ie(pk,[["render",_k]]),yk={},vk={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},bk=Y("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1),wk=[bk];function xk(t,n){return N(),X("svg",vk,wk)}const kk=ie(yk,[["render",xk]]),Lk={},Mk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ck=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Pk=[Ck];function Sk(t,n){return N(),X("svg",Mk,Pk)}const Ek=ie(Lk,[["render",Sk]]),Tk={},Ok={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Ak=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Rk=[Ak];function Bk(t,n){return N(),X("svg",Ok,Rk)}const Ik=ie(Tk,[["render",Bk]]),Dk={},zk={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},jk=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),Nk=[jk];function Gk(t,n){return N(),X("svg",zk,Nk)}const Vk=ie(Dk,[["render",Gk]]),Fk={},Hk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},$k=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),Uk=[$k];function Zk(t,n){return N(),X("svg",Hk,Uk)}const qk=ie(Fk,[["render",Zk]]),Kk={},Wk={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Jk=Y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),Yk=[Jk];function Xk(t,n){return N(),X("svg",Wk,Yk)}const Qk=ie(Kk,[["render",Xk]]),tL={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(t){return(n,s)=>(N(),X("div",null,[Y("p",null,qt(t.attribution.label),1)]))}},eL={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(t){return(n,s)=>(N(),X("div",null,[(N(!0),X(Gt,null,de(t.depictions,a=>(N(),X("div",{key:a.id},[Y("p",null,qt(a.label),1)]))),128))]))}},nL=["innerHTML"],rL={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(t){return(n,s)=>(N(),X("div",null,[Y("p",{innerHTML:t.source.label},null,8,nL)]))}},iL={class:"p-2 text-black dark:text-white opacity-50"},oL={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(t){return(n,s)=>(N(),X("span",iL,qt(t.currentImage+1)+"/"+qt(t.totalImages),1))}},sL={},aL={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function lL(t,n){const s=ut("IconArrowRight");return N(),X("button",aL,[rt(s,{class:"h-8 w-8"})])}const uL=ie(sL,[["render",lL]]),cL={},hL={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function pL(t,n){const s=ut("IconArrowLeft");return N(),X("button",hL,[rt(s,{class:"h-8 w-8"})])}const dL=ie(cL,[["render",pL]]),fL={},mL={class:"p-2 box-border flex justify-between"};function _L(t,n){return N(),X("div",mL,[Y("div",null,[Se(t.$slots,"default")]),Y("div",null,[Se(t.$slots,"right")])])}const gL=ie(fL,[["render",_L]]),yL={},vL={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function bL(t,n){const s=ut("IconClose");return N(),X("button",vL,[rt(s)])}const wL=ie(yL,[["render",bL]]),xL={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},kL={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},LL=["textContent"],ML=["alt","src"],CL={class:"bottom-0 fixed max-w-full w-full"},PL={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},SL={class:"flex justify-center"},EL={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(t,{emit:n}){const s=t,a=({key:g})=>{switch(g){case"ArrowLeft":s.previous&&n("previous");break;case"ArrowRight":s.next&&n("next");break;case"Escape":n("close");break}},c=Ft(null),i=Ft(!1),u=Ft(null),h=Jt(()=>s.images[s.index]);document.addEventListener("keyup",a);function f(){i.value=!1,u.value="Image was not found or format is not supported"}function m(){i.value=!1}return Ke(()=>{c.value.addEventListener("load",m),c.value.addEventListener("error",f),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keyup",a),document.body.classList.remove("overflow-hidden")}),qe(()=>s.index,()=>{u.value=null,i.value=!0}),(g,v)=>{var A,S;const M=ut("VSpinner");return N(),X("div",xL,[Y("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:v[3]||(v[3]=ds(()=>{},["stop"]))},[Y("div",kL,[i.value?(N(),Pt(M,{key:0})):Rt("",!0),u.value?(N(),X("div",{key:1,class:"flex flex-col justify-center",textContent:qt(u.value)},null,8,LL)):Rt("",!0),bo(Y("img",{ref_key:"imageElement",ref:c,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:(S=(A=h.value)==null?void 0:A.depictions)==null?void 0:S.map(E=>E.label).join(";"),src:h.value.original,onClick:v[0]||(v[0]=E=>n("close"))},null,8,ML),[[Os,!u.value]]),t.next?(N(),Pt(uL,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:v[1]||(v[1]=E=>n("next"))})):Rt("",!0),t.previous?(N(),Pt(dL,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:v[2]||(v[2]=E=>n("previous"))})):Rt("",!0)])]),Y("div",CL,[Y("div",PL,[rt(eL,{class:"my-auto",depictions:h.value.depictions},null,8,["depictions"]),rt(tL,{class:"my-auto",attribution:h.value.attribution},null,8,["attribution"]),rt(rL,{class:"my-auto",source:h.value.source},null,8,["source"])]),Y("div",SL,[rt(_s,{class:"pb-2",current:t.index,images:t.images,onSelectIndex:v[4]||(v[4]=E=>n("selectIndex",E)),onClick:v[5]||(v[5]=ds(()=>{},["stop"]))},null,8,["current","images"])])]),rt(gL,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:ct(()=>[rt(wL,{onClick:v[6]||(v[6]=E=>n("close"))})]),default:ct(()=>[rt(oL,{"current-image":t.index,"total-images":t.images.length},null,8,["current-image","total-images"])]),_:1})])}}},TL="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",OL={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(t){const n=t,s={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},a=Jt(()=>s[n.frontmatter.layout]||TL);return(c,i)=>(N(),Pt(Ci(t.tag),{class:Ne(a.value)},{default:ct(()=>[Se(c.$slots,"default")]),_:3},8,["class"]))}},AL={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},RL=Y("span",null,null,-1),BL={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},IL={__name:"VModal.global",emits:["close"],setup(t,{emit:n}){const s=a=>{a.key==="Escape"&&(a.stopPropagation(),n("close"))};return Ke(()=>{document.addEventListener("keydown",s),document.body.classList.add("overflow-hidden")}),Zr(()=>{document.removeEventListener("keydown",s),document.body.classList.remove("overflow-hidden")}),(a,c)=>{const i=ut("IconClose");return N(),X("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:c[2]||(c[2]=u=>n("close")),onKey:c[3]||(c[3]=ds(u=>n("close"),["stop"]))},[Y("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:c[1]||(c[1]=ds(()=>{},["stop"]))},[Y("div",AL,[Se(a.$slots,"header",{},()=>[RL]),rt(i,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:c[0]||(c[0]=()=>n("close"))})]),Y("div",BL,[Se(a.$slots,"default")]),Y("div",null,[Se(a.$slots,"footer")])])],32)}}},DL={"aria-disabled":"false","aria-label":"Pagination",class:"flex flex-row text-sm"},zL=["disabled"],jL={role:"presentation",class:"page-item"},NL=["disabled"],GL={key:0,class:"border border-base-border px-2 py-1.5"},VL={key:0,class:"page-item"},FL=["disabled","onClick"],HL={key:1,class:"border border-base-border px-2 py-1.5"},$L={class:"page-item"},UL=["disabled"],ZL={role:"presentation"},qL=["disabled"],KL={__name:"VPagination.global",props:{modelValue:{type:Number,required:!0},total:{type:Number,required:!0},per:{type:Number,required:!0},rangePages:{type:Number,default:5}},emits:["update:modelValue"],setup(t,{emit:n}){const s=t,a=Jt(()=>Math.ceil(s.total/s.per)),c=Jt({get:()=>s.modelValue,set:h=>{n("update:modelValue",h)}}),i=Jt(()=>s.modelValue+s.rangePages),u=Jt(()=>s.modelValue-s.rangePages);return(h,f)=>(N(),X("ul",DL,[Y("li",null,[Y("button",{type:"button",disabled:c.value<2,"aria-label":"Go to first page",class:"border border-base-border rounded-l-md px-2 py-1.5",onClick:f[0]||(f[0]=m=>c.value=1)}," « ",8,zL)]),Y("li",jL,[Y("button",{type:"button",disabled:c.value<2,"aria-label":"Go to previous page",class:"border border-base-border px-2 py-1.5",onClick:f[1]||(f[1]=m=>c.value--)}," ‹ ",8,NL)]),t.modelValue>s.rangePages?(N(),X("li",GL," ... ")):Rt("",!0),(N(!0),X(Gt,null,de(a.value,m=>(N(),X(Gt,{key:m},[m<i.value&&u.value<m?(N(),X("li",VL,[Y("button",{type:"button","aria-label":"Go to page 1",class:Ne(["border border-base-border px-2 py-1.5",c.value===m?"text-primary-content bg-primary-color":"text-base-content"]),disabled:c.value===m,onClick:()=>c.value=m},qt(m),11,FL)])):Rt("",!0)],64))),128)),a.value-t.modelValue>=t.rangePages?(N(),X("li",HL," ... ")):Rt("",!0),Y("li",$L,[Y("button",{type:"button","aria-label":"Go to next page",class:"border border-base-border px-2 py-1.5",disabled:c.value===a.value,onClick:f[2]||(f[2]=()=>c.value++)}," › ",8,UL)]),Y("li",ZL,[Y("button",{type:"button",disabled:c.value===a.value,"aria-label":"Go to last page",class:"border border-base-border rounded-r-md px-2 py-1.5",onClick:f[3]||(f[3]=()=>c.value=a.value)}," » ",8,qL)])]))}},WL={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(t){const n=t,s=Ft({data:[]}),a=Jt(()=>n.data.map(u=>u.toLowerCase())),c=Jt(()=>{const u=s.value.data;return u.length?i(u):a.value.map(h=>[h,"??"])});function i(u){const h=n.data.length?u.filter(([f])=>a.value.includes(f)):u;return h.sort(([f],[m])=>a.value.indexOf(f)-a.value.indexOf(m)),h}return Ke(()=>{Ie.get("/stats").then(u=>{const h=Object.entries(u.data.data).map(([f,m])=>[f.toLowerCase(),m.toLocaleString()]);s.value.data=h})}),(u,h)=>(N(),Pt(Ci(t.tag),null,{default:ct(()=>[(N(!0),X(Gt,null,de(c.value,([f,m],g)=>Se(u.$slots,"default",{type:f,value:m},()=>[Y("span",null,qt(f)+": "+qt(m)+qt(g<c.value.length-1?"; ":""),1)])),256))]),_:3}))}},JL={key:1},YL={__name:"ClientOnly.global",setup(t){const n=Ft(!1);return Ke(()=>{n.value=!0}),(s,a)=>n.value?Se(s.$slots,"default",{key:0}):(N(),X("div",JL))}},XL={class:"inline-flex items-center text-sm"},QL={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(t){return(n,s)=>{const a=ut("router-link");return N(),X("li",XL,[rt(a,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-base-content border-b-2 border-transparent","active-class":"border-b-2 !border-secondary-color font-medium",to:t.to},{default:ct(()=>[Se(n.$slots,"default")]),_:3},8,["to"])])}}},tM={},eM={class:"inline-flex items-center space-x-1 md:space-x-3"};function nM(t,n){return N(),X("ul",eM,[Se(t.$slots,"default")])}const rM=ie(tM,[["render",nM]]),iM={},oM={class:"relative sm:rounded-lg"},sM={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function aM(t,n){return N(),X("div",oM,[Y("table",sM,[Se(t.$slots,"default")])])}const lM=ie(iM,[["render",aM]]),uM={},cM={class:"normal-case text-xs"};function hM(t,n){return N(),X("tbody",cM,[Se(t.$slots,"default")])}const pM=ie(uM,[["render",hM]]),dM={},fM={class:"px-4 py-4"};function mM(t,n){return N(),X("td",fM,[Se(t.$slots,"default")])}const _M=ie(dM,[["render",mM]]),gM={},yM={class:"bg-base-foreground border-b border-base-border"};function vM(t,n){return N(),X("tr",yM,[Se(t.$slots,"default")])}const bM=ie(gM,[["render",vM]]),wM={},xM={class:"text-xs text-base-content uppercase bg-base-background"};function kM(t,n){return N(),X("thead",xM,[Se(t.$slots,"default")])}const LM=ie(wM,[["render",kM]]),MM={},CM={class:"px-4 py-3"};function PM(t,n){return N(),X("th",CM,[Se(t.$slots,"default")])}const SM=ie(MM,[["render",PM]]),EM={};function TM(t,n){return N(),X("tr",null,[Se(t.$slots,"default")])}const OM=ie(EM,[["render",TM]]),AM={key:1},RM=Y("h1",{class:"font-medium text-base px-1"},"Report a problem",-1),BM={class:"font-normal p-5 pt-0 text-base"},IM=Y("span",null,"My issue is with:",-1),DM={class:"mx-5 my-2"},zM=["href"],jM={key:0,class:"text-sm"},NM="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",GM={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},tag:{type:String,default:"VButton"}},setup(t){const{issue_trackers:n}={base_url:"/taxonpages/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://sfg.taxonworks.org/api/v1",project_token:"NwDdMde5__27Q7McrZm7Ng",copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",header_logo_url:"/images/logo.jpg",header_logo_text:"Ammonites of Gondwana",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"},{label:"Help",link:"/help"}],map_tiles:[{label:"OpenStreetMap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}],metadata:[{name:"description",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],project_name:"Ammonoidea",project_citation:null,project_url:null,project_authors:"Paul Scofield",taxa_page:{overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:content","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:scrutiny","panel:statistics"]]]},specimen_records:{rank_group:["SpeciesGroup"],panels:[[["panel:specimen-records"]]]},inaturalist:{label:"iNaturalist",rank_group:["GenusGroup","SpeciesGroup"],panels:[[["panel:inaturalist"]]]}}},s=Ft(!1);function a(){n?s.value=!0:window.open(NM,"_blank")}return(c,i)=>{const u=ut("IconGithub"),h=ut("VModal");return N(),X(Gt,null,[(N(),Pt(Ci(t.tag),{type:"button",title:"Report a problem",class:Ne(t.buttonClass),onClick:a},{default:ct(()=>[t.icon?(N(),Pt(u,{key:0,class:"w-5 h-5"})):Rt("",!0),t.label?(N(),X("span",AM,qt(t.label),1)):Rt("",!0)]),_:1},8,["class"])),s.value?(N(),Pt(h,{key:0,class:"text-base-content",onClose:i[0]||(i[0]=f=>s.value=!1)},{header:ct(()=>[RM]),default:ct(()=>[Y("div",BM,[IM,Y("ul",DM,[(N(!0),X(Gt,null,de(Wt(n),f=>(N(),X("li",null,[Y("a",{href:f.url,target:"_blank"},qt(f.label),9,zM),f.description?(N(),X("span",jM," - "+qt(f.description),1)):Rt("",!0)]))),256))])])]),_:1})):Rt("",!0)],64)}}},VM={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(t){const n=Ef(),s=Jt(()=>{var i;const c=(i=n.default)==null?void 0:i.call(n);return a(c)});function a(c){if(!c)return!0;const[i]=c;let u=i.children;return i.el!==null||u!==null}return(c,i)=>(N(),X(Gt,null,[Se(c.$slots,"default"),s.value?(N(),X("span",{key:0,class:Ne(t.class)},[(N(!0),X(Gt,null,de(t.lines,u=>(N(),X("span",{key:u,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"}," ‌ "))),128))],2)):Rt("",!0)],64))}};const kl=t=>(th("data-v-b688ef4b"),t=t(),eh(),t),FM=kl(()=>Y("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1)),HM=kl(()=>Y("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)),$M=[FM,HM],UM=kl(()=>Y("span",{class:"sr-only"},"Loading...",-1)),ZM=["innerHTML"],qM={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(t){const n=t,s={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},a=Ft(null),c=Ft({}),i=Ft(void 0);Ke(()=>{u(),n.resize&&!n.fullScreen&&f()}),Zr(()=>clearInterval(i.value));const u=()=>{const m=n.target?document.querySelector(n.target):a.value.parentNode;Object.assign(c.value,n.fullScreen?s:h(m))},h=m=>{const g=m.getBoundingClientRect(),v=window.getComputedStyle(m,null),M=parseInt(v.getPropertyValue("padding-left"),10),A=parseInt(v.getPropertyValue("padding-right"),10),S=parseInt(v.getPropertyValue("padding-top"),10),E=parseInt(v.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:g.width-M-A+"px",height:g.height-S-E+"px"}},f=()=>{i.value=setInterval(u(),500)};return(m,g)=>(N(),X("div",{ref_key:"spinnerElement",ref:a,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Vn(c.value)},[Y("div",{class:Ne(["tw-spinner",[`tw-spinner-${t.spinnerPosition}`]])},[t.showSpinner?(N(),X("svg",{key:0,style:Vn(t.logoSize),"aria-hidden":"true",class:Ne(["text-base-lighter animate-spin fill-primary-color",t.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$M,6)):Rt("",!0),UM,t.legend.length?(N(),X("div",{key:1,class:Ne(["text-base-content text-center",t.legendClass]),style:Vn(t.legendStyle)},[t.showLegend?(N(),X("span",{key:0,innerHTML:t.legend},null,8,ZM)):Rt("",!0),Se(m.$slots,"default",{},void 0,!0)],6)):Rt("",!0)],2)],4))}},KM=ie(qM,[["__scopeId","data-v-b688ef4b"]]);function WM(t){JM(t,Object.assign({"/src/components/AddressMaker.global.vue":px,"/src/components/Animation/AnimationOpacity.global.vue":mx,"/src/components/Autocomplete/Autocomplete.global.vue":wp,"/src/components/Autocomplete/AutocompleteOtu.global.vue":Tx,"/src/components/Button/ButtonExpand.global.vue":Ax,"/src/components/Button/VButton.global.vue":Rx,"/src/components/Card/VCard.global.vue":zx,"/src/components/Card/VCardContent.global.vue":Vx,"/src/components/Card/VCardHeader.global.vue":Ux,"/src/components/Clipboard/VClipboard.global.vue":Zx,"/src/components/Dropdown/Dropdown.global.vue":Wx,"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":e1,"/src/components/Gallery/GalleryImage.global.vue":l1,"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":h1,"/src/components/Icon/IconArrowDown.global.vue":g1,"/src/components/Icon/IconArrowLeft.global.vue":k1,"/src/components/Icon/IconArrowRight.global.vue":E1,"/src/components/Icon/IconCheck.global.vue":I1,"/src/components/Icon/IconClipboard.global.vue":V1,"/src/components/Icon/IconClose.global.vue":q1,"/src/components/Icon/IconDocument.global.vue":Q1,"/src/components/Icon/IconDownload.global.vue":ok,"/src/components/Icon/IconGithub.global.vue":hk,"/src/components/Icon/IconHamburger.global.vue":gk,"/src/components/Icon/IconJson.global.vue":kk,"/src/components/Icon/IconMinusCircle.global.vue":Ek,"/src/components/Icon/IconPlusCircle.global.vue":Ik,"/src/components/Icon/IconSearch.global.vue":Vk,"/src/components/Icon/IconTrash.global.vue":qk,"/src/components/Icon/IconWarning.global.vue":Qk,"/src/components/ImageViewer/ImageViewer.global.vue":EL,"/src/components/Markdown/MarkdownLayout.global.vue":OL,"/src/components/Modal/VModal.global.vue":IL,"/src/components/Pagination/VPagination.global.vue":KL,"/src/components/ProjectStats.global.vue":WL,"/src/components/Ssr/ClientOnly.global.vue":YL,"/src/components/Tab/TabItem.global.vue":QL,"/src/components/Tab/TabMenu.global.vue":rM,"/src/components/Table/VTable.global.vue":lM,"/src/components/Table/VTableBody.global.vue":pM,"/src/components/Table/VTableBodyCell.global.vue":_M,"/src/components/Table/VTableBodyRow.global.vue":bM,"/src/components/Table/VTableHeader.global.vue":LM,"/src/components/Table/VTableHeaderCell.global.vue":SM,"/src/components/Table/VTableHeaderRow.global.vue":OM,"/src/components/TrackerReport.global.vue":GM,"/src/components/VSkeleton.global.vue":VM,"/src/components/VSpinner.global.vue":KM}))}function JM(t,n){Object.entries(n).forEach(([a,c])=>{const i=a.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");t.component(i,c)})}const YM=window.location.origin,kc=window.initialState,{app:Ll,router:XM,store:QM}=Dw({originUrl:YM});kc&&(QM.state.value=kc);nx(Ll);WM(Ll);XM.isReady().then(()=>{Ll.mount("#app")});export{Y as a,ee as b,Pt as c,lh as d,rt as e,N as o,ut as r,qt as t,ct as w};
