import{e as s,f as n,h as r,H as m,F as j,i as A,_,t as b,v as l,l as w,r as g,c as E,o as N,d as V,w as S,j as x,x as p,I as B,J as M,y as k,k as I}from"./index-CV6KFYyF.js";import q from"./GalleryThumbnailList-CMVtG3aV.js";const D={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(e){return(i,t)=>(n(),s("div",null,[r("p",null,m(e.attribution.label),1)]))}},H={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(e){return(i,t)=>(n(),s("div",null,[(n(!0),s(j,null,A(e.depictions,a=>(n(),s("div",{key:a.id},[r("p",null,m(a.label),1)]))),128))]))}},R=["innerHTML"],T={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(e){return(i,t)=>(n(),s("div",null,[r("p",{innerHTML:e.source.label},null,8,R)]))}},z={class:"p-2 text-black dark:text-white opacity-50"},F={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(e){return(i,t)=>(n(),s("span",z,m(e.currentImage+1)+"/"+m(e.totalImages),1))}},O={},P={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function J(e,i){const t=b("IconArrowRight");return n(),s("button",P,[l(t,{class:"h-8 w-8"})])}const K=_(O,[["render",J]]),U={},G={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function Q(e,i){const t=b("IconArrowLeft");return n(),s("button",G,[l(t,{class:"h-8 w-8"})])}const W=_(U,[["render",Q]]),X={},Y={class:"p-2 box-border flex justify-between"};function Z(e,i){return n(),s("div",Y,[r("div",null,[w(e.$slots,"default")]),r("div",null,[w(e.$slots,"right")])])}const ee=_(X,[["render",Z]]),te={},ne={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function oe(e,i){const t=b("IconClose");return n(),s("button",ne,[l(t)])}const se=_(te,[["render",oe]]),ae={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},re={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},le=["textContent"],ie=["alt","src"],ce={class:"bottom-0 fixed max-w-full w-full"},ue={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},de={class:"flex justify-center"},pe={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(e,{emit:i}){const t=e,a=i,y=({key:h})=>{switch(h){case"ArrowLeft":t.previous&&a("previous");break;case"ArrowRight":t.next&&a("next");break;case"Escape":a("close");break}},v=g(null),f=g(!1),u=g(null),d=E(()=>t.images[t.index]);document.addEventListener("keyup",y);function $(){f.value=!1,u.value="Image was not found or format is not supported"}function C(){f.value=!1}return N(()=>{v.value.addEventListener("load",C),v.value.addEventListener("error",$),document.body.classList.add("overflow-hidden")}),V(()=>{document.removeEventListener("keyup",y),document.body.classList.remove("overflow-hidden")}),S(()=>t.index,()=>{u.value=null,f.value=!0}),(h,o)=>{const L=b("VSpinner");return n(),s("div",ae,[r("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:o[3]||(o[3]=k(()=>{},["stop"]))},[r("div",re,[f.value?(n(),x(L,{key:0})):p("",!0),u.value?(n(),s("div",{key:1,class:"flex flex-col justify-center",textContent:m(u.value)},null,8,le)):p("",!0),B(r("img",{ref_key:"imageElement",ref:v,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:d.value?.depictions?.map(c=>c.label).join(";"),src:d.value.original,onClick:o[0]||(o[0]=c=>a("close"))},null,8,ie),[[M,!u.value]]),e.next?(n(),x(K,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:o[1]||(o[1]=c=>a("next"))})):p("",!0),e.previous?(n(),x(W,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:o[2]||(o[2]=c=>a("previous"))})):p("",!0)])]),r("div",ce,[r("div",ue,[l(H,{class:"my-auto",depictions:d.value.depictions},null,8,["depictions"]),l(D,{class:"my-auto",attribution:d.value.attribution},null,8,["attribution"]),l(T,{class:"my-auto",source:d.value.source},null,8,["source"])]),r("div",de,[l(q,{class:"pb-2",current:e.index,images:e.images,onSelectIndex:o[4]||(o[4]=c=>a("selectIndex",c)),onClick:o[5]||(o[5]=k(()=>{},["stop"]))},null,8,["current","images"])])]),l(ee,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:I(()=>[l(se,{onClick:o[6]||(o[6]=c=>a("close"))})]),default:I(()=>[l(F,{"current-image":e.index,"total-images":e.images.length},null,8,["current-image","total-images"])]),_:1})])}}};export{pe as default};
